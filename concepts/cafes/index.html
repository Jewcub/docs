



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Encrypted, recoverable, schema-based, cross-application data storage built on IPFS and LibP2P.">
      
      
        <link rel="canonical" href="https://docs.textile.io/concepts/cafes/">
      
      
        <meta name="author" content="textile.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>Cafes - Textile Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.86c34351.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/textile.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="default" data-md-color-accent="default">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#services" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.textile.io/" title="Textile Docs" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo_pink.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Textile Docs
            </span>
            <span class="md-header-nav__topic">
              Cafes
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.textile.io/" title="Textile Docs" class="md-nav__button md-logo">
      
        <img src="../../images/logo_pink.svg" width="48" height="48">
      
    </a>
    Textile Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome!" class="md-nav__link">
      Welcome!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../a-tour-of-textile/" title="A Tour of Textile" class="md-nav__link">
      A Tour of Textile
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../the-wallet/" title="The Wallet" class="md-nav__link">
      The Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Threads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Threads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../threads/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../threads/files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Cafes
      </label>
    
    <a href="./" title="Cafes" class="md-nav__link md-nav__link--active">
      Cafes
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#services" title="Services" class="md-nav__link">
    Services
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup" title="Backup" class="md-nav__link">
    Backup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-inbox-ing" title="Message inbox-ing" class="md-nav__link">
    Message inbox-ing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-account-indexing" title="User account indexing" class="md-nav__link">
    User account indexing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-endpoints" title="Web endpoints" class="md-nav__link">
    Web endpoints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-thread-blocks" title="Request thread blocks" class="md-nav__link">
    Request thread blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decryption-service" title="Decryption service" class="md-nav__link">
    Decryption service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latest-thread-share" title="Latest thread share" class="md-nav__link">
    Latest thread share
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cafe-functions" title="Cafe functions" class="md-nav__link">
    Cafe functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying" title="Deploying" class="md-nav__link">
    Deploying
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/the-daemon/" title="The Daemon" class="md-nav__link">
      The Daemon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/desktop/" title="Desktop" class="md-nav__link">
      Desktop
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../the-http-api/" title="The HTTP API" class="md-nav__link">
      The HTTP API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Clients
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Clients
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/command-line/" title="Command-line" class="md-nav__link">
      Command-line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/js-http/" title="JavaScript HTTP" class="md-nav__link">
      JavaScript HTTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../the-config-file/" title="The Config File" class="md-nav__link">
      The Config File
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Policies
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/code-of-conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/privacy-policy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/terms-of-service/" title="Terms of Service" class="md-nav__link">
      Terms of Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#services" title="Services" class="md-nav__link">
    Services
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup" title="Backup" class="md-nav__link">
    Backup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-inbox-ing" title="Message inbox-ing" class="md-nav__link">
    Message inbox-ing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-account-indexing" title="User account indexing" class="md-nav__link">
    User account indexing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-endpoints" title="Web endpoints" class="md-nav__link">
    Web endpoints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-thread-blocks" title="Request thread blocks" class="md-nav__link">
    Request thread blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decryption-service" title="Decryption service" class="md-nav__link">
    Decryption service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latest-thread-share" title="Latest thread share" class="md-nav__link">
    Latest thread share
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cafe-functions" title="Cafe functions" class="md-nav__link">
    Cafe functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying" title="Deploying" class="md-nav__link">
    Deploying
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/textileio/docs/edit/master/docs/concepts/cafes.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Cafes</h1>
                
                <p><em>Cafe peers</em> (or just cafes) are <em>anonymous</em> and <em>disposable</em> infrastructure. They provide services on behalf of users and applications.</p>
<p>Access to cafe services is granted via JWT-based sessions, and initial registration with a cafe requires an access token. Any peer can operate as a cafe, though they work best for always-on peers. Cafes run an 'extra' network API that handles client and host requests over libp2p or HTTP.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>An account peer may be registered with more than one cafe, and account peers do not need to be registered to the same cafe(s). Additionally, peers can easily migrate from one cafe to another, simply be deregistering from one and registering with another.</p>
</div>
<h2 id="services">Services<a class="headerlink" href="#services" title="Permanent link">&para;</a></h2>
<h3 id="backup">Backup<a class="headerlink" href="#backup" title="Permanent link">&para;</a></h3>
<p>One of the primary functions of a cafe is to provide a recovery and new device sign-in mechanism to its <em>clients</em>. Once registered with a cafe, clients' data (which is, by default, encrypted) is automatically synced. This involves a combination of authenticated IPFS pinning and <a href="/concepts/threads">thread</a> snapshots. A thread snapshot contains only the metadata and latest known update hash (HEAD) needed to reconstruct the entire thread from scratch, and is encrypted with the client's <a href="/concepts/the-wallet#accounts">account</a> key. This means that cafes only issue encrypted backups and are <em>not</em> able to read their clients' threads. This also means that the snapshots are useless if a client loses their account key.</p>
<h3 id="message-inbox-ing">Message inbox-ing<a class="headerlink" href="#message-inbox-ing" title="Permanent link">&para;</a></h3>
<p>Very often, a peer is not online or is otherwise unreachable and therefore unable to receive a message (usually a <a href="/concepts/threads">thread</a> update message, or <a href="/concepts/threads#blocks">block</a>). In this failed state, the sender can send the message to the recipient's always-online cafe(s), ensuring the message is delivered when the recipient returns online. In practice, this means that, when available, cafe "inbox" addresses are attached to <a href="/concepts/contacts">contacts</a>, which get published to the network. This is sort of like your phone's voicemail service, but here you're in control of where the message is actually delivered. Most importantly, because the update messages are encrypted, you <em>do not</em> need to trust the cafe hosting the inbox.</p>
<h3 id="user-account-indexing">User account indexing<a class="headerlink" href="#user-account-indexing" title="Permanent link">&para;</a></h3>
<p>Textile provides tooling for certain types of network-wide queries, like user account search. Changes to a peer's public-facing <a href="/concepts/contacts">contact</a> is indexed and made query-able by its cafes. So, while you do not need to be registered with a cafe in order to leverage these queries, doing so may increase your chances of being discovered by others, assuming you local peer is periodically offline.</p>
<h3 id="web-endpoints">Web endpoints<a class="headerlink" href="#web-endpoints" title="Permanent link">&para;</a></h3>
<p>Every cafe also hosts an IPFS gateway. This is useful for building light-clients where they want to be able to request client generated content through the cafe where it is pinned. Here, we can embed the Textile logo via one of Textile's cafes.</p>
<p><code>https://gateway.textile.cafe/ipfs/&lt;cid&gt;</code></p>
<ul>
<li>cid: you can find a CID from any <code>ipfs add</code> command using the IPFS daemon. Alternatively, you can pull the <code>hash</code> parameter out of any block you create using a Textile thread. Blocks are encrypted by default, but you can read more about <a href="threads">/concepts/threads</a> to learn how to use <code>plaintext</code> for creating unencrypted thread files. </li>
</ul>
<p>Here is an example of an unencrypted thread file being shared over the Textile gateway.</p>
<p><a href="https://gateway.textile.cafe/ipfs/QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6/0/d"><img alt="" src="https://gateway.textile.cafe/ipfs/QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6/0/d" /></a></p>
<h4 id="request-thread-blocks">Request thread blocks<a class="headerlink" href="#request-thread-blocks" title="Permanent link">&para;</a></h4>
<p>Gateways can also be used to request raw metadata or file content from a thread's blocks. You'll need to know a little bit about the <a href="/concepts/threads">block ID and schema</a>. Specifically, you'll need to pull the <code>target</code> out of a block, as the target refers to directory on IPFS created by the block. </p>
<p>Here is how you request a block's contents over the gateway.</p>
<p><code>https://gateway.textile.cafe/ipfs/&lt;target_id&gt;</code></p>
<ul>
<li>target_id: comes from any block in a Textile thread. </li>
</ul>
<p>Here is a real example over the gateway. </p>
<p>[<a href="https://gateway.textile.cafe/ipfs/QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6">https://gateway.textile.cafe/ipfs/QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6</a>]</p>
<p>You can see that the contents are in a directory, the directory sturcture is decided by the thread schema. If your thread is encrypted (the default), the content of any file inside the directory will be unviewable over the normal IPFS gateway. See next.</p>
<h4 id="decryption-service">Decryption service<a class="headerlink" href="#decryption-service" title="Permanent link">&para;</a></h4>
<p>Gateways are primarily useful for sharing decrypted data or in cases where the client can efficiently decrypt data locally. However, in many cases the work of decrypting a file on IPFS can passed up to the cafe vie the decrypting endpoint. </p>
<p>Here, we request an image that is fully encrypted on IPFS but we are comfortable passing the key to a trusted cafe for remote decryption and file-deliver. A request to the decrypting enpoint looks like,</p>
<p><code>https://gateway.textile.cafe/ipfs/&lt;cid&gt;?key=&lt;key&gt;</code></p>
<ul>
<li>cid: same as above, either the IPFS hash or the block target including the path to the file you wish to decrypt.</li>
<li>key: the key to decrypt the file at path. A client can get access to a file's key at the time of block creation or by looking up an old block on any device with permission via a thread containing the block.</li>
</ul>
<p>Here's a real example of an encrypted image being embedded through the decrypting endpoint.</p>
<p><figure alt="Photo secrets revealed"><img src="https://cafe.us-east-1.textile.io/ipfs/QmY7ezUccNt3i7qnyhJWN8xKL6cDe7RkEQEViPd33TFfxj/photo?key=17q9mTWHjSOIjWiAoZxYy3cYTN917q9mUBhOu0mxr6YM" /><figcaption>Photo secrets revealed</figcaption></figure></p>
<h4 id="latest-thread-share">Latest thread share<a class="headerlink" href="#latest-thread-share" title="Permanent link">&para;</a></h4>
<p><em>Status Pending. We plan to support the ability to publish threads over Textile that can be tracked and exposed over cafes without needing full Textile clients. <a href="https://github.com/textileio/go-textile/issues/697">Follow on GitHub</a>.</em></p>
<h3 id="cafe-functions">Cafe functions<a class="headerlink" href="#cafe-functions" title="Permanent link">&para;</a></h3>
<p><em>Status Exploring. We are looking into the concept of offering serverless function support directly inside a cafe. Examples of serverless function uses include: publishing a webhook, updating an RSS feed, or triggering a push notification.</em></p>
<h2 id="deploying">Deploying<a class="headerlink" href="#deploying" title="Permanent link">&para;</a></h2>
<p>Cafes are easy to deploy &amp; manage (single executable, Docker). Start <a href="/install/the-daemon/#run-a-cafe-peer">here</a> to run your own.</p>
<p><br></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../threads/files/" title="Files" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Files
              </span>
            </div>
          </a>
        
        
          <a href="../../install/the-daemon/" title="The Daemon" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                The Daemon
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; Textile
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://textile.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/textileio" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/Textile01" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://medium.com/textileio" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://slack.textile.io" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.12aa63bf.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/sidebar.js"></script>
      
        <script src="../../search/main.js"></script>
      
    
  </body>
</html>