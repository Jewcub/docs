



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Encrypted, recoverable, schema-based, cross-application data storage built on IPFS and LibP2P.">
      
      
        <link rel="canonical" href="https://docs.textile.io/concepts/threads/files/">
      
      
        <meta name="author" content="textile.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>Files - Textile Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.86c34351.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/textile.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="default" data-md-color-accent="default">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#structure" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.textile.io/" title="Textile Docs" class="md-header-nav__button md-logo">
          
            <img src="../../../images/logo_pink.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Textile Docs
            </span>
            <span class="md-header-nav__topic">
              Files
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.textile.io/" title="Textile Docs" class="md-nav__button md-logo">
      
        <img src="../../../images/logo_pink.svg" width="48" height="48">
      
    </a>
    Textile Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Welcome!" class="md-nav__link">
      Welcome!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../a-tour-of-textile/" title="A Tour of Textile" class="md-nav__link">
      A Tour of Textile
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../the-wallet/" title="The Wallet" class="md-nav__link">
      The Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4" checked>
    
    <label class="md-nav__link" for="nav-3-4">
      Threads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Threads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Files
      </label>
    
    <a href="./" title="Files" class="md-nav__link md-nav__link--active">
      Files
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structure" title="Structure" class="md-nav__link">
    Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schemas" title="Schemas" class="md-nav__link">
    Schemas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encryption" title="Encryption" class="md-nav__link">
    Encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#presets" title="Presets" class="md-nav__link">
    Presets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#media" title="Media" class="md-nav__link">
    Media
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camera-roll" title="Camera Roll" class="md-nav__link">
    Camera Roll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avatars" title="Avatars" class="md-nav__link">
    Avatars
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-schemas" title="JSON Schemas" class="md-nav__link">
    JSON Schemas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-person" title="A "Person"" class="md-nav__link">
    A "Person"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logs" title="Logs" class="md-nav__link">
    Logs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-patch" title="JSON Patch" class="md-nav__link">
    JSON Patch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weather" title="Weather" class="md-nav__link">
    Weather
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mills" title="Mills" class="md-nav__link">
    Mills
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#endpoints" title="Endpoints" class="md-nav__link">
    Endpoints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blob" title="blob" class="md-nav__link">
    blob
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema" title="schema" class="md-nav__link">
    schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" title="json" class="md-nav__link">
    json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imageresize" title="image/resize" class="md-nav__link">
    image/resize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imageexif" title="image/exif" class="md-nav__link">
    image/exif
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cafes/" title="Cafes" class="md-nav__link">
      Cafes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Connectors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Connectors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/images/" title="Images & Media" class="md-nav__link">
      Images & Media
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/documents/" title="Documents" class="md-nav__link">
      Documents
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/the-daemon/" title="The Daemon" class="md-nav__link">
      The Daemon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/desktop/" title="Desktop" class="md-nav__link">
      Desktop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Develop
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Develop
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      Clients
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        Clients
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/clients/command-line/" title="Command-line" class="md-nav__link">
      Command-line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/clients/javascript/" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/clients/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/clients/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/clients/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/the-http-api/" title="The HTTP API" class="md-nav__link">
      The HTTP API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/ipfs-gateway/" title="IPFS Gateway" class="md-nav__link">
      IPFS Gateway
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../develop/peer-config-file/" title="Peer Config File" class="md-nav__link">
      Peer Config File
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Policies
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/code-of-conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/privacy-policy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/terms-of-service/" title="Terms of Service" class="md-nav__link">
      Terms of Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structure" title="Structure" class="md-nav__link">
    Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schemas" title="Schemas" class="md-nav__link">
    Schemas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encryption" title="Encryption" class="md-nav__link">
    Encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#presets" title="Presets" class="md-nav__link">
    Presets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#media" title="Media" class="md-nav__link">
    Media
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camera-roll" title="Camera Roll" class="md-nav__link">
    Camera Roll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avatars" title="Avatars" class="md-nav__link">
    Avatars
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-schemas" title="JSON Schemas" class="md-nav__link">
    JSON Schemas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-person" title="A "Person"" class="md-nav__link">
    A "Person"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logs" title="Logs" class="md-nav__link">
    Logs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-patch" title="JSON Patch" class="md-nav__link">
    JSON Patch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weather" title="Weather" class="md-nav__link">
    Weather
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mills" title="Mills" class="md-nav__link">
    Mills
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#endpoints" title="Endpoints" class="md-nav__link">
    Endpoints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blob" title="blob" class="md-nav__link">
    blob
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema" title="schema" class="md-nav__link">
    schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" title="json" class="md-nav__link">
    json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imageresize" title="image/resize" class="md-nav__link">
    image/resize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imageexif" title="image/exif" class="md-nav__link">
    image/exif
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/textileio/docs/edit/master/docs/concepts/threads/files.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Files</h1>
                
                <p>Any data added to a thread ends up as a <em>file</em>. Most of the time, a <a href="#schemas">schema</a> is used to define one or more types of data in a thread such that other users and applications can understand it. Currently, the following input types are available: Raw data blobs, images, EXIF data, and JSON documents.</p>
<h2 id="structure">Structure<a class="headerlink" href="#structure" title="Permanent link">&para;</a></h2>
<p>Thread data is built into an <a href="https://ipld.io/">IPLD</a> merkle DAG structure (similar to a <a href="https://en.wikipedia.org/wiki/Merkle_tree">merkle tree</a>) and stored separately from update <a href="/concepts/threads#blocks">blocks</a> on IPFS. A <code>FILES</code> block points to the top-level hash of a files DAG node.</p>
<p>The structure of files DAG nodes are determined by, and validated against, a <a href="#schemas">schema</a>. <strong>A thread can have only one schema</strong>. It has two main functions:</p>
<ol>
<li>Define a Thread's data DAG structure</li>
<li>Define the order of <em>mills</em> (transforms) needed to produce this structure from the input</li>
</ol>
<p>To illustrate these functions, take a look at the builtin <a href="#media"><em>media</em></a> schema. Each link (<code>large</code>, <code>small</code>, <code>thumb</code>) produces a resized and encrypted image by leveraging the <a href="#imageresize">image/resize</a> mill. Notice that the <code>thumb</code> link uses the <code>large</code> as input. This means that <code>large</code> will need to milled before <code>thumb</code>. Once you understand how schemas and mills work, you can design complex workflows and structures for your applications.</p>
<p>In addition to the transformed bytes, a mill will produce a file <em>metadata</em> object for every input:</p>
<div class="codehilite"><pre><span></span>message FileMeta {
    string mill                     = 1;  // Mill used to process the file (e.g., `/image/resize`, `/json`)
    string checksum                 = 2;  // Pre-milled (md5) checksum of the input file
    string source                   = 3;  // Source file CID
    string opts                     = 4;  // md5 checksum of input mill options
    string hash                     = 5;  // CID hash of milled file
    string key                      = 6;  // AES encryption key
    string media                    = 7;  // Media type (e.g., `&#39;application/json&#39;`, `&#39;image/jpeg&#39;`)
    string name                     = 8;  // Name of the input file
    int64 size                      = 9;  // Size of the milled file in bytes
    google.protobuf.Timestamp added = 10; // Date the file was added to the thread
    google.protobuf.Struct meta     = 11; // Additional metadata
    repeated string targets         = 12; // DAG targets the file belongs to (kept only by the local peer)
}
</pre></div>

<p>File metadata objects are what most applications will interact with. They are the objects listed by the Files and Feed APIs. These objects are also used internally for various functions. For example, because good encryption is not deterministic, an input's checksum is used to de-duplicate encrypted data.</p>
<p>At this point, it should be clear that adding data to a thread results in a DAG defined by a schema. But how exactly is the data stored so as to be programmatically accessible to thread consumers? Let's take a closer look at the DAG produced by the builtin media schema...</p>
<p><figure alt="A DAG node created by the built-in &quot;media&quot; schema."><img src="/images/files.png" /><figcaption>A DAG node created by the built-in "media" schema.</figcaption></figure></p>
<p>Note that a files target is by default a directory of indexes (<code>0</code>, <code>1</code>, etc.). This mean that you can add an entire folder of images (or whatever your data is) with a single update.</p>
<p>Also, each link (<code>large</code>, <code>small</code>, etc.) will <em>always</em> have the special <code>meta</code> and <code>content</code> sub-links, which correspond to the (usually encrypted) file metadata and content.</p>
<p>Below is a JSON representation of file indexes from a single image corresponding to say, file <code>0</code> above.</p>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;large&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
            <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;EqkWwbMQoSosYnu85XHpdTsM3NDKTRPk5j4RQjN6c4FZ&quot;</span><span class="p">,</span>
            <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;D4QdxGCAFnGwCHAQxrros1V6zEf78N4ugK3GwZyT5dTJ&quot;</span><span class="p">,</span>
            <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="s2">&quot;21uBAuSeQUdw5aDu5CYPxEfeiLVeuvku1T26nWtJC84C&quot;</span><span class="p">,</span>
            <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;QmcvoHe333KRf3tfNKrtrM7aMUVnrB4b1JyzhSFybepvqQ&quot;</span><span class="p">,</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;6cCnusZVHwp6udnKv3eYhurHK6ArJyFxCYRWTUFG8ZuMwSDwVbis9FUX3GRs&quot;</span><span class="p">,</span>
            <span class="nt">&quot;media&quot;</span><span class="p">:</span> <span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;clyde.jpg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;84222&quot;</span><span class="p">,</span>
            <span class="nt">&quot;added&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-03-17T01:20:17.061749Z&quot;</span><span class="p">,</span>
            <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
                    <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">800</span>
                <span class="p">},</span>
            <span class="nt">&quot;targets&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;small&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
            <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;7Gu5s6sZkwU8UQWwJNnJSrVY75ZkQG4bpQSwQPwkk8aX&quot;</span><span class="p">,</span>
            <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;D4QdxGCAFnGwCHAQxrros1V6zEf78N4ugK3GwZyT5dTJ&quot;</span><span class="p">,</span>
            <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="s2">&quot;CassDcqf192MnceweJKGJvhZfrV9kB3GJRbvNPWm6raa&quot;</span><span class="p">,</span>
            <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;QmZuD522rQiFE2GdbNXvzcQ3Ci6aLvvJtWz52a97iEDy9G&quot;</span><span class="p">,</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;29ce4pg64Lj78GuTauQDxeqpfdNCF7fNsJauS552wfpkEjegq8kQgwiNAzJQZ&quot;</span><span class="p">,</span>
            <span class="nt">&quot;media&quot;</span><span class="p">:</span> <span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;clyde.jpg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;18145&quot;</span><span class="p">,</span>
            <span class="nt">&quot;added&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-03-17T01:20:14.739531Z&quot;</span><span class="p">,</span>
            <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">240</span><span class="p">,</span>
                    <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">320</span>
                <span class="p">},</span>
            <span class="nt">&quot;targets&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;thumb&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
            <span class="nt">&quot;checksum&quot;</span><span class="p">:</span> <span class="s2">&quot;GzB1CWKkKQ5sWS8qQXDoBZxsfFgsgZwD9Z51qX5d7LGW&quot;</span><span class="p">,</span>
            <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;EqkWwbMQoSosYnu85XHpdTsM3NDKTRPk5j4RQjN6c4FZ&quot;</span><span class="p">,</span>
            <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="s2">&quot;7aGVJ7nGgmHdqv8oiEKZ2ZbrNBv1zVP3ADSuT2sW3MwT&quot;</span><span class="p">,</span>
            <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;QmUuXPhrtLJUzfuoJu7BkfiB2mGfKwq4ExTTF8gVUvAh2U&quot;</span><span class="p">,</span>
            <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;KfW8nTEZqh1NbAcmB51DMaooe34ujucx2DMqBwiz4xs9sDVhNDYNPratgtbf&quot;</span><span class="p">,</span>
            <span class="nt">&quot;media&quot;</span><span class="p">:</span> <span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;clyde.jpg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;2979&quot;</span><span class="p">,</span>
            <span class="nt">&quot;added&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-03-17T01:20:17.133863Z&quot;</span><span class="p">,</span>
            <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
                    <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">100</span>
                <span class="p">},</span>
            <span class="nt">&quot;targets&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk&quot;</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h2 id="schemas">Schemas<a class="headerlink" href="#schemas" title="Permanent link">&para;</a></h2>
<p>Schemas are used to create and validate the structure of thread files, defining their type and purpose for consumers (users and applications). For example, a photos application may create photo-based threads, a health application my create threads with medical records, etc. By treating schemas as first-class citizens, other applications are also able to understand and make use of these threads.</p>
<p>In practice, schemas have three distinct rolls:</p>
<ol>
<li>Provide instructions for how to transform or "mill" an input, e.g., given a photo, create three different sizes and discard the raw input (this is the <a href="#media">media</a> schema).</li>
<li>Define whether or not the resulting DAG nodes should be stored (pinned) on account peers.</li>
<li>Validate thread files from other participants, applying the same storage rules as in (2).</li>
</ol>
<p>The structure of a schema maps closely to the DAG nodes it creates (see below for examples). Highly complex nodes can be specified with dependencies between each link. A peer will automatically sort this 'graph' of dependencies (using <a href="https://en.wikipedia.org/wiki/Topological_sorting">topological sorting</a>) into a series of "steps". Each step is handled by a <a href="#mills"><em>mill</em></a>.</p>
<p>For example, consider a thread backed by the builtin <a href="#camera-roll">camera roll</a> schema. The following steps must be taken to add a photo:</p>
<ol>
<li>The raw photo is sent to the <em>blob</em> mill (passthrough) and encrypted. The next two steps can be done in parallel.</li>
<li>The output of (1) is stripped of EXIF data, resampled to a <code>thumb</code>nail size, and encrypted.</li>
<li>EXIF data is extracted and encrypted from the output of (1).</li>
<li>All of these output files (and their metadata) are added to IPFS in a single "folder" or DAG structure.</li>
</ol>
<h3 id="encryption">Encryption<a class="headerlink" href="#encryption" title="Permanent link">&para;</a></h3>
<p>Threads blocks and their links are always encrypted. However, <em>file</em> encryption is defined by schema nodes using the <code>"plaintext"</code> param and is on by default, i.e, <code>"plaintext": true</code> means "do not encrypt this node".</p>
<p>The <a href="/develop/ipfs-gateway/#decrypt-thread-files">decrypting gateway</a> can be used to decrypt files outside of a peer's API.</p>
<h3 id="presets">Presets<a class="headerlink" href="#presets" title="Permanent link">&para;</a></h3>
<p>There are several "preset" or builtin schemas, available for use from client libraries. <a href="https://textile.photos">Textile Photos</a> uses the <a href="#media">media</a> and <a href="#camera-roll">camera roll</a> presets.</p>
<h4 id="media">Media<a class="headerlink" href="#media" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Used for posting media intended for sharing</p>
</blockquote>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;media&quot;</span><span class="p">,</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;large&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;:file&quot;</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;800&quot;</span><span class="p">,</span>
        <span class="nt">&quot;quality&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span>
    <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;small&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;:file&quot;</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;320&quot;</span><span class="p">,</span>
        <span class="nt">&quot;quality&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;thumb&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;large&quot;</span><span class="p">,</span>
      <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span>
        <span class="nt">&quot;quality&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h4 id="camera-roll">Camera Roll<a class="headerlink" href="#camera-roll" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Used for backing up a mobile phone camera roll</p>
</blockquote>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;camera_roll&quot;</span><span class="p">,</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;raw&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;:file&quot;</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/blob&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;exif&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/exif&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;thumb&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span>
      <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;320&quot;</span><span class="p">,</span>
        <span class="nt">&quot;quality&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h4 id="avatars">Avatars<a class="headerlink" href="#avatars" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Used by the internal account thread for user avatar images</p>
</blockquote>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;avatar&quot;</span><span class="p">,</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;large&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;:file&quot;</span><span class="p">,</span>
      <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;plaintext&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;320&quot;</span><span class="p">,</span>
        <span class="nt">&quot;quality&quot;</span><span class="p">:</span> <span class="s2">&quot;75&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;small&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;:file&quot;</span><span class="p">,</span>
      <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;plaintext&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/image/resize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;opts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span>
        <span class="nt">&quot;quality&quot;</span><span class="p">:</span> <span class="s2">&quot;75&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h3 id="json-schemas">JSON Schemas<a class="headerlink" href="#json-schemas" title="Permanent link">&para;</a></h3>
<p>JSON-based schemas are defined using the <code>json_schema</code> property:</p>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;plaintext&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/json&quot;</span><span class="p">,</span>
    <span class="nt">&quot;json_schema&quot;</span><span class="p">:</span> <span class="err">...</span>
<span class="p">}</span>
</pre></div>

</details>
<p>Simply embed your <a href="https://json-schema.org/">JSON Schema</a> within the thread schemas.</p>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h4>
<h5 id="a-person">A "Person"<a class="headerlink" href="#a-person" title="Permanent link">&para;</a></h5>
<blockquote>
<p>The "Person" example from <a href="http://json-schema.org/learn/miscellaneous-examples.html">http://json-schema.org/learn/miscellaneous-examples.html</a></p>
</blockquote>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/json&quot;</span><span class="p">,</span>
  <span class="nt">&quot;json_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;$id&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/person.schema.json&quot;</span><span class="p">,</span>
    <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Person&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
    <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The person&#39;s first name.&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The person&#39;s last name.&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Age in years which must be equal to or greater than zero.&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
        <span class="nt">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h5 id="logs">Logs<a class="headerlink" href="#logs" title="Permanent link">&para;</a></h5>
<blockquote>
<p>BSD syslog protocol (<a href="https://tools.ietf.org/html/rfc3164">https://tools.ietf.org/html/rfc3164</a>)</p>
</blockquote>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;plaintext&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/json&quot;</span><span class="p">,</span>
  <span class="nt">&quot;json_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/Log&quot;</span><span class="p">,</span>
    <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
    <span class="nt">&quot;definitions&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;Log&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;hostname&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;pid&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;priority&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;priority&quot;</span><span class="p">,</span>
          <span class="s2">&quot;timestamp&quot;</span><span class="p">,</span>
          <span class="s2">&quot;hostname&quot;</span><span class="p">,</span>
          <span class="s2">&quot;application&quot;</span><span class="p">,</span>
          <span class="s2">&quot;pid&quot;</span><span class="p">,</span>
          <span class="s2">&quot;message&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h5 id="json-patch">JSON Patch<a class="headerlink" href="#json-patch" title="Permanent link">&para;</a></h5>
<p><a href="https://tools.ietf.org/html/rfc6902">RFC 6902</a></p>
<p>A schema for tracking JSON document modifications can be built with the <a href="https://tools.ietf.org/html/rfc6902">JSON Patch specification</a>:</p>
<blockquote>
<p>JSON Patch defines a JSON document structure for expressing a sequence of operations to apply to a JavaScript Object Notation (JSON) document...</p>
</blockquote>
<p>The JSON schema store provides <a href="http://json.schemastore.org/json-patch">one solution</a>:</p>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;plaintext&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/json&quot;</span><span class="p">,</span>
  <span class="nt">&quot;json_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON schema for JSONPatch files&quot;</span><span class="p">,</span>
    <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
    <span class="nt">&quot;items&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/operation&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;definitions&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;operation&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;op&quot;</span><span class="p">,</span>
          <span class="s2">&quot;path&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;allOf&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/path&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;oneOf&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">&quot;value&quot;</span>
            <span class="p">],</span>
            <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The operation to perform.&quot;</span><span class="p">,</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="nt">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="s2">&quot;add&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;replace&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;test&quot;</span>
                <span class="p">]</span>
              <span class="p">},</span>
              <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The value to add, replace or test.&quot;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The operation to perform.&quot;</span><span class="p">,</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="nt">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="s2">&quot;remove&quot;</span>
                <span class="p">]</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">&quot;from&quot;</span>
            <span class="p">],</span>
            <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;op&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The operation to perform.&quot;</span><span class="p">,</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="nt">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="s2">&quot;move&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;copy&quot;</span>
                <span class="p">]</span>
              <span class="p">},</span>
              <span class="nt">&quot;from&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A JSON Pointer path pointing to the location to move/copy from.&quot;</span><span class="p">,</span>
                <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A JSON Pointer path.&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h5 id="weather">Weather<a class="headerlink" href="#weather" title="Permanent link">&para;</a></h5>
<blockquote>
<p>A <a href="https://twitter.com/sanderpick/status/1068279840946585600">stream of forecasts from Dark Sky weather data</a></p>
</blockquote>
<details class="example" open="open"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;pin&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;mill&quot;</span><span class="p">:</span> <span class="s2">&quot;/json&quot;</span><span class="p">,</span>
  <span class="nt">&quot;json_schema&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
    <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/Forecast&quot;</span><span class="p">,</span>
    <span class="nt">&quot;definitions&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;Alert&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;description&quot;</span><span class="p">,</span>
          <span class="s2">&quot;expires&quot;</span><span class="p">,</span>
          <span class="s2">&quot;time&quot;</span><span class="p">,</span>
          <span class="s2">&quot;title&quot;</span><span class="p">,</span>
          <span class="s2">&quot;uri&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;expires&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;uri&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;Flags&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;units&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;units&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;Forecast&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;currently&quot;</span><span class="p">,</span>
          <span class="s2">&quot;code&quot;</span><span class="p">,</span>
          <span class="s2">&quot;flags&quot;</span><span class="p">,</span>
          <span class="s2">&quot;latitude&quot;</span><span class="p">,</span>
          <span class="s2">&quot;longitude&quot;</span><span class="p">,</span>
          <span class="s2">&quot;offset&quot;</span><span class="p">,</span>
          <span class="s2">&quot;timezone&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;items&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
              <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/Alert&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;currently&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
            <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/Weather&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;flags&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="p">,</span>
            <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;#/definitions/Flags&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;latitude&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;longitude&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;offset&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;timezone&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;Weather&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;apparentTemperature&quot;</span><span class="p">,</span>
          <span class="s2">&quot;apparentTemperatureMax&quot;</span><span class="p">,</span>
          <span class="s2">&quot;apparentTemperatureMaxTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;apparentTemperatureMin&quot;</span><span class="p">,</span>
          <span class="s2">&quot;apparentTemperatureMinTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;cloudCover&quot;</span><span class="p">,</span>
          <span class="s2">&quot;dewPoint&quot;</span><span class="p">,</span>
          <span class="s2">&quot;humidity&quot;</span><span class="p">,</span>
          <span class="s2">&quot;icon&quot;</span><span class="p">,</span>
          <span class="s2">&quot;nearestStormDistance&quot;</span><span class="p">,</span>
          <span class="s2">&quot;nearestStormBearing&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ozone&quot;</span><span class="p">,</span>
          <span class="s2">&quot;precipIntensity&quot;</span><span class="p">,</span>
          <span class="s2">&quot;precipIntensityMax&quot;</span><span class="p">,</span>
          <span class="s2">&quot;precipIntensityMaxTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;precipProbability&quot;</span><span class="p">,</span>
          <span class="s2">&quot;precipType&quot;</span><span class="p">,</span>
          <span class="s2">&quot;pressure&quot;</span><span class="p">,</span>
          <span class="s2">&quot;summary&quot;</span><span class="p">,</span>
          <span class="s2">&quot;sunriseTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;sunsetTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
          <span class="s2">&quot;temperatureMax&quot;</span><span class="p">,</span>
          <span class="s2">&quot;temperatureMaxTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;temperatureMin&quot;</span><span class="p">,</span>
          <span class="s2">&quot;temperatureMinTime&quot;</span><span class="p">,</span>
          <span class="s2">&quot;time&quot;</span><span class="p">,</span>
          <span class="s2">&quot;visibility&quot;</span><span class="p">,</span>
          <span class="s2">&quot;windBearing&quot;</span><span class="p">,</span>
          <span class="s2">&quot;windSpeed&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;apparentTemperature&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;apparentTemperatureMax&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;apparentTemperatureMaxTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;apparentTemperatureMin&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;apparentTemperatureMinTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;cloudCover&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;dewPoint&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;humidity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;icon&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;nearestStormBearing&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;nearestStormDistance&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;ozone&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;precipIntensity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;precipIntensityMax&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;precipIntensityMaxTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;precipProbability&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;precipType&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;pressure&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;summary&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;sunriseTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;sunsetTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;temperature&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;temperatureMax&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;temperatureMaxTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;temperatureMin&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;temperatureMinTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;visibility&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;windBearing&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;windSpeed&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</details>
<h2 id="mills">Mills<a class="headerlink" href="#mills" title="Permanent link">&para;</a></h2>
<p>The <code>meta</code> and <code>content</code> node pairs in a files DAG are generated by file <em>mills</em>. Mills serve three distinct purposes:</p>
<ol>
<li>Validate the input against accepted media types. The JSON mill will also validate the input against a <a href="https://json-schema.org/">JSON Schema</a>.</li>
<li>Transform the input data, e.g., encode, resample, encrypt, etc.</li>
<li>Index a metadata object (JSON) describing the transformed output. This allows thread content to be efficiently queried and provides a mechanism for de-duplicating encrypted data.</li>
</ol>
<h3 id="endpoints">Endpoints<a class="headerlink" href="#endpoints" title="Permanent link">&para;</a></h3>
<h4 id="blob"><code>blob</code><a class="headerlink" href="#blob" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Passthrough (output equals input)</p>
</blockquote>
<h4 id="schema"><code>schema</code><a class="headerlink" href="#schema" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Validate and returns a schema (JSON)</p>
</blockquote>
<h4 id="json"><code>json</code><a class="headerlink" href="#json" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Validates a JSON document against a <a href="https://json-schema.org/">JSON Schema</a></p>
</blockquote>
<h4 id="imageresize"><code>image/resize</code><a class="headerlink" href="#imageresize" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Resizes and/or resamples an input image</p>
</blockquote>
<h4 id="imageexif"><code>image/exif</code><a class="headerlink" href="#imageexif" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Extracts EXIF data from an input image</p>
</blockquote>
<p>Applications are free to define new mills. Simply conform to the <code>Mill</code> interface:</p>
<div class="codehilite"><pre><span></span><span class="kd">type</span> <span class="nx">Result</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">File</span> <span class="p">[]</span><span class="kt">byte</span>
    <span class="nx">Meta</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">Mill</span> <span class="kd">interface</span> <span class="p">{</span>
    <span class="nx">ID</span><span class="p">()</span> <span class="kt">string</span>
    <span class="nx">Encrypt</span><span class="p">()</span> <span class="kt">bool</span> <span class="c1">// encryption allowed</span>
    <span class="nx">Pin</span><span class="p">()</span> <span class="kt">bool</span>     <span class="c1">// pin by default</span>
    <span class="nx">AcceptMedia</span><span class="p">(</span><span class="nx">media</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span>
    <span class="nx">Options</span><span class="p">(</span><span class="nx">add</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
    <span class="nx">Mill</span><span class="p">(</span><span class="nx">input</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Result</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>We have planned support for audio and video mills. Let us know if there are other mill types you need, e.g., PDF, XML, etc.</p>
</div>
<p><br></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Introduction
              </span>
            </div>
          </a>
        
        
          <a href="../../cafes/" title="Cafes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Cafes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; Textile
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://textile.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/textileio" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/textileio" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://medium.com/textileio" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://slack.textile.io" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.12aa63bf.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../js/sidebar.js"></script>
      
        <script src="../../../search/main.js"></script>
      
    
  </body>
</html>