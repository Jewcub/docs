



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Encrypted, recoverable, schema-based, cross-application data storage built on IPFS and LibP2P.">
      
      
        <link rel="canonical" href="https://docs.textile.io/concepts/threads/">
      
      
        <meta name="author" content="textile.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>Introduction - Textile Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.86c34351.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/textile.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="default" data-md-color-accent="default">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#conflict-avoidanceresolution" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.textile.io/" title="Textile Docs" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo_pink.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Textile Docs
            </span>
            <span class="md-header-nav__topic">
              Introduction
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.textile.io/" title="Textile Docs" class="md-nav__button md-logo">
      
        <img src="../../images/logo_pink.svg" width="48" height="48">
      
    </a>
    Textile Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome!" class="md-nav__link">
      Welcome!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../a-tour-of-textile/" title="A Tour of Textile" class="md-nav__link">
      A Tour of Textile
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../the-wallet/" title="The Wallet" class="md-nav__link">
      The Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4" checked>
    
    <label class="md-nav__link" for="nav-3-4">
      Threads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Threads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Introduction
      </label>
    
    <a href="./" title="Introduction" class="md-nav__link md-nav__link--active">
      Introduction
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#conflict-avoidanceresolution" title="Conflict Avoidance/Resolution" class="md-nav__link">
    Conflict Avoidance/Resolution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thread-types" title="Thread Types" class="md-nav__link">
    Thread Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-control-sharing-control" title="Access Control &amp; Sharing Control" class="md-nav__link">
    Access Control &amp; Sharing Control
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-the-command-line" title="From the Command-line" class="md-nav__link">
    From the Command-line
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cafes/" title="Cafes" class="md-nav__link">
      Cafes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/the-daemon/" title="The Daemon" class="md-nav__link">
      The Daemon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/desktop/" title="Desktop" class="md-nav__link">
      Desktop
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../the-http-api/" title="The HTTP API" class="md-nav__link">
      The HTTP API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../ipfs-gateway/" title="IPFS Gateway" class="md-nav__link">
      IPFS Gateway
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Clients
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Clients
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/command-line/" title="Command-line" class="md-nav__link">
      Command-line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/js-http/" title="JavaScript HTTP" class="md-nav__link">
      JavaScript HTTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../clients/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../the-config-file/" title="The Config File" class="md-nav__link">
      The Config File
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Policies
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/code-of-conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/privacy-policy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/terms-of-service/" title="Terms of Service" class="md-nav__link">
      Terms of Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#conflict-avoidanceresolution" title="Conflict Avoidance/Resolution" class="md-nav__link">
    Conflict Avoidance/Resolution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thread-types" title="Thread Types" class="md-nav__link">
    Thread Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-control-sharing-control" title="Access Control &amp; Sharing Control" class="md-nav__link">
    Access Control &amp; Sharing Control
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-the-command-line" title="From the Command-line" class="md-nav__link">
    From the Command-line
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/textileio/docs/edit/master/docs/concepts/threads/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Introduction</h1>
                
                <p>Threads are built into the fabric of Textile as a way to allow group members to keep a record of who shared what data, and when. This simple concept is actually quite powerful — and on the surface, you can think of a Thread like a decentralized database, shared between specific participants. Threads are defined by schemas and contain blocks of information (or updates). They are specifically designed to work well in mobile, offline-first scenarios, where peers are constantly making updates, coming online, and going offline. This means avoiding state conflicts is a central focus of their operation. This issue comes up frequently when working collaboratively on documents, updating shared databases, etc.</p>
<h2 id="conflict-avoidanceresolution">Conflict Avoidance/Resolution<a class="headerlink" href="#conflict-avoidanceresolution" title="Permanent link">&para;</a></h2>
<p>For the purposes of updating a shared Thread of photos or similar data, it turns out that an <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type">operation-based CRDT</a> that supports append-only operations is pretty much all you need to get going. You can think of Textile's Threads CRDT (which shares some ideas with <code>ipfs-log</code>) setup as an immutable, append-only tree that can be used to model a mutable, shared state between peers. Every entry in the tree is saved on IPFS, and each points to a hash of previous entry(ies) forming a graph. These trees can be <a href="https://www.atlassian.com/git/tutorials/using-branches/git-merge">3-way and fast-forward merged</a>.</p>
<p>For those familiar with git and other similar system, you might be thinking this sounds a lot like a <a href="https://blog.thoughtram.io/git/2014/11/18/the-anatomy-of-a-git-commit.html#meet-the-tree-object">git hash tree</a>, <a href="https://twitter.com/Textile01/status/1004436869734543360">Merkle DAG</a>, or even a <a href="https://en.wikipedia.org/wiki/Blockchain">blockchain</a>. And you’d be right! The concepts are very similar, and this buys us some really nice properties for building and maintaining a shared state. By modeling our shared Thread state in this way, we benefit from tried and tested methods for allowing a peer to incorporate other peers' updates into their state while maintaining history (via fast-forwards and three-way merging for example).</p>
<p>Each Thread is essentially a chain of updates, where each update represents some specific action or event (see [[Blocks|Blocks]] for details). For instance, when you create a new Thread, under-the-hood you are actually creating a <code>JOIN</code> update on a new Thread chain. Similarly, when you update the Thread via a new photo (<code>FILES</code> update), or message (<code>MESSAGE</code> update), you're actually updating that Thread chain. After each modification, the <code>HEAD</code> of the Thread will point to the latest update.</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>To give you a better idea of what exactly we're talking about, consider the following set of operations: User A creates a new Thread, and adds a Photo. They then externally invite User B (sent via some other secure communication channel), who eventually joins the Thread. But before User B is able to join the Thread, User A adds another Photo, moving the Thread’s HEAD forward. By the time User B joins the Thread, they'd end up with a Thread sequence that looks something like this:</p>
<p><figure alt="Thread join example. Solid arrows point towards the ‘parent’ of a given update, over-the-wire communications are indicated with a 📶-style arrow, and messages that are rebroadcast (e.g., via the welcome message) are indicated with a dashed arrow. Similarly, merges point to both their parent updates."><img src="https://cdn-images-1.medium.com/max/2400/1*h9eNwOauuT7mMeS4o-yGbw.png" /><figcaption>Thread join example. Solid arrows point towards the ‘parent’ of a given update, over-the-wire communications are indicated with a 📶-style arrow, and messages that are rebroadcast (e.g., via the welcome message) are indicated with a dashed arrow. Similarly, merges point to both their parent updates.</figcaption></figure></p>
<blockquote>
<p>Thread join example. Solid arrows point towards the 'parent' of a given update, over-the-wire communications are indicated with a 📶-style arrow, and messages that are rebroadcast (e.g., via the welcome message) are indicated with a dashed arrow. Similarly, merges point to both their parent updates.</p>
</blockquote>
<p>Here, we see the merge happening at the end of the sequence because the bottom peer is joining via an external invite that is no longer HEAD , forcing them to merge the most recent DATA update with their own JOIN update. But since merge results are deterministic (given the same parents), both peers create the MERGE update locally, and do not broadcast them to avoid trading merges back and forth.</p>
<p>A more complete sequence is given in the following figure. Suppose User A goes 'offline' (e.g., their phone goes to sleep, they shut down the app, they lose their data connection, etc), and in the mean time, both Users A and B update the Thread, with User A adding an <code>ANNOTATION</code> update, and User B adding a new Photo (<code>FILES</code> update). Now, when User A comes back online, there is a conflict, and both Users create a MERGE update to remedy this. A <code>MERGE</code> update has two parents, in this case, the <code>FILES</code> and <code>ANNOTATION</code> update from the different users. As always, the HEAD continues to point to the latest update (which in the example below eventually becomes an <code>ANNOTATION</code> from User B). Once both peers are online again, the more straightforward update and transmit mode of operation can continue.</p>
<p><figure alt="More complex Thread interaction where one or more peers are temporarily offline. Note that an external invite is the same as a normal invite, but the invite details are encrypted with a single use key, which is sharable with the invite update location."><img src="https://cdn-images-1.medium.com/max/1600/1*3EuEtFHqUtALTczIeZ8_eg.png" /><figcaption>More complex Thread interaction where one or more peers are temporarily offline. Note that an external invite is the same as a normal invite, but the invite details are encrypted with a single use key, which is sharable with the invite update location.</figcaption></figure></p>
<blockquote>
<p>More complex Thread interaction where one or more peers are temporarily offline. Note that an external invite is the same as a normal invite, but the invite details are encrypted with a single use key, which is sharable with the invite update location.</p>
</blockquote>
<p>The same properties that make hash trees or blockchains useful for developing a shared, consistent (consensus-driven) state, also makes it possible to recover the full state of a Thread from the network as a whole. Because each Thread update references its parent(s), given a single point on the Thread chain, we can trace back all the way to the beginning of the Thread. For example, at any point along the sequence in the above figures, a peer can trace back the history of the Thread, as indicated by the solid arrows. This works particularly nicely when a peer <code>JOIN</code>s a thread, even at a point prior to the current <code>HEAD</code>. They can simply <code>JOIN</code>, and any existing Thread member can send them the latest <code>HEAD</code> (even via offline messages if needed). From here, they can explore the entire history of the Thread with ease. This is all really similar to git commit speak, in which one only needs to know about a single commit to be able to trace back the entire history of a code project; it’s also essentially how blockchains work.</p>
<h2 id="thread-types">Thread Types<a class="headerlink" href="#thread-types" title="Permanent link">&para;</a></h2>
<p>Currently, Textile supports four types of Threads, 'private', 'read_only', 'public', or 'open' to support different levels of <em>Access Control</em>. As you might have guessed, private Threads are only accessible via the account that created them, and may be used for <em>internal</em> or app-based applications such as tracking different account devices, or <em>user</em>-specific applications such as a private camera-roll. Similarly, read_only Threads are accessible to any peer that has been invited to the Thread, but only the <em>initiator</em> can actually modify the Thread in any way, whereas public Threads support annotations by <em>non-initiators</em>. These types of Threads are useful for public, one-way consumable feeds. Conversely, an open Thread is one in which any peer that has been invited to join the Thread can modify it, invite others, etc. These are the most common type of Thread. They can support things like multi-way chat, community-curated feeds, and are currently used in Textile Photos for private groups to share photos.</p>
<p>In addition to Thread Types for Access Control, Textile supports <em>Thread Sharing</em> for Sharing Control. When configuring a Thread, a <code>Type</code> field specifies the Thread type as specified above ('private', 'read_only', 'public', or 'open'.), and a <code>Sharing</code> field specifies if sharing is allowed and by whom. Options include 'not-shared', 'invite-only', and 'shared'. For 'not-shared', the Thread is pinned to a given set of "members", whereas 'invite-only' means only the initiator can invite additional peers. The least restrictive option ('shared') means that any existing member of the Thread may share/invite the Thread with others. Finally, an additional <code>Members</code> field, can be used to control which peers are able to join a given Thread. If this field is left empty, then all peers are potential members, and invites are governed entirely by the <code>Sharing</code> field. If this field contains one or more peers, then only those peers are permitted to interact with the given Thread. It is important to note that an invite-only Thread with a fixed members list means that invites can only be sent to the member list by the initiator, whereas an invite-only Thread with an empty member list means that invites can be sent to anyone by the initiator. This is important because <em>all</em> members of a Thread should expect that the member list is <em>either</em> fixed or not. For example, imagine a 1-1 conversation where the other peer invites a stranger in. If you had joined with the notion that the initiator <em>could</em> invite others (not fixed member list) then you might expect that could happen and behave slightly differently? To help illustrate the restrictions these fields provide, here is a table to give a rough idea of the available options:</p>
<h3 id="access-control-sharing-control">Access Control &amp; Sharing Control<a class="headerlink" href="#access-control-sharing-control" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>Thread Type controls read (R), annotate (A), and write (W) access:

private   --&gt; initiator: RAW, members:
read-only --&gt; initiator: RAW, members: R
public    --&gt; initiator: RAW, members: RA
open      --&gt; initiator: RAW, members: RAW

Thread Sharing style controls if (Y/N) a thread can be shared:

not-shared  --&gt; initiator: N, members: N
invite-only --&gt; initiator: Y, members: N
shared      --&gt; initiator: Y, members: Y
</pre></div>

<p>For example, a personal camera roll backup might be private and not-shared, whereas an open group (default in Textile Photos app) would be open <em>and</em> shared. Alternatively, you could support a 'closed' group by using an open, but invite-only Thread. With three 'knobs' to adjust, the combination of Thread types is quite extensive, and may facilitate new and interesting types of interactions. We do not pretend to have uses for all combinations, and some combinations may be redundant, or even contradicting in some cases (for example, an 'open', 'shared' Thread with a 'members' list of 1 is essentially just a private Thread, because membership trumps the other options).</p>
<h2 id="from-the-command-line">From the Command-line<a class="headerlink" href="#from-the-command-line" title="Permanent link">&para;</a></h2>
<p>From the command-line, Threads can be added, listed, accessed, removed, and their members can be queried. See <code>textile theads --help</code> for details. The most basic operation, adding a new Thread, takes multiple (mostly optional) inputs, and produces a new, empty Thread. Inputs can include a <code>key</code>, which is a locally unique key used by an app to identify this thread on recovery, a <code>type</code>, which sets the thread type as discussed above, a <code>sharing</code> option, which controls the sharing control as discussed above, and a <code>member</code> option to control Thread membership. This one can be used multiple times to include multiple peers, or left blank to include any/all peers. The additional options, <code>schema</code>, <code>media</code>, and <code>camera-roll</code> are used to control the [[Schema|Schemas]] used for the Thread, and are discussed elsewhere.</p>
<div class="codehilite"><pre><span></span>$ textile threads add --type &#39;open&#39; --sharing &#39;shared&#39; --media &quot;My Open+Shared+Media Thread&quot;
{
    &quot;id&quot;: &quot;blahblahblahblahblahblahblahblah&quot;,
    &quot;key&quot;: &quot;somelongalphanumerickey&quot;,
    &quot;name&quot;: &quot;My Open+Shared+Media Thread&quot;,
    &quot;schema&quot;: {
        &quot;name&quot;: &quot;media&quot;,
        &quot;pin&quot;: true,
        &quot;plaintext&quot;: false,
        &quot;links&quot;: {
            &quot;large&quot;: {
                &quot;use&quot;: &quot;:file&quot;,
                &quot;pin&quot;: false,
                &quot;plaintext&quot;: false,
                &quot;mill&quot;: &quot;/image/resize&quot;,
                &quot;opts&quot;: {
                    &quot;quality&quot;: &quot;80&quot;,
                    &quot;width&quot;: &quot;800&quot;
                }
            },
            &quot;small&quot;: {
                &quot;use&quot;: &quot;:file&quot;,
                &quot;pin&quot;: false,
                &quot;plaintext&quot;: false,
                &quot;mill&quot;: &quot;/image/resize&quot;,
                &quot;opts&quot;: {
                    &quot;quality&quot;: &quot;80&quot;,
                    &quot;width&quot;: &quot;320&quot;
                }
            },
            &quot;thumb&quot;: {
                &quot;use&quot;: &quot;large&quot;,
                &quot;pin&quot;: true,
                &quot;plaintext&quot;: false,
                &quot;mill&quot;: &quot;/image/resize&quot;,
                &quot;opts&quot;: {
                    &quot;quality&quot;: &quot;80&quot;,
                    &quot;width&quot;: &quot;100&quot;
                }
            }
        }
    },
    &quot;schema_id&quot;: &quot;Qmblahblablablahbnlajbnlajlk&quot;,
    &quot;initiator&quot;: &quot;P4blahblahblahblahbla&quot;,
    &quot;type&quot;: &quot;OPEN&quot;,
    &quot;sharing&quot;: &quot;SHARED&quot;,
    &quot;state&quot;: &quot;LOADED&quot;,
    &quot;peer_cnt&quot;: 1,
    &quot;block_cnt&quot;: 1,
    &quot;file_cnt&quot;: 0
}
</pre></div>

<p><br></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../contacts/" title="Contacts" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Contacts
              </span>
            </div>
          </a>
        
        
          <a href="files/" title="Files" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Files
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; Textile
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://textile.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/textileio" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/Textile01" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://medium.com/textileio" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://slack.textile.io" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.12aa63bf.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/sidebar.js"></script>
      
        <script src="../../search/main.js"></script>
      
    
  </body>
</html>