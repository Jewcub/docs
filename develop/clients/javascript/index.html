



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Encrypted, recoverable, schema-based, cross-application data storage built on IPFS and LibP2P.">
      
      
        <link rel="canonical" href="https://docs.textile.io/develop/clients/javascript/">
      
      
        <meta name="author" content="textile.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>JavaScript - Textile Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.86c34351.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/textile.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="default" data-md-color-accent="default">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#installation" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.textile.io/" title="Textile Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../../images/logo_pink.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Textile Documentation
            </span>
            <span class="md-header-nav__topic">
              JavaScript
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.textile.io/" title="Textile Documentation" class="md-nav__button md-logo">
      
        <img src="../../../images/logo_pink.svg" width="48" height="48">
      
    </a>
    Textile Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Welcome!" class="md-nav__link">
      Welcome!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/the-daemon/" title="The Daemon" class="md-nav__link">
      The Daemon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/desktop/" title="Desktop" class="md-nav__link">
      Desktop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install/apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../a-tour-of-textile/" title="A Tour of Textile" class="md-nav__link">
      A Tour of Textile
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/the-wallet/" title="The Wallet" class="md-nav__link">
      The Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Threads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Threads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/threads/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/threads/files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/cafes/" title="Cafes" class="md-nav__link">
      Cafes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/search/" title="Search" class="md-nav__link">
      Search
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Connectors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Connectors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/images/" title="Images & Media" class="md-nav__link">
      Images & Media
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/documents/" title="Documents" class="md-nav__link">
      Documents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/games/" title="Games" class="md-nav__link">
      Games
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Develop
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Develop
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1" checked>
    
    <label class="md-nav__link" for="nav-6-1">
      Clients
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        Clients
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../command-line/" title="Command-line" class="md-nav__link">
      Command-line
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        JavaScript
      </label>
    
    <a href="./" title="JavaScript" class="md-nav__link md-nav__link--active">
      JavaScript
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#npm" title="NPM" class="md-nav__link">
    NPM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn" title="Yarn" class="md-nav__link">
    Yarn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typescript" title="TypeScript" class="md-nav__link">
    TypeScript
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-the-js-client" title="Initialize the JS Client" class="md-nav__link">
    Initialize the JS Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-the-account-display-name" title="Get the account display name" class="md-nav__link">
    Get the account display name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-to-file-updates" title="Subscribe to file updates" class="md-nav__link">
    Subscribe to file updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-to-raw-ipfs-pubsub-topic" title="Subscribe to raw ipfs pubsub topic" class="md-nav__link">
    Subscribe to raw ipfs pubsub topic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-chronological-thread-updates" title="Fetch chronological thread updates" class="md-nav__link">
    Fetch chronological thread updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-thread" title="Create a thread" class="md-nav__link">
    Create a thread
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-file" title="Add a file" class="md-nav__link">
    Add a file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#files-stored-as-blobs" title="Files stored as blobs" class="md-nav__link">
    Files stored as blobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-file" title="Get a file" class="md-nav__link">
    Get a file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#files-stored-as-blobs_1" title="Files stored as blobs" class="md-nav__link">
    Files stored as blobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-with-redux-saga" title="Use with redux-saga" class="md-nav__link">
    Use with redux-saga
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-thread_1" title="Create a thread" class="md-nav__link">
    Create a thread
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-file-content" title="Get file content" class="md-nav__link">
    Get file content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#live-playground" title="Live playground" class="md-nav__link">
    Live playground
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-documentation" title="API Documentation" class="md-nav__link">
    API Documentation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../the-http-api/" title="The HTTP API" class="md-nav__link">
      The HTTP API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ipfs-gateway/" title="IPFS Gateway" class="md-nav__link">
      IPFS Gateway
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../peer-config-file/" title="Peer Config File" class="md-nav__link">
      Peer Config File
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Policies
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/code-of-conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/privacy-policy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/terms-of-service/" title="Terms of Service" class="md-nav__link">
      Terms of Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../policies/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#npm" title="NPM" class="md-nav__link">
    NPM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn" title="Yarn" class="md-nav__link">
    Yarn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typescript" title="TypeScript" class="md-nav__link">
    TypeScript
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-the-js-client" title="Initialize the JS Client" class="md-nav__link">
    Initialize the JS Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-the-account-display-name" title="Get the account display name" class="md-nav__link">
    Get the account display name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-to-file-updates" title="Subscribe to file updates" class="md-nav__link">
    Subscribe to file updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-to-raw-ipfs-pubsub-topic" title="Subscribe to raw ipfs pubsub topic" class="md-nav__link">
    Subscribe to raw ipfs pubsub topic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-chronological-thread-updates" title="Fetch chronological thread updates" class="md-nav__link">
    Fetch chronological thread updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-thread" title="Create a thread" class="md-nav__link">
    Create a thread
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-file" title="Add a file" class="md-nav__link">
    Add a file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#files-stored-as-blobs" title="Files stored as blobs" class="md-nav__link">
    Files stored as blobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-file" title="Get a file" class="md-nav__link">
    Get a file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#files-stored-as-blobs_1" title="Files stored as blobs" class="md-nav__link">
    Files stored as blobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-with-redux-saga" title="Use with redux-saga" class="md-nav__link">
    Use with redux-saga
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-thread_1" title="Create a thread" class="md-nav__link">
    Create a thread
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-file-content" title="Get file content" class="md-nav__link">
    Get file content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#live-playground" title="Live playground" class="md-nav__link">
    Live playground
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-documentation" title="API Documentation" class="md-nav__link">
    API Documentation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/textileio/docs/edit/master/docs/develop/clients/javascript.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>JavaScript</h1>
                
                <p>The JS HTTP Client was designed to work in the browser, using Node.js, or in Electron.</p>
<p>To use the JS HTTP Client, you'll need either a locally running <a href="/install/the-daemon">Daemon</a> or a locally running <a href="/install/desktop">Desktop Tray</a> instance containing a Textile account and available on <code>localhost</code> with default ports for both the <code>API</code> and <code>Gateway</code>.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p><strong>Deprecation Warning</strong></p>
<p>Textile Threads v1 are being deprecated. Please follow our ongoing work on v2 on both the <a href="https://github.com/textileio/go-threads">go-threads repo</a>.</p>
<p>For instructions on running the v2 JavaScript client library, <a href="https://github.com/textileio/js-threads-client">see here</a>.</p>
</div>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>The JS HTTP Client is published as an <a href="https://www.npmjs.com/package/@textile/js-http-client">NPM Package</a>. You are free to use the <a href="https://github.com/textileio/js-http-client">source code</a> directly or use a package manager to install the official release.</p>
<h4 id="npm">NPM<a class="headerlink" href="#npm" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nx">npm</span> <span class="nx">install</span> <span class="err">@</span><span class="nx">textile</span><span class="o">/</span><span class="nx">js</span><span class="o">-</span><span class="nx">http</span><span class="o">-</span><span class="nx">client</span>
</pre></div>

<h4 id="yarn">Yarn<a class="headerlink" href="#yarn" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nx">yarn</span> <span class="nx">add</span> <span class="err">@</span><span class="nx">textile</span><span class="o">/</span><span class="nx">js</span><span class="o">-</span><span class="nx">http</span><span class="o">-</span><span class="nx">client</span>
</pre></div>

<h2 id="typescript">TypeScript<a class="headerlink" href="#typescript" title="Permanent link">&para;</a></h2>
<p>We strongly recommend using <a href="https://www.typescriptlang.org/">TypeScript</a> if you plan to use the JS Client in your project. The JS Client's endpoints are all typed and those types are available to projects that support them. Because Textile libraries are rapidly developing, this will make your upgrade process much easier and faster.</p>
<p>If you don't normally use TypeScript in your projects, never fear, it will be very familiar and only takes a few steps to setup.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We recommend <a href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">TypeScript in 5 minutes</a> as a good place to start if you are totally new to TypeScript.</p>
</div>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="initialize-the-js-client">Initialize the JS Client<a class="headerlink" href="#initialize-the-js-client" title="Permanent link">&para;</a></h3>
<p>The JS HTTP Client does not maintain any state for your app, it simply provides easy to use APIs so your app can interact with your user's Textile account. You import the library in any library simply.</p>
<div class="codehilite"><pre><span></span><span class="c1">// No initialization needed, only import</span>
<span class="kr">import</span> <span class="nx">textile</span> <span class="nx">from</span> <span class="s2">&quot;@textile/js-http-client&quot;</span>
</pre></div>

<p>Below are some basic examples to get you started. If you are interested in a more thorough walk-through, check out the <a href="/a-tour-of-textile">Tour of Textile's</a> examples using the JS HTTP Client.</p>
<h3 id="get-the-account-display-name">Get the account display name<a class="headerlink" href="#get-the-account-display-name" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">profile</span><span class="p">.</span><span class="nx">name</span><span class="p">()</span>
</pre></div>

<h3 id="subscribe-to-file-updates">Subscribe to file updates<a class="headerlink" href="#subscribe-to-file-updates" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="c1">// The js-http-client returns a `ReadableStream` to be accessed by the caller</span>
<span class="c1">// See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details</span>
<span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">.</span><span class="nx">stream</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">reader</span> <span class="o">=</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">getReader</span><span class="p">()</span>
<span class="kr">const</span> <span class="nx">read</span> <span class="o">=</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="c1">// ReadableStreamReadResult&lt;FeedItem&gt;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span>
  <span class="p">}</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reader</span><span class="p">.</span><span class="nx">cancel</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span>
    <span class="k">return</span>
  <span class="p">}</span>
  <span class="nx">read</span><span class="p">(</span><span class="nx">await</span> <span class="nx">reader</span><span class="p">.</span><span class="nx">read</span><span class="p">())</span>
<span class="p">}</span>
<span class="nx">read</span><span class="p">(</span><span class="nx">await</span> <span class="nx">reader</span><span class="p">.</span><span class="nx">read</span><span class="p">())</span>
</pre></div>

<h3 id="subscribe-to-raw-ipfs-pubsub-topic">Subscribe to raw ipfs pubsub topic<a class="headerlink" href="#subscribe-to-raw-ipfs-pubsub-topic" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nx">useEventSource</span> <span class="o">=</span> <span class="nx">EventSource</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">queryId</span><span class="p">,</span>
    <span class="nx">queryHandle</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">ipfs</span><span class="p">.</span><span class="nx">pubsubSub</span><span class="p">(</span><span class="s1">&#39;SomeTopicEgThreadId&#39;</span><span class="p">,</span> <span class="nx">useEventSource</span><span class="p">);</span>
<span class="c1">// note: The second param of js_http_client pubsubSub() is optional, so all code here is</span>
<span class="nx">also</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">used</span> <span class="k">in</span> <span class="nx">react_native</span>

<span class="kd">let</span> <span class="nx">allEventsAndQueryHandle</span> <span class="o">=</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addPubsubQueryResultListener</span><span class="p">((</span><span class="nx">queryId</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">messageId</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">queryId</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">messageId</span><span class="p">);</span>
<span class="p">},</span> <span class="nx">queryId</span><span class="p">,</span> <span class="nx">queryHandle</span><span class="p">);</span>
<span class="c1">// note: For easy to use, allEventsAndQueryHandle.cancel() will remove all events added in</span>
<span class="c1">//           addPubsubQueryResultListener()</span>
<span class="c1">//           addQueryDoneListener()</span>
<span class="c1">//           addQueryErrorListener()</span>
<span class="c1">//      and cancel queryHandle automatically</span>

<span class="nx">doneEvent</span> <span class="o">=</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addQueryDoneListener</span><span class="p">((</span><span class="nx">queryId</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">&#39;doneEvent&#39;</span><span class="p">,</span> <span class="nx">queryId</span><span class="p">);</span>
    <span class="c1">// For easy to use, it&#39;s no need to run allEventsAndQueryHandle.cancel() or doneEvent.cancel()</span>
    <span class="c1">// here, because they are already canceled automatically when this event happend and</span>
    <span class="c1">// finally call this callback function of QueryDoneListener</span>
<span class="p">},</span> <span class="nx">queryId</span><span class="p">);</span>
<span class="c1">// note: User can use doneEvent.cancel() at any other place as wish to just cancel QueryDoneListener</span>

<span class="k">this</span><span class="p">.</span><span class="nx">errorEvent</span> <span class="o">=</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addQueryErrorListener</span><span class="p">((</span><span class="nx">queryId</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">&#39;errorEvent&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="c1">// It&#39;s up to user to determin what to do (e.g. allEventsAndQueryHandle.cancel() or just continue?)</span>
    <span class="c1">// when error happend</span>
<span class="p">},</span> <span class="nx">queryId</span><span class="p">);</span>
<span class="c1">// note: User can use errorEvent.cancel() at any other place as wish to just cancel QueryErrorListener</span>
</pre></div>

<h3 id="fetch-chronological-thread-updates">Fetch chronological thread updates<a class="headerlink" href="#fetch-chronological-thread-updates" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">feed</span><span class="p">.</span><span class="nx">list</span><span class="p">(</span><span class="s2">&quot;&lt;thread-id&gt;&quot;</span><span class="p">)</span>
</pre></div>

<h3 id="create-a-thread">Create a thread<a class="headerlink" href="#create-a-thread" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">thread</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">threads</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;Basic&quot;</span><span class="p">)</span>
</pre></div>

<h3 id="add-a-file">Add a file<a class="headerlink" href="#add-a-file" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">files</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span> <span class="nx">latitude</span><span class="o">:</span> <span class="mf">48.858093</span><span class="p">,</span> <span class="nx">longitude</span><span class="o">:</span> <span class="mf">2.294694</span> <span class="p">},</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;thread-id&gt;&quot;</span><span class="p">)</span>
</pre></div>

<h4 id="files-stored-as-blobs">Files stored as blobs<a class="headerlink" href="#files-stored-as-blobs" title="Permanent link">&para;</a></h4>
<p>For threads you create that use the <code>/blob</code> schema, you need to add your files slightly differently if your code is running in Node.js or running in the browser.</p>
<div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">browser</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="s2">&quot;mmm, bytes...&quot;</span><span class="p">])</span>
<span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">files</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span>
  <span class="nx">data</span><span class="p">,</span>
  <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;&lt;thread-id&gt;&quot;</span>
<span class="p">)</span>
</pre></div></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">node.js</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">block</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">files</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;mmm, bytes...&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;thread-id&gt;&quot;</span><span class="p">)</span>
</pre></div></div>
</div>
<h3 id="get-a-file">Get a file<a class="headerlink" href="#get-a-file" title="Permanent link">&para;</a></h3>
<p>In this example, we get a file stored with a <code>/json</code> based schema.</p>
<div class="codehilite"><pre><span></span><span class="c1">// fileHash is a string hash, commonly found in block.files[index].file.hash</span>
<span class="kr">const</span> <span class="nx">jsonData</span> <span class="o">=</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">content</span><span class="p">(</span><span class="nx">fileHash</span><span class="p">)</span>
</pre></div>

<h4 id="files-stored-as-blobs_1">Files stored as blobs<a class="headerlink" href="#files-stored-as-blobs_1" title="Permanent link">&para;</a></h4>
<p>The same as when writing blob data to threads, you need to be aware of differences when reading blob data if you are in the browser versus if you are in Node.js.</p>
<div class="superfences-tabs">
<input name="__tabs_2" type="radio" id="__tab_2_0" checked="checked" />
<label for="__tab_2_0">browser</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="c1">// fileHash is a string hash, commonly found in block.files[index].file.hash</span>
<span class="kr">const</span> <span class="nx">content</span> <span class="o">=</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">content</span><span class="p">(</span><span class="nx">fileHash</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
<span class="nx">reader</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">reader</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">reader</span><span class="p">.</span><span class="nx">readAsText</span><span class="p">(</span><span class="nx">content</span><span class="p">);</span>
</pre></div></div>
<input name="__tabs_2" type="radio" id="__tab_2_1" />
<label for="__tab_2_1">node.js</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="c1">// fileHash is a string hash, commonly found in block.files[index].file.hash</span>
<span class="kr">const</span> <span class="nx">content</span> <span class="o">=</span> <span class="nx">textile</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">content</span><span class="p">(</span><span class="nx">fileHash</span><span class="p">)</span>
</pre></div></div>
</div>
<h2 id="use-with-redux-saga">Use with redux-saga<a class="headerlink" href="#use-with-redux-saga" title="Permanent link">&para;</a></h2>
<p>Many clients are using libraries such as <a href="https://redux-saga.js.org/">redux-sagas</a> to manage app state combined with Textile. If you use the above examples, you might hit an issue where you need to declare the context of a function your are calling (<a href="https://github.com/redux-saga/redux-saga/issues/1389">detailed in this ticket</a>). Here are a couple examples using Textile to get you started.</p>
<h4 id="create-a-thread_1">Create a thread<a class="headerlink" href="#create-a-thread_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">export</span> <span class="kd">function</span> <span class="o">*</span> <span class="nx">createThread</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">thread</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">call</span><span class="p">([</span><span class="nx">textile</span><span class="p">.</span><span class="nx">threads</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">],</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">thread</span>
<span class="p">}</span>
</pre></div>

<h4 id="get-file-content">Get file content<a class="headerlink" href="#get-file-content" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">export</span> <span class="kd">function</span> <span class="o">*</span> <span class="nx">getFile</span><span class="p">(</span><span class="nx">hash</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">file</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">call</span><span class="p">([</span><span class="nx">textile</span><span class="p">.</span><span class="nx">file</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">],</span> <span class="nx">hash</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">file</span>
<span class="p">}</span>
</pre></div>

<h2 id="live-playground">Live playground<a class="headerlink" href="#live-playground" title="Permanent link">&para;</a></h2>
<p>You can start playing with some of the core functionality in our <a href="https://github.com/textileio/js-http-playground">developer playground</a>. The playground provides a number of examples that you can run directly against a local Textile node (deamon or desktop installation).</p>
<h2 id="api-documentation">API Documentation<a class="headerlink" href="#api-documentation" title="Permanent link">&para;</a></h2>
<p>The full API documentation for Textile's JavaScript HTTP Client (js-http-client) can be found at <a href="https://textileio.github.io/js-http-client">https://textileio.github.io/js-http-client</a>.</p>
<p>Feel free to join the <a href="https://slack.textile.io/">Textile Developer Slack</a> and let us know what you are building. People are always excited to share and learn about new ideas.</p>
<p><br></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../command-line/" title="Command-line" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Command-line
              </span>
            </div>
          </a>
        
        
          <a href="../react-native/" title="React Native" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                React Native
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; Textile
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://textile.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/textileio" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/textileio" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://medium.com/textileio" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://slack.textile.io" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.12aa63bf.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../js/sidebar.js"></script>
      
        <script src="../../../search/main.js"></script>
      
    
  </body>
</html>