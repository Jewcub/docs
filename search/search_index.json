{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Textile provides encrypted, recoverable, schema-based, and cross-application data storage built on IPFS and libp2p . We like to think of it as a decentralized data wallet with built-in protocols for sharing and recovery, or more simply, an open and programmable iCloud . The network We believe that future technology can be built around a new model of data ownership where individuals have total agency over the information they create. Continue reading about Textile... What can you do with it? \u00b6 Developers \u00b6 Build decentralized storage and sharing applications. See Textile Photos . Build better ways for users to manage their private information. See AirSecure . Build chat apps, website publishing services, health apps, family tools, and more. Got an idea, get in touch . Everyone \u00b6 Choose or federate your own backup and service peer ( cafes ) and still participate in the whole network. Take the tour \u00b6 Whatever your use-case may be, the tour of Textile is great place to start. Install Textile apps \u00b6 Photos: https://github.com/textileio/photos Photos Desktop: https://github.com/textileio/photos-desktop Notes: https://github.com/textileio/notes Notes Desktop: https://github.com/textileio/notes-desktop AirSecure: https://github.com/airsecure/airsecure Integrate into your apps \u00b6 Client SDKs or HTTP clients available for integrating Textile into your mobile, desktop, and web applications: Core lib Command-line Client JS HTTP Client React Native SDK iOS SDK Android SDK Desktop (tray/taskbar app installer) Run a cafe peer \u00b6 Cafes are easy to deploy & manage (single executable, Docker). Setup your own cafe here . Other Resources \u00b6 Join our public Slack , visit our GitHub , follow us on Twitter , and check out the Blog !","title":"Welcome!"},{"location":"#what-can-you-do-with-it","text":"","title":"What can you do with it?"},{"location":"#developers","text":"Build decentralized storage and sharing applications. See Textile Photos . Build better ways for users to manage their private information. See AirSecure . Build chat apps, website publishing services, health apps, family tools, and more. Got an idea, get in touch .","title":"Developers"},{"location":"#everyone","text":"Choose or federate your own backup and service peer ( cafes ) and still participate in the whole network.","title":"Everyone"},{"location":"#take-the-tour","text":"Whatever your use-case may be, the tour of Textile is great place to start.","title":"Take the tour"},{"location":"#install-textile-apps","text":"Photos: https://github.com/textileio/photos Photos Desktop: https://github.com/textileio/photos-desktop Notes: https://github.com/textileio/notes Notes Desktop: https://github.com/textileio/notes-desktop AirSecure: https://github.com/airsecure/airsecure","title":"Install Textile apps"},{"location":"#integrate-into-your-apps","text":"Client SDKs or HTTP clients available for integrating Textile into your mobile, desktop, and web applications: Core lib Command-line Client JS HTTP Client React Native SDK iOS SDK Android SDK Desktop (tray/taskbar app installer)","title":"Integrate into your apps"},{"location":"#run-a-cafe-peer","text":"Cafes are easy to deploy & manage (single executable, Docker). Setup your own cafe here .","title":"Run a cafe peer"},{"location":"#other-resources","text":"Join our public Slack , visit our GitHub , follow us on Twitter , and check out the Blog !","title":"Other Resources"},{"location":"a-tour-of-textile/","text":"Photo by Andrew Neel on Unsplash Welcome to Textile! This is a great place to start if you're a developer interested in using Textile's decentralized tooling in your mobile, desktop, or web applications. However, anyone interested in learning how to run and interact with a Textile peer will also find this tour useful. Concepts \u00b6 The rest of this document assumes that you are somewhat familiar with the following concepts: Introduction The wallet and accounts Contacts and peers Threads and blocks Files , schemas , and mills Cafes Get started \u00b6 If you're using the command-line or JavaScript HTTP client, make sure your local daemon is running. Info Peer-to-peer (p2p) slang is notoriously confusing. Throughout these docs, we often use the words \"peer\" and \"node\". Generally speaking, they are interchangeable. However, a network node refers to the actual connection point that sends and receives data. On a p2p network like IPFS, all nodes are also peers . The network is like a \"homogeneous solution\" of particles (nodes). Mother Nature gets it! Connecting your client \u00b6 If you are running any of the client libraries (JavaScript, React Native, iOS, or Android), you will need to import and sometimes initialize your Textile session. Initialization is slightly different in each client so be sure to read specific client setup steps for the library you use. JS HTTP // No initialization needed, only import import textile from \"@textile/js-http-client\" React Native import textile from \"@textile/react-native-sdk\" // Make the sensitive below phrase available to your user for secure storage const phrase : string | undefined = await textile . initialize ( false , false ) iOS @ todo Android @todo Peer profile \u00b6 Now, with Textile ready, take a look at your peer profile: cmd textile profile get JS HTTP const profile = await textile . profile . get () React Native const profile = await textile . profile . get () iOS @ todo Android @todo Success { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"created\" : \"2019-04-19T21:44:46.310082Z\" , \"updated\" : \"2019-04-19T21:44:46.310082Z\" } id : Your embedded IPFS node's peer ID, which is unique on the network address : Your wallet account's address (public key), which can be shared with other account peers Hint Addresses always start with a \"P\" for \"public\". Account seeds (private keys) always start with an \"S\" for \"secret\", which should help you remember which one to keep secret. Info Textile uses an ed25519 HD wallet and IPFS peer IDs because they provide fast key generation, signing, and verification. These properties become important on less powerful devices like phones. Set a display name \u00b6 You can set a display name for your peer. Interacting with other users is a lot easier with display names. However, they are not unique on the network. cmd textile profile set name \"Clyde\" JS HTTP await textile . profile . setName ( \"Clyde\" ) React Native await textile . profile . setName ( \"Clyde\" ) iOS @ todo Android @todo Success ok Set an avatar image \u00b6 Similarly, you can assign your peer a publicly visible avatar image: cmd textile profile set avatar \"path/to/an/image\" JS HTTP const form = new FormData () form . append ( 'file' , file , file . name ) // file is File object or raw Buffer/Blob await textile . profile . setAvatar ( form ) React Native await textile . profile . setAvatar ( \"<image-hash>\" ) iOS @ todo Android @todo Success ok Now, your avatar will be tracked internally by the special private account thread , keyed with your account seed. This means that when your avatar (or display name) is updated, your other account peers (if you have any) will also pick up the change. Take another look at your peer profile and see what happened: cmd textile profile get JS HTTP const profile = await textile . profile . get () React Native const profile = await textile . profile . get () iOS @ todo Android @todo Success { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"created\" : \"2019-04-19T21:44:46.310082Z\" , \"updated\" : \"2019-04-20T00:31:34.699845Z\" } Huzzah! If we had any threads, these updates would have been announced to them so that other members could pick up the changes. Account \u00b6 Generally speaking, you can think of peers as ephemeral agents owned by your account. You may lose your device and/or need to access your account on a new one. As mentioned above, all peers have a special private account thread . In addition to avatars, this thread keeps track of your account peers. View account \u00b6 Take a look at your account: cmd textile account get JS HTTP const account = await textile . account . get () React Native // React native has endpoints for each component of the account const address = await textile . account . address () iOS @ todo Android @todo Success { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"peers\" : [ { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"created\" : \"2019-04-19T21:44:46.310082Z\" , \"updated\" : \"2019-04-20T00:31:34.699845Z\" } ] } Yep, just one peer so far. This object is actually a contact . We'll come back to contacts later. View account seed \u00b6 Of course, your account seed (private key) is not included in the public-facing contact object, but we can access it with the seed command: cmd textile account seed JS HTTP const seed = await textile . account . seed () React Native const seed = await textile . account . seed () iOS @ todo Android @todo Success SXdGtLsF3ULiBDpVZ1MAmNBVdsMSNQGhqtDEuxbn732Wi3XJ Account sync \u00b6 Periodically, your local peer will search the network for other peers that are part of the same account ( account peers ). Technically, your local peer will search for thread snapshots created by any peer with your account address. If it finds any, the snapshots are decrypted and traversed like normal thread updates, keeping all your peers in sync. Hint A thread snapshot is an encrypted object containing metadata and a reference to the latest update block, from which all others can be found. A snapshot may be stored at rest on a cafe peer or constructed dynamically for an account peer. You can also manually run account sync: cmd textile account sync JS HTTP await textile . account . sync () React Native await textile . account . sync () iOS @ todo Android @todo Success No snapshots were found Well, that's what we'd expect at this point. You don't have any threads yet. We'll come back to this later in the tour. Contacts \u00b6 As we saw above in the accounts section, your peer has a contact for itself , much like iOS or other contact systems. A contact displays the name and avatar from its most recently updated peer. A contact is essentially a collection of peers that share the same account. Search for contacts \u00b6 In addition to your \"self\" contact, you can search for and add contacts to your local \"address book\". Info Search is handled by a publish-subscribe mechanism, where participants across the entire network stream results directly to the requester. In many cases, the search responders are cafe peers, serving indexes for their clients, but normal account peers can also participate in search. Try searching for \"Andrew\": cmd textile contacts search --name=\"Andrew\" JS HTTP // The js-http-client returns a `ReadableStream` to be accessed by the caller // See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details const stream = await textile . contacts . search ( \"Andrew\" ) React Native @ todo iOS @ todo Android @todo Success { \"id\" : \"P8FxdgZ1rWxaQ4DrmMBADuYTz4XGpQeThJYxfL2X4WN89hP8\" , \"date\" : \"2019-04-12T21:41:28.071460350Z\" , \"value\" : { \"@type\" : \"/Contact\" , \"address\" : \"P8FxdgZ1rWxaQ4DrmMBADuYTz4XGpQeThJYxfL2X4WN89hP8\" , \"name\" : \"devandrewwww\" , \"avatar\" : \"QmQwmPninpCRdkAhbPwKaf7hAUwkTb2wiwupcgnsMp5yW5\" , \"peers\" : [ ... ] } } { \"id\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"date\" : \"2019-02-08T02:59:35.082729740Z\" , \"value\" : { \"@type\" : \"/Contact\" , \"address\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"name\" : \"andrew knees and toes, knees and toes\" , \"avatar\" : \"QmRLnTHdvg4rAh1AKJaHydAZ42sgygLNdvvA7aMwaRY5SK\" , \"peers\" : [ ... ] } } ... ... ... With any luck, you should see a bunch of results. You can also search for a single account by its address: cmd textile contacts search --address=\"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" JS HTTP // Again, `stream` is a `ReadableStream` to be accessed by the caller const stream = await textile . contacts . search ( undefined , \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" ) React Native @ todo iOS @ todo Android @todo Success { \"id\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"date\" : \"2019-02-08T02:59:35.082729740Z\" , \"value\" : { \"@type\" : \"/Contact\" , \"address\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"name\" : \"andrew knees and toes, knees and toes\" , \"avatar\" : \"QmRLnTHdvg4rAh1AKJaHydAZ42sgygLNdvvA7aMwaRY5SK\" , \"peers\" : [ ... ] } } Add a contact \u00b6 We can add contacts by name or address. This will actually perform a search as above, and then present you with a prompt to confirm the addition. When you search by name, there may be more than one result. Try adding one of the contacts from above by address: cmd textile contacts add --address=\"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" JS HTTP const contact = ... // Should be a Contact object, as returned by `search` `ReadableStream` await textile . contacts . add ( \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , contact ) React Native @ todo iOS @ todo Android @todo Success Add 1 contact? [y/n]: y added P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG View contacts \u00b6 We can now see the added contact contact in our \"address book\": cmd textile contacts ls JS HTTP const contacts = await textile . contacts . list () React Native const contacts = await textile . contacts . list () iOS @ todo Android @todo Success { \"items\" : [ { \"address\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"avatar\" : \"QmRLnTHdvg4rAh1AKJaHydAZ42sgygLNdvvA7aMwaRY5SK\" , \"name\" : \"andrew knees and toes, knees and toes\" , \"peers\" : [ ... ] } ] } Delete a contact \u00b6 Removing contacts is done by address: cmd textile contacts rm \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" JS HTTP await textile . contacts . remove ( \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" ) React Native await textile . contacts . remove ( \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" ) iOS @ todo Android @todo Success ok Ping another peer \u00b6 Pinging another peer is a useful way to check connectivity. If you want to ping a mobile or desktop peer (a peer without a public IP address), you may need to connect to it first with textile ipfs connect /p2p-circuit/ipfs/<peerID> . See this section for more info about the IPFS sub-commands. Let's ping one of Textile's federated cafes: cmd textile ping 12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d JS HTTP await textile . utils . ping ( \"12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d\" ) React Native @ todo iOS @ todo Android @todo Success online Looking good. Threads \u00b6 Threads are distributed datasets of encrypted messages and files, often shared between peers, and governed by schemas. The rules for thread access and sharing are controlled by a combination of the type and sharing settings. An immutable member address \"whitelist\" gives the initiator fine-grained control. The table below outlines access patterns for the thread initiator and the whitelist members. An empty whitelist is taken to be \"everyone\", which is the default. Thread type controls read (R), annotate (A), and write (W) access: private --> initiator: RAW, whitelist: read_only --> initiator: RAW, whitelist: R public --> initiator: RAW, whitelist: RA open --> initiator: RAW, whitelist: RAW Thread sharing style controls if (Y/N) a thread can be shared: not_shared --> initiator: N, whitelist: N invite_only --> initiator: Y, whitelist: N shared --> initiator: Y, whitelist: Y` Check out the comprehensive threads overview for more about how threads work. Info Access control will be moving to a more familiar, roll-based design in a future release. See this GitHub issue for more. Create a basic thread \u00b6 Create a thread and give it the name, \"Basic\". Note that thread names are not unique. cmd textile threads add \"Basic\" JS HTTP const thread = await textile . threads . add ( \"Basic\" ) React Native const threadKey = 'your.bundle.id.version.Basic' const threadName = 'Basic' const schema = { id : '' , json : '' , preset : AddThreadConfig . Schema . Preset . BLOB } const config = { key : threadKey , name : threadName , type : Thread . Type . PRIVATE , sharing : Thread . Sharing . NOT_SHARED , schema : schema , force : false , members : [] } const newTarget = await textile . threads . add ( config ) iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmV4SQgYk2KcnjxAQwWrgizzyoLFSB1147RkP8xTRAc1LC\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-20T20:52:05.955566Z\" , \"id\" : \"QmV4SQgYk2KcnjxAQwWrgizzyoLFSB1147RkP8xTRAc1LC\" , \"parents\" : [], \"thread\" : \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1K9AdMotTN98hd6LZgOZAzpPBFr\" , \"name\" : \"Basic\" , \"peer_count\" : 1 , \"sk\" : \"CAESQL7Vb/FsCblSl9H6HNNG074KtFHLbQnFLDsZGS2N5K/brM5gAU6su7lxIGEN414b9kIa1LOCMubgtCGE8RgRbS0=\" , \"state\" : \"LOADED\" , \"whitelist\" : [] } The output shows metadata about the thread you just created, with a reference to the \"HEAD\" (latest) update block. At this point, this is also the only block, which indicates that your peer joined. Add a text message \u00b6 Any thread can take a plain old text message. Later, we'll use these with an interactive chat session. Be sure to replace the thread parameter with the ID of the thread you generated in the last step. cmd textile messages add \"hello?\" --thread=\"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" JS HTTP await textile . messages . add ( \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"hello?\" ) React Native await textile . messages . add ( \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"hello?\" ) iOS @ todo Android @todo Success { \"block\" : \"QmZPWbydtcuZLtbd6cqrLuGSEzSs2C9P1f5nH3Ycu41UfS\" , \"body\" : \"hello?\" , \"comments\" : [], \"date\" : \"2019-04-20T20:55:05.278995Z\" , \"likes\" : [], \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } } Add some data \u00b6 A thread can track data if it was created with a schema. The most basic schema is the built-in passthrough, or blob schema: { \"name\" : \"blob\" , \"pin\" : true , \"mill\" : \"/blob\" } If you read the overview doc , you'll remember that thread schemas are DAG schemas that contain steps to create each node. \"blob\" defines a single top-level DAG node without any links. We'll get to more complex schemas later. pin instructs the peer to locally pin the entire DAG node when it's created from the input. mill defines the function used to process (or \"mill\") the data on arrival. /blob is a passthrough, meaning that the data comes out untouched. We can create a thread with this schema using the --blob flag: cmd textile threads add \"Any old data\" --blob JS HTTP const blob = ( await textile . schemas . defaults ()). blob const thread = await textile . threads . add ( \"Any old data\" , blob ) React Native @ todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmWC6KDyVm8YFPKBGqKmc14MadCanCtrSbbm8b9r9TUbBe\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-20T22:43:59.992726Z\" , \"id\" : \"QmWC6KDyVm8YFPKBGqKmc14MadCanCtrSbbm8b9r9TUbBe\" , \"parents\" : [], \"thread\" : \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1K9OF0iWtUB6PMDyeqA6QwzZSkD\" , \"name\" : \"Any old data\" , \"peer_count\" : 1 , \"schema\" : \"QmQn4hHm42sou9YFWSCAsmHJ7kCAf2cXU9TXQTxS5CLdvL\" , \"schema_node\" : { \"mill\" : \"/blob\" , \"name\" : \"blob\" , \"pin\" : true }, \"sk\" : \"CAESQIq0gRpucHb8qUQg/1csjgKydDgDIuLL8FoLl0yJomQ/+IL0U+xOmaTrSnHodPDhNAKYSnU6ZKz52+o0Jqp8CZ0=\" , \"state\" : \"LOADED\" , \"whitelist\" : [] } Check out the other built-in schemas here . Hint Any data added to a thread ends up as a file , regardless of whether or not the source data was an actual file. For example, echoing a string into a thread results in a \"file\" containing that string. Let's add some data. Be sure to use your own thread ID. cmd echo \"mmm, bytes...\" | textile files add --thread=\"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" JS HTTP const block = await textile . files . add ( \"mmm, bytes...\" , \"\" , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) React Native const input = Buffer . from ( \"mmm, bytes...\" ). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) const block = await textile . files . add ( result . dir , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) iOS @ todo Android @todo Success File target: QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5 Added 1 file in 613.175326ms What just happened? The peer created a new DAG node for the input as defined by the schema. Every schema step adds a child node with two links: The target shown in the output is the root hash of the DAG. meta : A JSON object containing metadata about the input and how it was processed. Some of the values are used for de-duplicating encrypted data. Here's the value of meta in the node we just created: { \"mill\" : \"/blob\" , \"checksum\" : \"EPBRa7eDzgoXyvDXqRYuXLkRoZqMizZ4R8QkZyF8n9DP\" , \"source\" : \"EPBRa7eDzgoXyvDXqRYuXLkRoZqMizZ4R8QkZyF8n9DP\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmTwQWfkR343HHxhdhTX7er6eHnYkgej7GNNsmbS6eZCyQ\" , \"key\" : \"QQ3QUdkJ2LCH4ycDjEMHQVHkhnMRiZhkncMCN1i4pbYSXD1heeq2DuNrdm3F\" , \"media\" : \"text/plain; charset=utf-8\" , \"name\" : \"stdin\" , \"size\" : \"14\" , \"added\" : \"2019-04-20T22:46:19.976891Z\" , \"meta\" : {} } content : The output data of the schema step. Again, for our current example, this is just a passthrough (output is input). The files guide covers these concepts in more detail. Unless a schema step specifies \"plaintext\": true , the value of meta and content are both encrypted with the Advanced Encryption Standard (AES) using their very own symmetric key. We can view the keys for each node in the DAG using the keys command: cmd textile files keys \"QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5\" JS HTTP const keys = await textile . files . keys ( \"QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5\" ) React Native @ todo iOS @ todo Android @todo Success { \"files\" : { \"/0/\" : \"QQ3QUdkJ2LCH4ycDjEMHQVHkhnMRiZhkncMCN1i4pbYSXD1heeq2DuNrdm3F\" } } The output gives us the key for the node at index 0 . There's only one key because this target node only contains one file. To add an actual file or directory, just specify a path, e.g, textile files add \"path/to/something\" --thread=\"...\" . Let's try adding the same data again: cmd echo \"mmm, bytes...\" | textile files add --thread=\"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" JS HTTP const block = await textile . files . add ( \"mmm, bytes...\" , \"\" , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) React Native const input = Buffer . from ( \"mmm, bytes...\" ). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) const block = await textile . files . add ( result . dir , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) iOS @ todo Android @todo Success File target: QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5 Added 1 file in 138.218899ms Notice that the file target did not change . The peer was able to reuse the node from the prior addition because it detected that the same data was added via the same schema. This means that the input was not duplicated on the peer, even though it was encrypted non-deterministically. Info Good encryption is always non-deterministic, which means that re-encrypting the same input will always result in a different output. Make a photo album \u00b6 Now that you've got the hang of threads let's make something a little more interesting. Textile Photos uses threads to track your camera roll and shared photo albums using the built-in camera roll and media schemas. Let's create an open and shared thread for dog photos with the media schema: cmd textile threads add \"Dogs\" --type=\"open\" --sharing=\"shared\" --media JS HTTP await textile . threads . add ( \"Dogs\" , \"media\" , undefined , \"open\" , \"shared\" ) React Native @ todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmR3nzxS5sSv3aasqZZFmAip1okF2YSmwSuzjNcvR7Erus\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-22T21:24:27.133890Z\" , \"id\" : \"QmR3nzxS5sSv3aasqZZFmAip1okF2YSmwSuzjNcvR7Erus\" , \"parents\" : [], \"thread\" : \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1KEsojQy4DW9t2rqqhP6len4fA0\" , \"name\" : \"Dogs\" , \"peer_count\" : 1 , \"schema\" : \"QmeVa8vUbyjHaYaeki8RZRshsn3JeYGi8QCnLCWXh6euEh\" , \"schema_node\" : { \"links\" : { \"large\" : { \"mill\" : \"/image/resize\" , \"opts\" : { \"quality\" : \"80\" , \"width\" : \"800\" }, \"use\" : \":file\" }, \"small\" : { \"mill\" : \"/image/resize\" , \"opts\" : { \"quality\" : \"80\" , \"width\" : \"320\" }, \"use\" : \":file\" }, \"thumb\" : { \"mill\" : \"/image/resize\" , \"opts\" : { \"quality\" : \"80\" , \"width\" : \"100\" }, \"pin\" : true , \"use\" : \"large\" } }, \"name\" : \"media\" , \"pin\" : true }, \"sharing\" : \"SHARED\" , \"sk\" : \"CAESQBF0SBWyu8oj6cb+AdmZHE4Bw0W9R3J6XZnjn1241MVLv7R8H9aGb4c8pyn3+p1VwHxJyVxHlp5gMTV105wHLZY=\" , \"state\" : \"LOADED\" , \"type\" : \"OPEN\" , \"whitelist\" : [] } Notice that the media schema has links for a large , small , and thumb sized image. This schema does not store the raw input data. Take a look at the built-in camera roll schema for an example of how you might do that, as well as extract exif data from an image. Photo by William Milliot on Unsplash. Try adding the image above to your dogs thread: cmd textile files add \"~/Downloads/william-milliot-510766-unsplash.jpg\" --caption=\"Dog at work.\" --thread=\"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" JS HTTP const form = new FormData () form . append ( 'file' , file , file . name ) // file is File object or raw Buffer/Blob or even fs.createReadStream() in Node.js await textile . files . add ( base64ImageString , \"Dog at work\" , \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" ) ' React Native const base64ImageString = \"R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABA....\" const result = await textile . files . prepare ( base64ImageString , \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" ) const block = await textile . files . add ( result . dir , \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" ) iOS @ todo Android @todo Success File target: QmT9Rj1wHosh1hL2kjVxm6RWtK3ZTSjb6b69qwdztVTkLR Added 1 file in 5.978401883s The above image is fairly large (~3.5 MB). So, your peer took some time to encode all of the requested sizes. Tip The /image/resize mill can take JPEG, PNG, and GIF images. Let's a look at the DAG node you just created. There will be three links, as defined by the schema: A DAG node created by the media schema. Info Notice that the media schema shown above only has \"pin\": true for the thumb node. In practice, this means that if you were registered with a cafe peer and were auto-syncing your threads, the other nodes (small and large) would be \"released\" and only the thumb node would remain stored locally. This functionality is similar to other cloud providers that only store low-res versions of your photos on device, but here you can define the behavior with a schema! By default, when you specify a directory path with the files add command, an update block will be added for each file. However, using the --group flag, we can create a single DAG \"folder\" and add it to the thread with a single update block. A DAG node created by the media schema using the --group flag. Track some GeoJSON coordinates \u00b6 Let's go through one more thread use case that demonstrates how to create a custom DAG schema. Additionally, we'll make use of a JSON schema for tracking JSON documents. Make a file named location.json with the following JSON document: { \"name\" : \"location\" , \"mill\" : \"/json\" , \"json_schema\" : { \"$id\" : \"https://example.com/geographical-location.schema.json\" , \"$schema\" : \"http://json-schema.org/draft-07/schema#\" , \"title\" : \"Longitude and Latitude Values\" , \"description\" : \"A geographical coordinate.\" , \"required\" : [ \"latitude\" , \"longitude\" ], \"type\" : \"object\" , \"properties\" : { \"latitude\" : { \"type\" : \"number\" , \"minimum\" : -90 , \"maximum\" : 90 }, \"longitude\" : { \"type\" : \"number\" , \"minimum\" : -180 , \"maximum\" : 180 } } } } Add a new thread to track your hypothetical runs: cmd textile threads add \"My runs\" --schema-file \"~/Downloads/location.json\" --type=\"public\" --sharing=\"invite_only\" JS HTTP const locations = ( await fetch ( \"location.json\" )). json () const thread = await textile . threads . add ( \"My runs\" , locations , undefined , \"public\" , \"invite_only\" ) React Native @ todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-23T19:29:57.858974Z\" , \"id\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"parents\" : [], \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1KHU10LWw5Fc7NOcBcykhv085NF\" , \"name\" : \"My runs\" , \"peer_count\" : 1 , \"schema\" : \"QmeCxmcfiBANhLntPm5ceS6ragTnW4QjXEPednNa7R6o8p\" , \"schema_node\" : { \"json_schema\" : { \"$id\" : \"https://example.com/geographical-location.schema.json\" , \"$schema\" : \"http://json-schema.org/draft-07/schema#\" , \"description\" : \"A geographical coordinate.\" , \"properties\" : { \"latitude\" : { \"maximum\" : 90 , \"minimum\" : -90 , \"type\" : \"number\" }, \"longitude\" : { \"maximum\" : 180 , \"minimum\" : -180 , \"type\" : \"number\" } }, \"required\" : [ \"latitude\" , \"longitude\" ], \"title\" : \"Longitude and Latitude Values\" , \"type\" : \"object\" }, \"mill\" : \"/json\" , \"name\" : \"location\" }, \"sharing\" : \"INVITE_ONLY\" , \"sk\" : \"CAESQDlZnNWOC2hdJMQS1KuxeEHAb4/UTM455NswWAFzz7G9G3qzdmmja2jA9arsHjNvR+JvhyWnD54xglwfWq1gSpY=\" , \"state\" : \"LOADED\" , \"type\" : \"PUBLIC\" , \"whitelist\" : [] } Next, add some locations to your thread: cmd echo '{ \"latitude\": 48.858093, \"longitude\": 2.294694 }' | textile files add --thread=12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw JS HTTP await textile . files . add ({ latitude : 48.858093 , longitude : 2.294694 }, \"\" , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native const input = Buffer . from ( JSON . stringify ({ \"latitude\" : 48.858093 , \"longitude\" : 2.294694 }). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) const block = await textile . files . add ( result . dir , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Success File target: QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk Added 1 file in 534.774123ms Your peer will validate the input against the thread's schema. The input will also be validated against its embedded JSON schema (schemas within schemas!). Try adding a location with latitude great than 90, which is invalid: cmd echo '{ \"latitude\": 91, \"longitude\": 2.294694 }' | textile files add --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\"' JS HTTP await textile . files . add ({ latitude : 91 , longitude : 2.294694 }, \"\" , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native const input = Buffer . from ( JSON . stringify ({ \"latitude\" : 91 , \"longitude\" : 2.294694 }). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) const block = await textile . files . add ( result . dir , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Fail - latitude: Must be less than or equal to 90/1 Share a thread \u00b6 Let's share this thread with another user. It was created with type, \"public\", meaning that other members will be able to read your updates, but not add new locations. Threads with an \"open\" type are writable by all members. Info \"Writes\" refer to messages and files, whereas \"annotations\" refer to comments and likes. For this tour, let's start another peer from a different wallet account. Below is a handy way to initialize an account peer for testing. If you are using any of the client libraries for the tour, use the CMD example from your terminal to run your second peer. cmd textile init --seed=\"$(textile wallet init | tail -n1)\" --repo-dir=\"/tmp/buddy\" --swarm-ports=\"4101\" --api-bind-addr=\"127.0.0.1:41600\" --gateway-bind-addr=\"127.0.0.1:5150\" Success Initialized account with address P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs Hint We used non-default ports so that this peer won't collide with the first one. Start the daemon in a new terminal: cmd textile daemon --repo-dir=\"/tmp/buddy\" Success 23 Apr 19 14:02 PDT P7X3gZu added JOIN update to Y6xBsPwB go-textile version: v0.1.12 Repo version: 13 Repo path: /tmp/buddy API address: 127.0.0.1:41600 Gateway address: 127.0.0.1:5150 System version: amd64/darwin Golang version: go1.12.3 PeerID: 12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV Account: P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs Now that you have two peers running, invite the new account to your \"My runs\" thread: cmd textile invites create --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" --address=\"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" JS HTTP await textile . invites . add ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ) React Native await textile . invites . add ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ) iOS @ todo Android @todo Success Could not find contact locally, searching network... { \"id\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"date\": \"2019-04-23T20:56:05.858784Z\", \"value\": { \"@type\": \"/Contact\", \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"peers\": [ { \"id\": \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\", \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"created\": \"2019-04-23T20:56:05.858784Z\", \"updated\": \"2019-04-23T20:56:05.858784Z\" } ] } } Add and invite P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs? [y/n]: y added P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs ok This new account is not an existing contact. So, your peer will ask the network for its contact info. You can confirm that, yes, you'd like to add this account to your local contacts and send it an invite to your thread. Hint You just created an \"account-to-account\" invite, which is useful between existing account. \"External\" invites are useful when you want to invite a friend over another channel like SMS. See textile invites create --help for more. Next, we'll pretend that we are the second account and accept the invite. You should see a notification that you were invited to a thread in the daemon output. 23 Apr 19 14:08 PDT Clyde invited you to join QE5m1qw Before you accept, list your pending invites and grab the invite's ID: cmd textile invites ls --api=\"http://127.0.0.1:41600\" Success { \"items\" : [ { \"date\" : \"2019-04-23T21:08:29.285920Z\" , \"id\" : \"QmXcJmyX2vbeJTcZSkoZCHc74yycjJcXbxCHkLknJhyPaL\" , \"inviter\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" }, \"name\" : \"My runs\" } ] } As expected, it looks like Clyde invited us to \"My runs\". Notice that we had to supply the --api flag to tell the command-line client to list invites from the non-default peer API. Tip You can avoid the need to use the --api when interacting with non-default peer APIs by exporting an environment variable, e.g., export API=\"http://127.0.0.1:41600\" . You could ignore the invite with textile invites ignore . However, we like Clyde and want to support his running efforts! cmd textile invites accept \"QmXcJmyX2vbeJTcZSkoZCHc74yycjJcXbxCHkLknJhyPaL\" --api=\"http://127.0.0.1:41600\" Success { \"author\": \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\", \"date\": \"2019-04-23T21:32:22.486183Z\", \"id\": \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\", \"parents\": [ \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ], \"thread\": \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\", \"type\": \"JOIN\", \"user\": { \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"name\": \"P7X3gZu\" } } The output shows your \"join\" update in the thread. Take a look at your second peer's daemon output: 23 Apr 19 14:32 PDT P7X3gZu added ANNOUNCE update to Y6xBsPwB 23 Apr 19 13:08 PDT Clyde added FILES update to QQE5m1qw 23 Apr 19 12:29 PDT Clyde added JOIN update to QQE5m1qw 23 Apr 19 14:32 PDT P7X3gZu added JOIN update to QQE5m1qw After accepting the invite, your peer downloaded the older thread updates, picking up the initiator's files (in this case, location coordinates). Clyde's new updates will also be picked up by your second peer. List blocks \u00b6 Take a closer look at the \"My runs\" thread using the blocks ls command, which lists updates blocks known to your peer: cmd textile blocks ls --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" JS HTTP await textile . blocks . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native @ todo iOS @ todo Android @todo Success { \"items\" : [ { \"id\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"author\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"type\" : \"JOIN\" , \"date\" : \"2019-04-23T21:32:22.486183Z\" , \"parents\" : [ \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ], \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } }, { \"id\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"type\" : \"FILES\" , \"date\" : \"2019-04-23T20:08:51.686544Z\" , \"parents\" : [ \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" ], \"target\" : \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" } }, { \"id\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"type\" : \"JOIN\" , \"date\" : \"2019-04-23T19:29:57.858974Z\" , \"parents\" : [ ], \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" } } ] } The output should be the exact same on both your peers. Add a comment \u00b6 Using the output from blocks ls , add a comment to the one and only FILES update in the \"My runs\" thread: cmd textile comments add \"Is this an outlier?\" --block=\"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" --api=\"http://127.0.0.1:41600\" JS HTTP await textile . comments . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"Is this an outlier?\" ) React Native await textile . comments . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"Is this an outlier?\" ) iOS @ todo Android @todo Success { \"body\" : \"Is this an outlier?\" , \"date\" : \"2019-04-23T22:21:04.253734Z\" , \"id\" : \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } Tip If you don't set a display name for your peer, it will fallback to the first bit of your account address. Remember, this is a \"public\" type thread, meaning that all members can annotate (comment / like). Add a \"like\" \u00b6 Likes are added in a similar fashion: cmd textile likes add --block=\"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" JS HTTP await textile . likes . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ) React Native await textile . likes . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ) iOS @ todo Android @todo Success { \"date\" : \"2019-04-23T22:25:06.850779Z\" , \"id\" : \"QmW5BY11hTLJJpZ6eSPnTpGPLRAcXzmBEPpeU4foq8BcNh\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } } Whoa, Clyde liked that you joined his thread. What a guy! Start a chat \u00b6 We've already covered how to add plain text messages to a thread. Combined with a schema, you can build a media-rich chat interface. In fact, this is exactly what Textile Photos does with its \"groups\". A Textile Photos group Create a new thread for chatting with your friend P7X3gZu : cmd textile threads add \"Chat\" --type=\"open\" --sharing=\"shared\" --whitelist=\"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" JS HTTP await textile . threads . add ( \"chat\" , undefined , undefined , \"open\" , \"shared\" , [ \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ]) React Native @todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmVPzdEQrcXJKMnCpvuUcTk8sz9LTVFuY4dB9HXX2B5jtg\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-23T23:21:52.483721Z\" , \"id\" : \"QmVPzdEQrcXJKMnCpvuUcTk8sz9LTVFuY4dB9HXX2B5jtg\" , \"parents\" : [], \"thread\" : \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1KHwDgdRK6qV9pvIEBwNY8ZFyVf\" , \"name\" : \"Chat\" , \"peer_count\" : 1 , \"sharing\" : \"SHARED\" , \"sk\" : \"CAESQNKwDki8xpJ8dw3ifAfsGkqjz4Xr885uKlI0LjGTQPxiTHIas0+WrN7WErhk5jXRGmdMV5wAKuskKUOQhp4kKAU=\" , \"state\" : \"LOADED\" , \"type\" : \"OPEN\" , \"whitelist\" : [ \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ] } The whitelist ensures the chat remains between the two of us. As before, we need to create an invite and accept it. However, let's try an \"external\" invite: cmd textile invites create --thread=\"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" JS HTTP // The below invite key can be sent securely to recipient in any way convenient const inviteKey = await textile . invites . addExternal ( \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" ) React Native // The below invite key can be sent securely to recipient in any way convenient const inviteKey = await textile . invites . addExternal ( \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" ) iOS @ todo Android @todo Success { \"id\" : \"QmYzhyFhRGX3GBgsLMKoGrQqMWwPFKyPtsGmGbvma63zCf\" , \"inviter\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"cCBPKRN6723KkroCfMsLVHj3cbVkwpg47s5wdjyEPxXz6rRoo6mjBZqiizd\" } The only difference this time was that we didn't specify --address . Instead of getting sent directly to another peer, the invite was encrypted with the key shown in the output and persisted to IPFS. Now, you're free to send it around however you choose. In order to accept, the recipient has to specify the id and key : cmd textile invites accept \"QmYzhyFhRGX3GBgsLMKoGrQqMWwPFKyPtsGmGbvma63zCf\" --key=\"cCBPKRN6723KkroCfMsLVHj3cbVkwpg47s5wdjyEPxXz6rRoo6mjBZqiizd\" --api=\"http://127.0.0.1:41600\" Success { \"author\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"date\" : \"2019-04-24T00:03:09.432176Z\" , \"id\" : \"QmRBZmo9uxVfy1cfBkpRP5SqMGTdXyPwAYpMtBFUJtXjdD\" , \"parents\" : [ \"QmVPzdEQrcXJKMnCpvuUcTk8sz9LTVFuY4dB9HXX2B5jtg\" ], \"thread\" : \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } Of course, passing all these hashes and keys around is a lot easier with a well designed UI. The command-line client has a chat command that enters an interactive thread session in which participants can add and view messages. Start a chat on your first peer: cmd textile chat --thread=\"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" Then start the same chat on your second peer: cmd textile chat --thread=\"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" --api=\"http://127.0.0.1:41600\" Tip Currently, the chat command doesn't work with Git Bash on Windows. To open an interactive thread session, run the aforementioned commands in the system shell ( cmd ) or Powershell instead. Clyde having a chat with a friend Chat away! The files API \u00b6 Applications will often want to paginate files and associated annotations in a thread. The files API lists update blocks that point to DAG nodes containing files. A JSON representation of the (decrypted) DAG node is attached to the response along with nested comments and likes. Try listing the files in your \"My runs\" thread: cmd textile files ls --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" JS HTTP await textile . files . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , undefined , 5 ) React Native await textile . files . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"\" , 5 ) iOS @ todo Android @todo Success { \"items\": [ { \"block\": \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\", \"target\": \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\", \"date\": \"2019-04-23T20:08:51.686544Z\", \"user\": { \"address\": \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\", \"name\": \"Clyde\", \"avatar\": \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\": [ { \"file\": { \"mill\": \"/json\", \"checksum\": \"HoRmDDKwsQko2CWnrCoYHCw1rUaaPH3vW4EMcFMwtw3S\", \"source\": \"8XK5TuJcXmSQRGt1kfSoWXJtNhybpBLQsm4arMH9MpoQ\", \"opts\": \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\", \"hash\": \"QmQHYPJDQAU8ZaGG8e4iW9bj65mr2T1cwygyfWb6AUaNio\", \"key\": \"AYCbcQf4YDBHr4NE2SnBgZYPfTD5riZgerujv3xFZgZ4RhDP3yZjcMnHSqXp\", \"media\": \"application/json\", \"size\": \"43\", \"added\": \"2019-04-23T20:08:51.294649Z\", \"meta\": { }, \"targets\": [ \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" ] } } ], \"comments\": [ { \"id\": \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\", \"date\": \"2019-04-23T22:21:04.253734Z\", \"user\": { \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"name\": \"P7X3gZu\" }, \"body\": \"Is this an outlier?\" } ], \"likes\": [ ], \"threads\": [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } ] } You can also list files across all threads by omitting the --thread flag. The feed API \u00b6 The feed API provides a few different modes to drive feed-based UIs. Take a look at the usage text from the command-line client ( textile feed --help ): Usage: textile [OPTIONS] feed [feed-OPTIONS] Paginates post (join|leave|files|message) and annotation (comment|like) block types as a consumable feed. The --mode option dictates how the feed is displayed: - \"chrono\": All feed block types are shown. Annotations always nest their target post, i.e., the post a comment is about. - \"annotated\": Annotations are nested under post targets, but are not shown in the top-level feed. - \"stacks\": Related blocks are chronologically grouped into \"stacks\". A new stack is started if an unrelated block breaks continuity. This mode is used by Textile Photos. Stacks may include: * The initial post with some nested annotations. Newer annotations may have already been listed. * One or more annotations about a post. The newest annotation assumes the \"top\" position in the stack. Additional annotations are nested under the target. Newer annotations may have already been listed in the case as well. Omit the --thread option to paginate all files. Give the default chrono (for chronological) mode a try: cmd textile feed --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" JS HTTP await textile . feed . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native await textile . feed . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Success { \"items\" : [ { \"block\" : \"QmW5BY11hTLJJpZ6eSPnTpGPLRAcXzmBEPpeU4foq8BcNh\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Like\" , \"id\" : \"QmW5BY11hTLJJpZ6eSPnTpGPLRAcXzmBEPpeU4foq8BcNh\" , \"date\" : \"2019-04-23T22:25:06.850779Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"target\" : { \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Join\" , \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"date\" : \"2019-04-23T21:32:22.486183Z\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } } } }, { \"block\" : \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Comment\" , \"id\" : \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\" , \"date\" : \"2019-04-23T22:21:04.253734Z\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" }, \"body\" : \"Is this an outlier?\" , \"target\" : { \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Files\" , \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"target\" : \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" , \"date\" : \"2019-04-23T20:08:51.686544Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\" : [ { \"file\" : { \"mill\" : \"/json\" , \"checksum\" : \"HoRmDDKwsQko2CWnrCoYHCw1rUaaPH3vW4EMcFMwtw3S\" , \"source\" : \"8XK5TuJcXmSQRGt1kfSoWXJtNhybpBLQsm4arMH9MpoQ\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmQHYPJDQAU8ZaGG8e4iW9bj65mr2T1cwygyfWb6AUaNio\" , \"key\" : \"AYCbcQf4YDBHr4NE2SnBgZYPfTD5riZgerujv3xFZgZ4RhDP3yZjcMnHSqXp\" , \"media\" : \"application/json\" , \"size\" : \"43\" , \"added\" : \"2019-04-23T20:08:51.294649Z\" , \"meta\" : { }, \"targets\" : [ \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" ] } } ], \"threads\" : [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } } } }, { \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Join\" , \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"date\" : \"2019-04-23T21:32:22.486183Z\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } }, { \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Files\" , \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"target\" : \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" , \"date\" : \"2019-04-23T20:08:51.686544Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\" : [ { \"file\" : { \"mill\" : \"/json\" , \"checksum\" : \"HoRmDDKwsQko2CWnrCoYHCw1rUaaPH3vW4EMcFMwtw3S\" , \"source\" : \"8XK5TuJcXmSQRGt1kfSoWXJtNhybpBLQsm4arMH9MpoQ\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmQHYPJDQAU8ZaGG8e4iW9bj65mr2T1cwygyfWb6AUaNio\" , \"key\" : \"AYCbcQf4YDBHr4NE2SnBgZYPfTD5riZgerujv3xFZgZ4RhDP3yZjcMnHSqXp\" , \"media\" : \"application/json\" , \"size\" : \"43\" , \"added\" : \"2019-04-23T20:08:51.294649Z\" , \"meta\" : { }, \"targets\" : [ \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" ] } } ], \"threads\" : [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } }, { \"block\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Join\" , \"block\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"date\" : \"2019-04-23T19:29:57.858974Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" } } } ], \"count\" : 5 } The \"annotations\" mode functions like the files API but includes join and leave update types. Textile Photos uses the \"stacks\" mode. Subscription API \u00b6 The chat command we saw above is actually built in part with a subscription. You can subscribe to any type of thread update block : merge , ignore , flag , join , announce , leave , text , files , comment , like . Let's subscribe to \"files\" updates across all threads: cmd textile subscribe --type=\"files\" JS HTTP // The js-http-client returns a `ReadableStream` to be accessed by the caller // See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details const stream = await textile . subscribe . stream ( \"files\" ) const reader = stream . getReader () const read = ( result ) => { // ReadableStreamReadResult<FeedItem> if ( result . done ) { return } try { console . log ( result . value ) } catch ( err ) { reader . cancel ( undefined ) return } read ( await reader . read ()) } read ( await reader . read ()) React Native textile . events . addThreadUpdateReceivedListener (( update ) => { const { type_url } = update . payload if ( type_url === '/Files' ) { // new file! } }) iOS @ todo Android @todo In another terminal, add a location to the \"My runs\" thread: cmd echo '{ \"latitude\": 48.858093, \"longitude\": 2.294694 }' | textile files add --thread=12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw JS HTTP await textile . files . add ({ latitude : 48.858093 , longitude : 2.294694 }, \"\" , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native const input = Buffer . from ( JSON . stringify ({ \"latitude\" : 48.858093 , \"longitude\" : 2.294694 }). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) const block = await textile . files . add ( result . dir , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Success File target: QmbkqtPBLH83opAAzjLdLszry55p8W4FZbc7HR1a1gbHK4 Added 1 file in 533.47ms Your first window will display the update: Success { \"block\" : \"QmaTUfyZGkQn6Wzo2FUSviDhEtE6Ezt5V7ot1tdVNR5gMg\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Files\" , \"block\" : \"QmaTUfyZGkQn6Wzo2FUSviDhEtE6Ezt5V7ot1tdVNR5gMg\" , \"target\" : \"QmbkqtPBLH83opAAzjLdLszry55p8W4FZbc7HR1a1gbHK4\" , \"date\" : \"2019-04-24T20:00:24.870515Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\" : [ { \"file\" : { \"mill\" : \"/json\" , \"checksum\" : \"DptTUm5Rh6gSdCvijL7hmcqnHH4MeG2nRTkVgZhv2EcK\" , \"source\" : \"3VhXeTZor66u8NdGhrPcYK2N7j5v6vceGZerpvehHSJh\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmUaecS9uZ3QyDt3ybzDs1rQbvB5LbLQe2YFVojQsHqePq\" , \"key\" : \"8MnFgGEAj55y1sGW256JvE11KN4ZE89Weqzue3ZbkBvGB6jhvQZP2nq3JMZd\" , \"media\" : \"application/json\" , \"size\" : \"43\" , \"added\" : \"2019-04-24T20:00:24.489476Z\" , \"meta\" : { } } } ], \"threads\" : [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } } You can subscribe to multiple (or all) update types. Textile Photos uses a subscription to display realtime updates within its groups. Leave a thread \u00b6 When you leave a thread, all associated data is deleted from your peer. Additionally, all registered cafes will delete their associated snapshots. From your second peer, leave the \"My runs\" thread: cmd textile threads rm \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" --api=\"http://127.0.0.1:41600\" Success ok Notifications \u00b6 Notifications are generated when you receive a thread invitation or update from another peer. OS-based notification APIs like iOS/Android local notifications or macOS desktop notifications can directly consume these objects. List notifications \u00b6 Let's see what kind of notifications your first peer (Clyde) has: cmd textile notifications ls JS HTTP await textile . notifications . list () React Native const notifications = await textile . notifications . list () iOS @ todo Android @todo Success { \"items\" : [ { \"actor\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"block\" : \"QmPQSwoXQL5Hgmof3fYZQgp5GKwaqY4wbeP4NaoQe2P9vV\" , \"body\" : \"left\" , \"date\" : \"2019-04-24T20:18:08.442121Z\" , \"id\" : \"1KKP01K9SpRASYKkyxSK4EiSYEz\" , \"subject\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"subject_desc\" : \"My runs\" , \"type\" : \"PEER_LEFT\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } ] } Hmm, only one notification? Remember that your other peer left the \"My runs\" thread. Besides the leave notification, all others from their actions in that thread (joined, commented, etc.) were deleted. \"Read\" notifications \u00b6 Notifications have a read boolean status that is useful for some applications. We can mark the above notification as read via its id : cmd textile notifications read \"1KKP01K9SpRASYKkyxSK4EiSYEz\" JS HTTP await textile . notifications . read ( \"1KKP01K9SpRASYKkyxSK4EiSYEz\" ) React Native await textile . notifications . read ( \"1KKP01K9SpRASYKkyxSK4EiSYEz\" ) iOS @ todo Android @todo Success ok Summary \u00b6 Display a summary of your peer's threads, files, and contacts: cmd textile summary JS HTTP const summary = await textile . utils . summary () React Native const summary = await textile . summary () iOS @ todo Android @todo Success { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"thread_count\" : 5 , \"files_count\" : 5 , \"contact_count\" : 1 } \"files_count\" reports a total count of files update blocks. Logs \u00b6 Your peer's underlying IPFS node comes with a rich system-based logging framework. Textile peers leverage this same framework, adding additional log systems with the prefix \"tex-\". View current log levels \u00b6 Take a look at the current log levels: cmd textile logs Success { \"addrutil\" : \"ERROR\" , \"autonat\" : \"ERROR\" , \"autonat-svc\" : \"ERROR\" , \"autorelay\" : \"ERROR\" , \"badger\" : \"ERROR\" , \"basichost\" : \"ERROR\" , \"bitswap\" : \"ERROR\" , \"bitswap_network\" : \"ERROR\" , \"blockservice\" : \"ERROR\" , \"blockstore\" : \"ERROR\" , \"boguskey\" : \"ERROR\" , \"bstestnet\" : \"ERROR\" , \"chunk\" : \"ERROR\" , \"cmds\" : \"ERROR\" , \"command\" : \"ERROR\" , \"connmgr\" : \"ERROR\" , \"core\" : \"ERROR\" , \"core/coreapi\" : \"ERROR\" , \"coreunix\" : \"ERROR\" , \"dht\" : \"ERROR\" , \"dht.pb\" : \"ERROR\" , \"discovery\" : \"ERROR\" , \"engine\" : \"ERROR\" , \"eventlog\" : \"ERROR\" , \"filestore\" : \"ERROR\" , \"flatfs\" : \"ERROR\" , \"fsrepo\" : \"ERROR\" , \"ipfsaddr\" : \"ERROR\" , \"ipns\" : \"ERROR\" , \"ipns-repub\" : \"ERROR\" , \"keystore\" : \"ERROR\" , \"lock\" : \"ERROR\" , \"mdns\" : \"ERROR\" , \"mfs\" : \"ERROR\" , \"mocknet\" : \"ERROR\" , \"mockrouter\" : \"ERROR\" , \"mount\" : \"ERROR\" , \"mplex\" : \"ERROR\" , \"namesys\" : \"ERROR\" , \"nat\" : \"ERROR\" , \"net/identify\" : \"ERROR\" , \"p2p-config\" : \"ERROR\" , \"p2p-mount\" : \"ERROR\" , \"pathresolv\" : \"ERROR\" , \"peerqueue\" : \"ERROR\" , \"peerstore\" : \"ERROR\" , \"pin\" : \"ERROR\" , \"ping\" : \"ERROR\" , \"plugin/loader\" : \"ERROR\" , \"provider\" : \"ERROR\" , \"providers\" : \"ERROR\" , \"pubsub\" : \"ERROR\" , \"pubsub-valuestore\" : \"ERROR\" , \"relay\" : \"ERROR\" , \"reprovider\" : \"ERROR\" , \"reuseport-transport\" : \"ERROR\" , \"routedhost\" : \"ERROR\" , \"routing/record\" : \"ERROR\" , \"secio\" : \"ERROR\" , \"stream-upgrader\" : \"ERROR\" , \"swarm2\" : \"ERROR\" , \"table\" : \"ERROR\" , \"tcp-tpt\" : \"ERROR\" , \"tex-broadcast\" : \"ERROR\" , \"tex-core\" : \"ERROR\" , \"tex-datastore\" : \"ERROR\" , \"tex-gateway\" : \"ERROR\" , \"tex-ipfs\" : \"ERROR\" , \"tex-main\" : \"ERROR\" , \"tex-mill\" : \"ERROR\" , \"tex-repo\" : \"ERROR\" , \"tex-repo-config\" : \"ERROR\" , \"tex-service\" : \"ERROR\" , \"tex-util\" : \"ERROR\" , \"transport\" : \"ERROR\" , \"ulimit\" : \"ERROR\" } They should all be at their default value of \"ERROR\". Note that you have access to all of the IPFS log systems as well. Change log levels \u00b6 You can alter a peer's log levels even when it's running. Tip During development, start the daemon with --debug . This will set all of the \"tex-\" log systems to \"DEBUG\". You can then tail the logs, like: tail -f \"path/to/repo/logs/textile.log\" . Set all of the \"tex-\" log systems to \"INFO\": cmd textile logs --level=\"info\" --tex-only Success { \"tex-broadcast\" : \"INFO\" , \"tex-core\" : \"INFO\" , \"tex-datastore\" : \"INFO\" , \"tex-gateway\" : \"INFO\" , \"tex-ipfs\" : \"INFO\" , \"tex-main\" : \"INFO\" , \"tex-mill\" : \"INFO\" , \"tex-repo\" : \"INFO\" , \"tex-repo-config\" : \"INFO\" , \"tex-service\" : \"INFO\" , \"tex-util\" : \"INFO\" } Possible log level values are \"debug\", \"info\", \"warning\", \"error\", and \"critical\". See textile logs --help for more. Config \u00b6 When your peer starts, it loads a JSON config file from the repository directory, called \"textile\". This file lives alongside the IPFS config file (named \"config\"). You must restart your peer after making changes to either of these files. View a config value \u00b6 We can view the entire config or a specific value behind any JSON key. Try viewing the \"Addresses\" config: cmd textile config \"Addresses\" JS HTTP const config = await textile . config . get ( \"Addresses\" ) Success { \"API\" : \"127.0.0.1:40600\" , \"CafeAPI\" : \"0.0.0.0:40601\" , \"Gateway\" : \"127.0.0.1:5050\" } textile config will display the entire file. Set a config value \u00b6 Changing values follows the same pattern. We can update our second peer's gateway bind address as follows: cmd textile config \"Addresses.Gateway\" \\\"127.0.0.1:9090\\\" JS HTTP const config = await textile . config . set ( \"Addresses.Gateway\" , \"127.0.0.1:9090\" ) Success Updated! Restart daemon for changes to take effect. Restart the daemon (or your Textile instance for users of a mobile SDK): cmd textile daemon --repo-dir=\"/tmp/buddy\" Success go-textile version: v0.1.12 Repo version: 13 Repo path: /Users/sander/.textile/repo API address: 127.0.0.1:40600 Gateway address: 127.0.0.1:5050 System version: amd64/darwin Golang version: go1.12.3 PeerID: 12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay Account: P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j You should now see the new gateway bind address in the config: cmd textile config JS HTTP const config = await textile . config . get () Success { \"API\": { \"HTTPHeaders\": { \"Access-Control-Allow-Headers\": [ \"Content-Type\", \"Method\", \"X-Textile-Args\", \"X-Textile-Opts\", \"X-Requested-With\" ], \"Access-Control-Allow-Methods\": [ \"GET\", \"POST\", \"DELETE\", \"OPTIONS\" ], \"Access-Control-Allow-Origin\": [ \"http://localhost:*\", \"http://127.0.0.1:*\" ], \"Server\": [ \"go-textile/0.1.12\" ] }, \"SizeLimit\": 0 }, \"Account\": { \"Address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"Thread\": \"12D3KooWLMV52tB3kP7qeRwrwfHQpaZZFaMnAm2wEwroY6xBsPwB\" }, \"Addresses\": { \"API\": \"127.0.0.1:41600\", \"CafeAPI\": \"127.0.0.1:40601\", \"Gateway\": \"127.0.0.1:9090\" }, \"Cafe\": { \"Client\": { \"Mobile\": { \"P2PWireLimit\": 0 } }, \"Host\": { \"NeighborURL\": \"\", \"Open\": false, \"SizeLimit\": 0, \"URL\": \"\" } }, \"IsMobile\": false, \"IsServer\": false, \"Logs\": { \"LogToDisk\": true }, \"Threads\": { \"Defaults\": { \"ID\": \"\" } } } Cafe Hosts \u00b6 Cafe peers (or just cafes) provide services to other peers. Cafes are easy to deploy and manage (single executable, Docker). Checkout the full guide if you're interested in hosting your own. For the purposes of this tour, let's transform your second peer into a local cafe. A production cafe should be run on a publicly accessible host, but a local cafe is useful for development and testing. On your second peer, open the cafe API by setting the config key \"Cafe.Host.Open\" to true : cmd textile config \"Cafe.Host.Open\" true --api=\"http://127.0.0.1:41600\" Success Updated! Restart daemon for changes to take effect. Now, restart the daemon in debug mode: cmd textile daemon --repo-dir=\"/tmp/buddy\" --debug Success go-textile version: v0.1.12 Repo version: 13 Repo path: /tmp/buddy API address: 127.0.0.1:41600 Gateway address: 127.0.0.1:9090 Cafe address: 0.0.0.0:40601 System version: amd64/darwin Golang version: go1.12.3 PeerID: 12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV Account: P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs Note that Cafe address: 0.0.0.0:40601 is now shown after restarting the daemon. Create a client token \u00b6 In order for clients to register with your cafe, they'll need one of its client tokens . Info Cafe client tokens are generated from cryptographically secure random bytes, salted, hashed, and stored locally. You can think of them as very strong passwords. Create a token as follows: cmd textile tokens create JS HTTP const token = await textile . tokens . create () Success bYJLFjHsRsZjdzEwC2pJwQthmfYb3DPYyBCcU49Dkfqd5xGHk5NR77X8GDKG View client tokens \u00b6 View the cafe's client tokens with the ls command: cmd textile tokens ls JS HTTP const tokens = await textile . tokens . list () Success [ \"2ZwjtRaFj6kMxnKm3BLnueqaT3WLXQS3evEZoJ87oZLUMhdNxr4sVKorUWSu3ZHgfBbyU726trkqSnsvLGmiJ8bpv5PEqqSf25f\" ] The value shown in the list is the salted and hashed token. The plaintext version needed by a registering client is only available at creation time as they are never stored by the cafe. Cafe Clients \u00b6 Cafes perform work for their clients , which are account peers. Account peers don't need to be registered with a cafe, but doing so has advantages, like improving discovery of its content and providing an inbox for messages received offline. See the cafe service section for more about how cafes assist other peers on the network. Tip Textile hosts a development cafe that you are free to use for non-production purposes. More details can be found here . Register with a cafe \u00b6 Using the token created above, register with your locally running test cafe: cmd textile cafes add \"http://127.0.0.1:40601\" --token=\"bYJLFjHsRsZjdzEwC2pJwQthmfYb3DPYyBCcU49Dkfqd5xGHk5NR77X8GDKG\" JS HTTP const token = \"bYJLFjHsRsZjdzEwC2pJwQthmfYb3DPYyBCcU49Dkfqd5xGHk5NR77X8GDKG\" const success = await textile . cafes . add ( \"http://127.0.0.1:40601\" , token ) Success { \"access\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJhY2Nlc3MiLCJhdWQiOiIvdGV4dGlsZS9jYWZlLzEuMC4wIiwiZXhwIjoxNTU4OTk2NDcxLCJqdGkiOiIxS1luQ1doOXRkOU1abjVrdUtIYnJjR0NPRlkiLCJpYXQiOjE1NTY1NzcyNzEsImlzcyI6IjEyRDNLb29XOXlhQUx4eGszMW5uYVBaQjl0emp3eEZ5UFVCcndMdUNYWjNGbkFXZzhWeVYiLCJzdWIiOiIxMkQzS29vV0NNVkxmTVY4dXpZcEZOMzhxbjJlTXM0OHRBdUhkVlpkajNhRjZuZXg2emF5In0.j9N-AGVZhU5-eTSOm6fkZkKVsAeTSrPXjx3BmyZoB4gKG_T2G3g0iSB1n2Bz0ZWEre8gt6xRGA3yL0bMUw-dAw\" , \"cafe\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"api\" : \"v0\" , \"node\" : \"0.1.12\" , \"peer\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"protocol\" : \"/textile/cafe/1.0.0\" , \"url\" : \"http://127.0.0.1:40601\" }, \"exp\" : \"2019-05-27T22:34:31.142527Z\" , \"id\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"refresh\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJyZWZyZXNoIiwiYXVkIjoiL3RleHRpbGUvY2FmZS8xLjAuMCIsImV4cCI6MTU2MTQxNTY3MSwianRpIjoicjFLWW5DV2g5dGQ5TVpuNWt1S0hicmNHQ09GWSIsImlhdCI6MTU1NjU3NzI3MSwiaXNzIjoiMTJEM0tvb1c5eWFBTHh4azMxbm5hUFpCOXR6and4RnlQVUJyd0x1Q1haM0ZuQVdnOFZ5ViIsInN1YiI6IjEyRDNLb29XQ01WTGZNVjh1ellwRk4zOHFuMmVNczQ4dEF1SGRWWmRqM2FGNm5leDZ6YXkifQ.erefmNinE3C1xpSa73TU6qJmTDLrjXtBh8-cojZ-D2_t6VrklYfffGGJLCQ7DKRv3UANS03U2KVX6WjH3GZADw\" , \"rexp\" : \"2019-06-24T22:34:31.142527Z\" , \"subject\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"type\" : \"JWT\" } A new client account associated with the provided token was added to your cafe. Your account peer now has an active cafe session which it can use to make authenticated requests. Cafe sessions are stateless JWT objects that can expire. Tip An account peer may be registered with more than one cafe, and account peers do not need to be registered to the same cafe(s). Additionally, peers can easily migrate from one cafe to another, simply be deregistering from one and registering with another. List cafe sessions \u00b6 You can view your active cafe sessions with the ls command: cmd textile cafes ls JS HTTP const sessions = await textile . cafes . list () Success { \"items\" : [ { \"access\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJhY2Nlc3MiLCJhdWQiOiIvdGV4dGlsZS9jYWZlLzEuMC4wIiwiZXhwIjoxNTU4OTk2NDcxLCJqdGkiOiIxS1luQ1doOXRkOU1abjVrdUtIYnJjR0NPRlkiLCJpYXQiOjE1NTY1NzcyNzEsImlzcyI6IjEyRDNLb29XOXlhQUx4eGszMW5uYVBaQjl0emp3eEZ5UFVCcndMdUNYWjNGbkFXZzhWeVYiLCJzdWIiOiIxMkQzS29vV0NNVkxmTVY4dXpZcEZOMzhxbjJlTXM0OHRBdUhkVlpkajNhRjZuZXg2emF5In0.j9N-AGVZhU5-eTSOm6fkZkKVsAeTSrPXjx3BmyZoB4gKG_T2G3g0iSB1n2Bz0ZWEre8gt6xRGA3yL0bMUw-dAw\" , \"cafe\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"api\" : \"v0\" , \"node\" : \"0.1.12\" , \"peer\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"protocol\" : \"/textile/cafe/1.0.0\" , \"url\" : \"http://127.0.0.1:40601\" }, \"exp\" : \"2019-05-27T22:34:31.142527Z\" , \"id\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"refresh\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJyZWZyZXNoIiwiYXVkIjoiL3RleHRpbGUvY2FmZS8xLjAuMCIsImV4cCI6MTU2MTQxNTY3MSwianRpIjoicjFLWW5DV2g5dGQ5TVpuNWt1S0hicmNHQ09GWSIsImlhdCI6MTU1NjU3NzI3MSwiaXNzIjoiMTJEM0tvb1c5eWFBTHh4azMxbm5hUFpCOXR6and4RnlQVUJyd0x1Q1haM0ZuQVdnOFZ5ViIsInN1YiI6IjEyRDNLb29XQ01WTGZNVjh1ellwRk4zOHFuMmVNczQ4dEF1SGRWWmRqM2FGNm5leDZ6YXkifQ.erefmNinE3C1xpSa73TU6qJmTDLrjXtBh8-cojZ-D2_t6VrklYfffGGJLCQ7DKRv3UANS03U2KVX6WjH3GZADw\" } ] } Check messages \u00b6 An account peer will periodically check each of its registered cafes for new messages received by the cafe on its behalf. You can also manually check for messages: cmd textile cafes messages JS HTTP const success = await textile . cafes . messages () Success ok Messages are downloaded in batches and queued for processing. This enables cafes to receive messages on an account peer's behalf when it is offline. Unregister with a cafe \u00b6 You can leave a cafe at any time. Data associated with your client account will be removed. cmd textile cafes rm \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" JS HTTP const success = await textile . cafes . remove ( \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" ) Success ok Info Cafes are anonymous and disposable infrastructure, meaning that you can replace one cafe with another and still participate in the network as before. IPFS \u00b6 The Textile API exposes a handful of the more useful IPFS endpoints. For the command-line client, these are id , cat , swarm peers , and swarm connect . Please open an issue or pull request for other IPFS APIs you would like to use via textile . View peer ID \u00b6 At some point, you will want to view your IPFS peer ID. This is the same ID shown in your contact and profile info and printed by the daemon on startup: cmd textile ipfs id JS HTTP const id = await textile . ipfs . id () Success 12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay See the IPFS doc for more info. Check out this post on the Textile blog for more info about how peers identify each other on the distributed web. View the peer swarm \u00b6 Your peer is always communicating, or \"gossiping\", with a changing sub-set of other peers on the IPFS network called a \"swarm\". You can view that swarm at any time. It should be relatively large at this point since your peer has been \"online\" for awhile. cmd textile ipfs swarm peers JS HTTP const peers = await textile . ipfs . peers () Success { \"Peers\" : [ { \"addr\" : \"/ip4/104.154.192.219/tcp/4001\" , \"peer\" : \"QmWAQKhwspxGmLbn23kBTWMSrhJe2HyivJx3Mi12GPdT4z\" }, { \"addr\" : \"/ip4/109.194.47.83/tcp/4001\" , \"peer\" : \"QmQCH7nuh5osaTj2BDKThL54fBJiQ8d5YMPcTokEP3dRem\" }, { \"addr\" : \"/ip4/109.194.47.83/tcp/4004\" , \"peer\" : \"QmbdY5KnhG6Dk5fEJZQSVDhHN7sdhSzsKMnJU6MnpmRg5h\" }, { \"addr\" : \"/ip4/122.114.171.159/tcp/10001\" , \"peer\" : \"QmTyZ4sMYQVEd9DXGEHCxouhKF6HyuzwbacJS9ZKb8Lr8B\" }, { \"addr\" : \"/ip4/13.59.235.81/tcp/4001\" , \"peer\" : \"QmYfywze6ADxF45Rmmcbv28MZQQ7QuiD1bV88n3Twyq7Ld\" }, { \"addr\" : \"/ip4/134.209.237.173/tcp/4001\" , \"peer\" : \"QmVFXZSJSsmpZoBaq1TfgDe4RGYfGonnxwToJN3jng7meD\" }, { \"addr\" : \"/ip4/137.117.141.25/tcp/4001\" , \"peer\" : \"QmVqgjoUAo1EAd7QpFYcMRuxfBQNBPStrLVHBz3FzLinZX\" }, { \"addr\" : \"/ip4/138.201.67.218/tcp/4002/ws\" , \"peer\" : \"QmbVWZQhCGrS7DhgLqWbgvdmKN7JueKCREVanfnVpgyq8x\" }, { \"addr\" : \"/ip4/139.178.68.51/tcp/4001\" , \"peer\" : \"QmaVhv3V6JpCsSexyZSqPFTSDNZLZvp3hifa78ntTnvn9c\" }, { \"addr\" : \"/ip4/147.75.109.15/tcp/4001\" , \"peer\" : \"QmdExkZGosUfEw4FFPrkdkfpFaaQ1HoZY2gBvJjWJoLEMf\" }, { \"addr\" : \"/ip4/147.75.46.187/tcp/4001\" , \"peer\" : \"QmXWMXquytgYKrMM3AZ8WCfxYqJdg2e2YK5aqocCT2r8Au\" }, { \"addr\" : \"/ip4/147.75.48.175/tcp/4001\" , \"peer\" : \"QmQemDUcDJDjjZBzL3fNMbQ72q8RK1h3rG6iWEN7zwFAgT\" }, { \"addr\" : \"/ip4/147.75.92.69/tcp/4001\" , \"peer\" : \"QmVwtm295H8qh3Gj2t3Mo2rfnU69A9EwKkts35uu922RmT\" }, { \"addr\" : \"/ip4/176.99.11.18/tcp/4001\" , \"peer\" : \"QmX8aSmP6j6HmXxkTZZBTJNv8yPJ1pU7bTRFyf83SQft2h\" }, { \"addr\" : \"/ip4/178.32.250.99/tcp/4001\" , \"peer\" : \"QmY7qra7XxWXz2DYguULqt9qXvczZr326wAGP7CukEctvV\" }, { \"addr\" : \"/ip4/18.185.14.140/tcp/4001\" , \"peer\" : \"QmdbxhD8SXxesfRRqwNRFFMgoXfCTKygn3mRj6tru8o5eJ\" }, { \"addr\" : \"/ip4/18.195.119.140/tcp/4001\" , \"peer\" : \"QmSfnb7FGivxSDsb7jyQes6JDdts7PLugEppgFfX5J32Bx\" }, { \"addr\" : \"/ip4/18.224.54.97/tcp/4001\" , \"peer\" : \"Qmdg1B1YJ3BtZ7VYPQY1uFn7me1kQZzuJquD1rYLGZwkAA\" }, { \"addr\" : \"/ip4/18.237.227.0/tcp/4001\" , \"peer\" : \"QmbdnQcvQEYxsHEDTk8TyopqkDoonwJ9QXXEvwJTizaNts\" }, { \"addr\" : \"/ip4/187.151.117.208/tcp/4001\" , \"peer\" : \"QmYN3x2AxHf3ksHKfXx9bgJJBFoSFLk7zRM5tZ8kzBiRXW\" }, { \"addr\" : \"/ip4/192.168.0.8/tcp/4001\" , \"peer\" : \"QmWjsB6syMRQpAjF9W39vLWn1g9wAW97vXXaBYD2vT3ZJt\" }, { \"addr\" : \"/ip4/192.168.0.8/tcp/4101\" , \"peer\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" }, { \"addr\" : \"/ip4/192.241.197.9/tcp/4001\" , \"peer\" : \"Qmf5FcVyjCehUfqtrRW4uEYEood37jW6u29rSD1Uga6w1W\" }, { \"addr\" : \"/ip4/195.46.227.2/tcp/4001\" , \"peer\" : \"QmW88x4CXMzymg7a22jy8J3JH3NJvCr2Rgg493aGTRSUQU\" }, { \"addr\" : \"/ip4/207.154.212.173/tcp/4001\" , \"peer\" : \"QmcqQ7GeJHBJyKasZCCgC8NHuh2xZUfR1BVUdsCSfbeYZJ\" }, { \"addr\" : \"/ip4/208.68.36.4/tcp/4001\" , \"peer\" : \"QmSvYwU4K4EuZzgmK3TBEVhwxnuM8RjahAEm9Agkbk6kES\" }, { \"addr\" : \"/ip4/217.69.14.5/tcp/4001\" , \"peer\" : \"QmdNSMKZEfUcNL8kVJfazFwqMEkva5eAeX4u91xAX6L8X5\" }, { \"addr\" : \"/ip4/218.103.136.66/tcp/4001\" , \"peer\" : \"QmWhw7b3nHp9qsJqmtzZysrsY71v5yMmwHCCzL5ojer1Jw\" }, { \"addr\" : \"/ip4/221.149.2.111/tcp/17394\" , \"peer\" : \"QmV34F67mUcEpq87ifyHGvmW3yyUjHBTi4NbJ42d3Wwbjc\" }, { \"addr\" : \"/ip4/223.17.211.208/tcp/57897\" , \"peer\" : \"QmatkeYLBXcTnQkCkxjTECph2uSpe24r3hLMdkQ4V9nALo\" }, { \"addr\" : \"/ip4/223.17.211.243/tcp/11267\" , \"peer\" : \"QmfKPg5euLfDLaVuXe5JfW8g7Xcfe4JgcUhkp34jbmoDha\" }, { \"addr\" : \"/ip4/23.92.31.84/tcp/4001\" , \"peer\" : \"QmWPPHiwbm4u9a2QRvWFy49RHNCLzDHsCCUrkHdAnckYUW\" }, { \"addr\" : \"/ip4/3.16.48.115/tcp/4001\" , \"peer\" : \"QmSR6CBn7NPkV4MuVHfM3UCEXwzgGD5k53H7KbSqA7b2hX\" }, { \"addr\" : \"/ip4/3.16.67.1/tcp/4001\" , \"peer\" : \"QmZeYh9LQSRLdhTMGtuha7BBarUxBVtxY7Jc2zAaMyFXvP\" }, { \"addr\" : \"/ip4/34.217.111.111/tcp/4001\" , \"peer\" : \"QmSjkiS837t8hT1Mbm4mAYMnVo5yhCgpvMPgGvSoMJcskn\" }, { \"addr\" : \"/ip4/34.240.225.90/tcp/4001\" , \"peer\" : \"Qmd256Ty5U8Ktou3HrGeXj6GirnEuEaecNLVGQhB6et28W\" }, { \"addr\" : \"/ip4/34.244.27.104/tcp/4001\" , \"peer\" : \"QmQaTKPoYpxecV4rnHrf4aKdgyRrCkuCKRE83DE6msdZg8\" }, { \"addr\" : \"/ip4/35.180.35.45/tcp/4001\" , \"peer\" : \"12D3KooWBCZEDkZ2VxdNYKLLUACWbXMvW9SpVbbvoFR9CtH4qJv9\" }, { \"addr\" : \"/ip4/36.110.109.114/tcp/4001\" , \"peer\" : \"QmbCGh5sgJAjjFWDw4JeLkoThBvWFBCgwc9nfB57QLzFmo\" }, { \"addr\" : \"/ip4/37.1.207.72/tcp/4001\" , \"peer\" : \"QmV1xHp8CAUTcFx6SyWkaZ7cUvVFAPiLrVeTqLafknAHWx\" }, { \"addr\" : \"/ip4/38.29.203.106/tcp/30711\" , \"peer\" : \"QmWVUG5ko1hN8HsWpZpiEQQQnt4khYYnXSFQE7rntzgvZU\" }, { \"addr\" : \"/ip4/40.113.140.104/tcp/4001\" , \"peer\" : \"QmUZg4LHARsMQfG5X29JkT9nRssdNxZx3GysojJsYHGPrd\" }, { \"addr\" : \"/ip4/40.117.34.253/tcp/4001\" , \"peer\" : \"QmVtPr2zPXDXZ7Ar1KJrLf8feHjPvNLeukhMm1bFzphA4R\" }, { \"addr\" : \"/ip4/41.72.193.142/tcp/4001\" , \"peer\" : \"QmWHhFfKp326abWQjgNqYCDZQVReRYguQsQuDho3YsZPqf\" }, { \"addr\" : \"/ip4/5.196.133.152/tcp/4001\" , \"peer\" : \"QmS5Z9CnGzq5F5MD4pvmRejEN2TNMtAWDnZxwyebRZqWrK\" }, { \"addr\" : \"/ip4/50.236.201.218/tcp/4001\" , \"peer\" : \"QmSfdK2HxLcqQ5VmW7ZtqSHkXbexPSprFN11zWHJa5CKkd\" }, { \"addr\" : \"/ip4/50.3.70.3/tcp/7\" , \"peer\" : \"Qmbi4qSVyperK6DEVdba6E2CrchdnVyTUjStbSb1A8DSdD\" }, { \"addr\" : \"/ip4/52.18.254.51/tcp/4001\" , \"peer\" : \"QmYnSZTvHhL2e5xT4Hkr9bEoGBic7eFJKqUAYWymSWaB5i\" }, { \"addr\" : \"/ip4/52.90.203.188/tcp/4001\" , \"peer\" : \"QmZWRFPXMaYLf2sTegMj7bP1JqP98oCgZteGg3NTUcJBkH\" }, { \"addr\" : \"/ip4/54.212.188.163/tcp/4001\" , \"peer\" : \"QmXmA7d4CuUAjfEcCQJXSS5NyowYDBJLbgGjVugjxpnFa8\" }, { \"addr\" : \"/ip4/54.219.142.88/tcp/4001\" , \"peer\" : \"12D3KooWLaJnBr1bqWkZCDhaFeGxKiCP91rt2gQ8rn7Lx7kcKAMY\" }, { \"addr\" : \"/ip4/54.77.221.96/tcp/4001\" , \"peer\" : \"QmSEwmV67SWoiKsKUiBfCBpTJjxr7ypQS7Md9Nye4EZX8V\" }, { \"addr\" : \"/ip4/54.93.79.15/tcp/4001\" , \"peer\" : \"QmQiEWx14TnX6tzgsdqKnXLbR55ZhfdXh2q49aYdheTMRD\" }, { \"addr\" : \"/ip4/66.155.94.103/tcp/4001\" , \"peer\" : \"QmQwAzFTKdZGmqvo8w4z4udDcdE6DUhqbt48MYEY2QUito\" }, { \"addr\" : \"/ip4/69.181.194.58/tcp/4001\" , \"peer\" : \"QmbQ1jUJquca964trBcL5tGw6ZDhcKeg3x4iaMQHXD8nd8\" }, { \"addr\" : \"/ip4/81.235.46.228/tcp/41099\" , \"peer\" : \"12D3KooWK2Ng4LwWKxLAuWH6oTBTpPNNor7Kwk1iL5ndCp6ncPiU\" }, { \"addr\" : \"/ip4/83.49.184.55/tcp/4001\" , \"peer\" : \"QmSeD98VAftZ6vUanVQcKbXKAT28UnpVH9zaAkuDRghxiw\" }, { \"addr\" : \"/ip4/87.197.157.72/tcp/4001\" , \"peer\" : \"QmTbjP4HmeRNUxkSDpcXxyL2e3NFiTTWF5fVsmcuFbJfoN\" }, { \"addr\" : \"/ip4/94.23.19.73/tcp/4001\" , \"peer\" : \"QmVjB18xK7UAR9f6sGEHP8o5qgb1H8Ewpu3kcBo8p2zKjw\" }, { \"addr\" : \"/ip4/95.179.213.74/tcp/4001\" , \"peer\" : \"QmcFshtLpo29wHDLJ56eqnRzreZWZYjdxhP2TadTahYQPC\" }, { \"addr\" : \"/ipfs/QmQaTKPoYpxecV4rnHrf4aKdgyRrCkuCKRE83DE6msdZg8/p2p-circuit\" , \"peer\" : \"QmfXzPqSzZHuabJpGTQjGgMusgVBXsunKDEt5SQX96eAAc\" }, { \"addr\" : \"/ipfs/QmXmA7d4CuUAjfEcCQJXSS5NyowYDBJLbgGjVugjxpnFa8/p2p-circuit\" , \"peer\" : \"QmfTqRRvtPgoorN2aPRvsfAVd8GVyup7YYiFGTn477Q2PH\" }, { \"addr\" : \"/ipfs/QmYnSZTvHhL2e5xT4Hkr9bEoGBic7eFJKqUAYWymSWaB5i/p2p-circuit\" , \"peer\" : \"QmbWJwDa9ESDwHnrxT12QDmRBMxeAJkhQjNuia45idL1du\" }, { \"addr\" : \"/ipfs/Qmdg1B1YJ3BtZ7VYPQY1uFn7me1kQZzuJquD1rYLGZwkAA/p2p-circuit\" , \"peer\" : \"QmVzQfhD3c2rj6GrYZgBadxsV3msHW69LockGJwsH6nRjK\" } ] } See the IPFS doc for more info. Connect to another peer \u00b6 You may also want to check or open a connection to another peer. You can do this by supplying a complete multi-address . Try connecting to one of Textile's federated cafe peers: cmd textile ipfs swarm connect \"/ip4/18.224.173.65/tcp/4001/ipfs/12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d\" JS HTTP const success = await textile . ipfs . connect ( \"/ip4/18.224.173.65/tcp/4001/ipfs/12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d\" ) Success [ \"connect 12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d success\" ] See the IPFS doc for more info. Cat any data on the network \u00b6 Downloading data behind a path is one of the most useful IPFS APIs. For example, we can \"cat\" an unencrypted Textile logo into a PNG file: cmd textile ipfs cat \"QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6/0/d\" > textile.png JS HTTP const logo = await textile . ipfs . cat ( \"QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6/0/d\" ) Success See the IPFS doc for more info. IPFS Gateway \u00b6 All desktop and server peers host an IPFS gateway. Read more and see some examples here . A gateway to the gateways Textile hosts a number of federated cafe peers around the globe, each with a public-facing gateway. A latency-based load balancer ties them all together at https://gateway.textile.cafe , which you are free to use in your applications.","title":"A Tour of Textile"},{"location":"a-tour-of-textile/#concepts","text":"The rest of this document assumes that you are somewhat familiar with the following concepts: Introduction The wallet and accounts Contacts and peers Threads and blocks Files , schemas , and mills Cafes","title":"Concepts"},{"location":"a-tour-of-textile/#get-started","text":"If you're using the command-line or JavaScript HTTP client, make sure your local daemon is running. Info Peer-to-peer (p2p) slang is notoriously confusing. Throughout these docs, we often use the words \"peer\" and \"node\". Generally speaking, they are interchangeable. However, a network node refers to the actual connection point that sends and receives data. On a p2p network like IPFS, all nodes are also peers . The network is like a \"homogeneous solution\" of particles (nodes). Mother Nature gets it!","title":"Get started"},{"location":"a-tour-of-textile/#connecting-your-client","text":"If you are running any of the client libraries (JavaScript, React Native, iOS, or Android), you will need to import and sometimes initialize your Textile session. Initialization is slightly different in each client so be sure to read specific client setup steps for the library you use. JS HTTP // No initialization needed, only import import textile from \"@textile/js-http-client\" React Native import textile from \"@textile/react-native-sdk\" // Make the sensitive below phrase available to your user for secure storage const phrase : string | undefined = await textile . initialize ( false , false ) iOS @ todo Android @todo","title":"Connecting your client"},{"location":"a-tour-of-textile/#peer-profile","text":"Now, with Textile ready, take a look at your peer profile: cmd textile profile get JS HTTP const profile = await textile . profile . get () React Native const profile = await textile . profile . get () iOS @ todo Android @todo Success { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"created\" : \"2019-04-19T21:44:46.310082Z\" , \"updated\" : \"2019-04-19T21:44:46.310082Z\" } id : Your embedded IPFS node's peer ID, which is unique on the network address : Your wallet account's address (public key), which can be shared with other account peers Hint Addresses always start with a \"P\" for \"public\". Account seeds (private keys) always start with an \"S\" for \"secret\", which should help you remember which one to keep secret. Info Textile uses an ed25519 HD wallet and IPFS peer IDs because they provide fast key generation, signing, and verification. These properties become important on less powerful devices like phones.","title":"Peer profile"},{"location":"a-tour-of-textile/#set-a-display-name","text":"You can set a display name for your peer. Interacting with other users is a lot easier with display names. However, they are not unique on the network. cmd textile profile set name \"Clyde\" JS HTTP await textile . profile . setName ( \"Clyde\" ) React Native await textile . profile . setName ( \"Clyde\" ) iOS @ todo Android @todo Success ok","title":"Set a display name"},{"location":"a-tour-of-textile/#set-an-avatar-image","text":"Similarly, you can assign your peer a publicly visible avatar image: cmd textile profile set avatar \"path/to/an/image\" JS HTTP const form = new FormData () form . append ( 'file' , file , file . name ) // file is File object or raw Buffer/Blob await textile . profile . setAvatar ( form ) React Native await textile . profile . setAvatar ( \"<image-hash>\" ) iOS @ todo Android @todo Success ok Now, your avatar will be tracked internally by the special private account thread , keyed with your account seed. This means that when your avatar (or display name) is updated, your other account peers (if you have any) will also pick up the change. Take another look at your peer profile and see what happened: cmd textile profile get JS HTTP const profile = await textile . profile . get () React Native const profile = await textile . profile . get () iOS @ todo Android @todo Success { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"created\" : \"2019-04-19T21:44:46.310082Z\" , \"updated\" : \"2019-04-20T00:31:34.699845Z\" } Huzzah! If we had any threads, these updates would have been announced to them so that other members could pick up the changes.","title":"Set an avatar image"},{"location":"a-tour-of-textile/#account","text":"Generally speaking, you can think of peers as ephemeral agents owned by your account. You may lose your device and/or need to access your account on a new one. As mentioned above, all peers have a special private account thread . In addition to avatars, this thread keeps track of your account peers.","title":"Account"},{"location":"a-tour-of-textile/#view-account","text":"Take a look at your account: cmd textile account get JS HTTP const account = await textile . account . get () React Native // React native has endpoints for each component of the account const address = await textile . account . address () iOS @ todo Android @todo Success { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"peers\" : [ { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"created\" : \"2019-04-19T21:44:46.310082Z\" , \"updated\" : \"2019-04-20T00:31:34.699845Z\" } ] } Yep, just one peer so far. This object is actually a contact . We'll come back to contacts later.","title":"View account"},{"location":"a-tour-of-textile/#view-account-seed","text":"Of course, your account seed (private key) is not included in the public-facing contact object, but we can access it with the seed command: cmd textile account seed JS HTTP const seed = await textile . account . seed () React Native const seed = await textile . account . seed () iOS @ todo Android @todo Success SXdGtLsF3ULiBDpVZ1MAmNBVdsMSNQGhqtDEuxbn732Wi3XJ","title":"View account seed"},{"location":"a-tour-of-textile/#account-sync","text":"Periodically, your local peer will search the network for other peers that are part of the same account ( account peers ). Technically, your local peer will search for thread snapshots created by any peer with your account address. If it finds any, the snapshots are decrypted and traversed like normal thread updates, keeping all your peers in sync. Hint A thread snapshot is an encrypted object containing metadata and a reference to the latest update block, from which all others can be found. A snapshot may be stored at rest on a cafe peer or constructed dynamically for an account peer. You can also manually run account sync: cmd textile account sync JS HTTP await textile . account . sync () React Native await textile . account . sync () iOS @ todo Android @todo Success No snapshots were found Well, that's what we'd expect at this point. You don't have any threads yet. We'll come back to this later in the tour.","title":"Account sync"},{"location":"a-tour-of-textile/#contacts","text":"As we saw above in the accounts section, your peer has a contact for itself , much like iOS or other contact systems. A contact displays the name and avatar from its most recently updated peer. A contact is essentially a collection of peers that share the same account.","title":"Contacts"},{"location":"a-tour-of-textile/#search-for-contacts","text":"In addition to your \"self\" contact, you can search for and add contacts to your local \"address book\". Info Search is handled by a publish-subscribe mechanism, where participants across the entire network stream results directly to the requester. In many cases, the search responders are cafe peers, serving indexes for their clients, but normal account peers can also participate in search. Try searching for \"Andrew\": cmd textile contacts search --name=\"Andrew\" JS HTTP // The js-http-client returns a `ReadableStream` to be accessed by the caller // See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details const stream = await textile . contacts . search ( \"Andrew\" ) React Native @ todo iOS @ todo Android @todo Success { \"id\" : \"P8FxdgZ1rWxaQ4DrmMBADuYTz4XGpQeThJYxfL2X4WN89hP8\" , \"date\" : \"2019-04-12T21:41:28.071460350Z\" , \"value\" : { \"@type\" : \"/Contact\" , \"address\" : \"P8FxdgZ1rWxaQ4DrmMBADuYTz4XGpQeThJYxfL2X4WN89hP8\" , \"name\" : \"devandrewwww\" , \"avatar\" : \"QmQwmPninpCRdkAhbPwKaf7hAUwkTb2wiwupcgnsMp5yW5\" , \"peers\" : [ ... ] } } { \"id\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"date\" : \"2019-02-08T02:59:35.082729740Z\" , \"value\" : { \"@type\" : \"/Contact\" , \"address\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"name\" : \"andrew knees and toes, knees and toes\" , \"avatar\" : \"QmRLnTHdvg4rAh1AKJaHydAZ42sgygLNdvvA7aMwaRY5SK\" , \"peers\" : [ ... ] } } ... ... ... With any luck, you should see a bunch of results. You can also search for a single account by its address: cmd textile contacts search --address=\"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" JS HTTP // Again, `stream` is a `ReadableStream` to be accessed by the caller const stream = await textile . contacts . search ( undefined , \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" ) React Native @ todo iOS @ todo Android @todo Success { \"id\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"date\" : \"2019-02-08T02:59:35.082729740Z\" , \"value\" : { \"@type\" : \"/Contact\" , \"address\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"name\" : \"andrew knees and toes, knees and toes\" , \"avatar\" : \"QmRLnTHdvg4rAh1AKJaHydAZ42sgygLNdvvA7aMwaRY5SK\" , \"peers\" : [ ... ] } }","title":"Search for contacts"},{"location":"a-tour-of-textile/#add-a-contact","text":"We can add contacts by name or address. This will actually perform a search as above, and then present you with a prompt to confirm the addition. When you search by name, there may be more than one result. Try adding one of the contacts from above by address: cmd textile contacts add --address=\"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" JS HTTP const contact = ... // Should be a Contact object, as returned by `search` `ReadableStream` await textile . contacts . add ( \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , contact ) React Native @ todo iOS @ todo Android @todo Success Add 1 contact? [y/n]: y added P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG","title":"Add a contact"},{"location":"a-tour-of-textile/#view-contacts","text":"We can now see the added contact contact in our \"address book\": cmd textile contacts ls JS HTTP const contacts = await textile . contacts . list () React Native const contacts = await textile . contacts . list () iOS @ todo Android @todo Success { \"items\" : [ { \"address\" : \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" , \"avatar\" : \"QmRLnTHdvg4rAh1AKJaHydAZ42sgygLNdvvA7aMwaRY5SK\" , \"name\" : \"andrew knees and toes, knees and toes\" , \"peers\" : [ ... ] } ] }","title":"View contacts"},{"location":"a-tour-of-textile/#delete-a-contact","text":"Removing contacts is done by address: cmd textile contacts rm \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" JS HTTP await textile . contacts . remove ( \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" ) React Native await textile . contacts . remove ( \"P8rW2RCMn75Dcb96Eiyg8mirb8nL4ruCumvJxKZRfAdpE5fG\" ) iOS @ todo Android @todo Success ok","title":"Delete a contact"},{"location":"a-tour-of-textile/#ping-another-peer","text":"Pinging another peer is a useful way to check connectivity. If you want to ping a mobile or desktop peer (a peer without a public IP address), you may need to connect to it first with textile ipfs connect /p2p-circuit/ipfs/<peerID> . See this section for more info about the IPFS sub-commands. Let's ping one of Textile's federated cafes: cmd textile ping 12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d JS HTTP await textile . utils . ping ( \"12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d\" ) React Native @ todo iOS @ todo Android @todo Success online Looking good.","title":"Ping another peer"},{"location":"a-tour-of-textile/#threads","text":"Threads are distributed datasets of encrypted messages and files, often shared between peers, and governed by schemas. The rules for thread access and sharing are controlled by a combination of the type and sharing settings. An immutable member address \"whitelist\" gives the initiator fine-grained control. The table below outlines access patterns for the thread initiator and the whitelist members. An empty whitelist is taken to be \"everyone\", which is the default. Thread type controls read (R), annotate (A), and write (W) access: private --> initiator: RAW, whitelist: read_only --> initiator: RAW, whitelist: R public --> initiator: RAW, whitelist: RA open --> initiator: RAW, whitelist: RAW Thread sharing style controls if (Y/N) a thread can be shared: not_shared --> initiator: N, whitelist: N invite_only --> initiator: Y, whitelist: N shared --> initiator: Y, whitelist: Y` Check out the comprehensive threads overview for more about how threads work. Info Access control will be moving to a more familiar, roll-based design in a future release. See this GitHub issue for more.","title":"Threads"},{"location":"a-tour-of-textile/#create-a-basic-thread","text":"Create a thread and give it the name, \"Basic\". Note that thread names are not unique. cmd textile threads add \"Basic\" JS HTTP const thread = await textile . threads . add ( \"Basic\" ) React Native const threadKey = 'your.bundle.id.version.Basic' const threadName = 'Basic' const schema = { id : '' , json : '' , preset : AddThreadConfig . Schema . Preset . BLOB } const config = { key : threadKey , name : threadName , type : Thread . Type . PRIVATE , sharing : Thread . Sharing . NOT_SHARED , schema : schema , force : false , members : [] } const newTarget = await textile . threads . add ( config ) iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmV4SQgYk2KcnjxAQwWrgizzyoLFSB1147RkP8xTRAc1LC\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-20T20:52:05.955566Z\" , \"id\" : \"QmV4SQgYk2KcnjxAQwWrgizzyoLFSB1147RkP8xTRAc1LC\" , \"parents\" : [], \"thread\" : \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1K9AdMotTN98hd6LZgOZAzpPBFr\" , \"name\" : \"Basic\" , \"peer_count\" : 1 , \"sk\" : \"CAESQL7Vb/FsCblSl9H6HNNG074KtFHLbQnFLDsZGS2N5K/brM5gAU6su7lxIGEN414b9kIa1LOCMubgtCGE8RgRbS0=\" , \"state\" : \"LOADED\" , \"whitelist\" : [] } The output shows metadata about the thread you just created, with a reference to the \"HEAD\" (latest) update block. At this point, this is also the only block, which indicates that your peer joined.","title":"Create a basic thread"},{"location":"a-tour-of-textile/#add-a-text-message","text":"Any thread can take a plain old text message. Later, we'll use these with an interactive chat session. Be sure to replace the thread parameter with the ID of the thread you generated in the last step. cmd textile messages add \"hello?\" --thread=\"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" JS HTTP await textile . messages . add ( \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"hello?\" ) React Native await textile . messages . add ( \"12D3KooWMSvp3cisDyu88Smgub8vMcMYnwsk1KdmtwVbLip9fkGk\" , \"hello?\" ) iOS @ todo Android @todo Success { \"block\" : \"QmZPWbydtcuZLtbd6cqrLuGSEzSs2C9P1f5nH3Ycu41UfS\" , \"body\" : \"hello?\" , \"comments\" : [], \"date\" : \"2019-04-20T20:55:05.278995Z\" , \"likes\" : [], \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }","title":"Add a text message"},{"location":"a-tour-of-textile/#add-some-data","text":"A thread can track data if it was created with a schema. The most basic schema is the built-in passthrough, or blob schema: { \"name\" : \"blob\" , \"pin\" : true , \"mill\" : \"/blob\" } If you read the overview doc , you'll remember that thread schemas are DAG schemas that contain steps to create each node. \"blob\" defines a single top-level DAG node without any links. We'll get to more complex schemas later. pin instructs the peer to locally pin the entire DAG node when it's created from the input. mill defines the function used to process (or \"mill\") the data on arrival. /blob is a passthrough, meaning that the data comes out untouched. We can create a thread with this schema using the --blob flag: cmd textile threads add \"Any old data\" --blob JS HTTP const blob = ( await textile . schemas . defaults ()). blob const thread = await textile . threads . add ( \"Any old data\" , blob ) React Native @ todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmWC6KDyVm8YFPKBGqKmc14MadCanCtrSbbm8b9r9TUbBe\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-20T22:43:59.992726Z\" , \"id\" : \"QmWC6KDyVm8YFPKBGqKmc14MadCanCtrSbbm8b9r9TUbBe\" , \"parents\" : [], \"thread\" : \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1K9OF0iWtUB6PMDyeqA6QwzZSkD\" , \"name\" : \"Any old data\" , \"peer_count\" : 1 , \"schema\" : \"QmQn4hHm42sou9YFWSCAsmHJ7kCAf2cXU9TXQTxS5CLdvL\" , \"schema_node\" : { \"mill\" : \"/blob\" , \"name\" : \"blob\" , \"pin\" : true }, \"sk\" : \"CAESQIq0gRpucHb8qUQg/1csjgKydDgDIuLL8FoLl0yJomQ/+IL0U+xOmaTrSnHodPDhNAKYSnU6ZKz52+o0Jqp8CZ0=\" , \"state\" : \"LOADED\" , \"whitelist\" : [] } Check out the other built-in schemas here . Hint Any data added to a thread ends up as a file , regardless of whether or not the source data was an actual file. For example, echoing a string into a thread results in a \"file\" containing that string. Let's add some data. Be sure to use your own thread ID. cmd echo \"mmm, bytes...\" | textile files add --thread=\"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" JS HTTP const block = await textile . files . add ( \"mmm, bytes...\" , \"\" , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) React Native const input = Buffer . from ( \"mmm, bytes...\" ). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) const block = await textile . files . add ( result . dir , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) iOS @ todo Android @todo Success File target: QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5 Added 1 file in 613.175326ms What just happened? The peer created a new DAG node for the input as defined by the schema. Every schema step adds a child node with two links: The target shown in the output is the root hash of the DAG. meta : A JSON object containing metadata about the input and how it was processed. Some of the values are used for de-duplicating encrypted data. Here's the value of meta in the node we just created: { \"mill\" : \"/blob\" , \"checksum\" : \"EPBRa7eDzgoXyvDXqRYuXLkRoZqMizZ4R8QkZyF8n9DP\" , \"source\" : \"EPBRa7eDzgoXyvDXqRYuXLkRoZqMizZ4R8QkZyF8n9DP\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmTwQWfkR343HHxhdhTX7er6eHnYkgej7GNNsmbS6eZCyQ\" , \"key\" : \"QQ3QUdkJ2LCH4ycDjEMHQVHkhnMRiZhkncMCN1i4pbYSXD1heeq2DuNrdm3F\" , \"media\" : \"text/plain; charset=utf-8\" , \"name\" : \"stdin\" , \"size\" : \"14\" , \"added\" : \"2019-04-20T22:46:19.976891Z\" , \"meta\" : {} } content : The output data of the schema step. Again, for our current example, this is just a passthrough (output is input). The files guide covers these concepts in more detail. Unless a schema step specifies \"plaintext\": true , the value of meta and content are both encrypted with the Advanced Encryption Standard (AES) using their very own symmetric key. We can view the keys for each node in the DAG using the keys command: cmd textile files keys \"QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5\" JS HTTP const keys = await textile . files . keys ( \"QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5\" ) React Native @ todo iOS @ todo Android @todo Success { \"files\" : { \"/0/\" : \"QQ3QUdkJ2LCH4ycDjEMHQVHkhnMRiZhkncMCN1i4pbYSXD1heeq2DuNrdm3F\" } } The output gives us the key for the node at index 0 . There's only one key because this target node only contains one file. To add an actual file or directory, just specify a path, e.g, textile files add \"path/to/something\" --thread=\"...\" . Let's try adding the same data again: cmd echo \"mmm, bytes...\" | textile files add --thread=\"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" JS HTTP const block = await textile . files . add ( \"mmm, bytes...\" , \"\" , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) React Native const input = Buffer . from ( \"mmm, bytes...\" ). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) const block = await textile . files . add ( result . dir , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) iOS @ todo Android @todo Success File target: QmaLsi4cDq449qBfgsNereVezVppAYk8V53b9YvRUUyaY5 Added 1 file in 138.218899ms Notice that the file target did not change . The peer was able to reuse the node from the prior addition because it detected that the same data was added via the same schema. This means that the input was not duplicated on the peer, even though it was encrypted non-deterministically. Info Good encryption is always non-deterministic, which means that re-encrypting the same input will always result in a different output.","title":"Add some data"},{"location":"a-tour-of-textile/#make-a-photo-album","text":"Now that you've got the hang of threads let's make something a little more interesting. Textile Photos uses threads to track your camera roll and shared photo albums using the built-in camera roll and media schemas. Let's create an open and shared thread for dog photos with the media schema: cmd textile threads add \"Dogs\" --type=\"open\" --sharing=\"shared\" --media JS HTTP await textile . threads . add ( \"Dogs\" , \"media\" , undefined , \"open\" , \"shared\" ) React Native @ todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmR3nzxS5sSv3aasqZZFmAip1okF2YSmwSuzjNcvR7Erus\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-22T21:24:27.133890Z\" , \"id\" : \"QmR3nzxS5sSv3aasqZZFmAip1okF2YSmwSuzjNcvR7Erus\" , \"parents\" : [], \"thread\" : \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1KEsojQy4DW9t2rqqhP6len4fA0\" , \"name\" : \"Dogs\" , \"peer_count\" : 1 , \"schema\" : \"QmeVa8vUbyjHaYaeki8RZRshsn3JeYGi8QCnLCWXh6euEh\" , \"schema_node\" : { \"links\" : { \"large\" : { \"mill\" : \"/image/resize\" , \"opts\" : { \"quality\" : \"80\" , \"width\" : \"800\" }, \"use\" : \":file\" }, \"small\" : { \"mill\" : \"/image/resize\" , \"opts\" : { \"quality\" : \"80\" , \"width\" : \"320\" }, \"use\" : \":file\" }, \"thumb\" : { \"mill\" : \"/image/resize\" , \"opts\" : { \"quality\" : \"80\" , \"width\" : \"100\" }, \"pin\" : true , \"use\" : \"large\" } }, \"name\" : \"media\" , \"pin\" : true }, \"sharing\" : \"SHARED\" , \"sk\" : \"CAESQBF0SBWyu8oj6cb+AdmZHE4Bw0W9R3J6XZnjn1241MVLv7R8H9aGb4c8pyn3+p1VwHxJyVxHlp5gMTV105wHLZY=\" , \"state\" : \"LOADED\" , \"type\" : \"OPEN\" , \"whitelist\" : [] } Notice that the media schema has links for a large , small , and thumb sized image. This schema does not store the raw input data. Take a look at the built-in camera roll schema for an example of how you might do that, as well as extract exif data from an image. Photo by William Milliot on Unsplash. Try adding the image above to your dogs thread: cmd textile files add \"~/Downloads/william-milliot-510766-unsplash.jpg\" --caption=\"Dog at work.\" --thread=\"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" JS HTTP const form = new FormData () form . append ( 'file' , file , file . name ) // file is File object or raw Buffer/Blob or even fs.createReadStream() in Node.js await textile . files . add ( base64ImageString , \"Dog at work\" , \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" ) ' React Native const base64ImageString = \"R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABA....\" const result = await textile . files . prepare ( base64ImageString , \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" ) const block = await textile . files . add ( result . dir , \"12D3KooWNihfHDLsiJ36qQRQQ2vMcBZRHd2VBs3wTFtyGEk7zGeq\" ) iOS @ todo Android @todo Success File target: QmT9Rj1wHosh1hL2kjVxm6RWtK3ZTSjb6b69qwdztVTkLR Added 1 file in 5.978401883s The above image is fairly large (~3.5 MB). So, your peer took some time to encode all of the requested sizes. Tip The /image/resize mill can take JPEG, PNG, and GIF images. Let's a look at the DAG node you just created. There will be three links, as defined by the schema: A DAG node created by the media schema. Info Notice that the media schema shown above only has \"pin\": true for the thumb node. In practice, this means that if you were registered with a cafe peer and were auto-syncing your threads, the other nodes (small and large) would be \"released\" and only the thumb node would remain stored locally. This functionality is similar to other cloud providers that only store low-res versions of your photos on device, but here you can define the behavior with a schema! By default, when you specify a directory path with the files add command, an update block will be added for each file. However, using the --group flag, we can create a single DAG \"folder\" and add it to the thread with a single update block. A DAG node created by the media schema using the --group flag.","title":"Make a photo album"},{"location":"a-tour-of-textile/#track-some-geojson-coordinates","text":"Let's go through one more thread use case that demonstrates how to create a custom DAG schema. Additionally, we'll make use of a JSON schema for tracking JSON documents. Make a file named location.json with the following JSON document: { \"name\" : \"location\" , \"mill\" : \"/json\" , \"json_schema\" : { \"$id\" : \"https://example.com/geographical-location.schema.json\" , \"$schema\" : \"http://json-schema.org/draft-07/schema#\" , \"title\" : \"Longitude and Latitude Values\" , \"description\" : \"A geographical coordinate.\" , \"required\" : [ \"latitude\" , \"longitude\" ], \"type\" : \"object\" , \"properties\" : { \"latitude\" : { \"type\" : \"number\" , \"minimum\" : -90 , \"maximum\" : 90 }, \"longitude\" : { \"type\" : \"number\" , \"minimum\" : -180 , \"maximum\" : 180 } } } } Add a new thread to track your hypothetical runs: cmd textile threads add \"My runs\" --schema-file \"~/Downloads/location.json\" --type=\"public\" --sharing=\"invite_only\" JS HTTP const locations = ( await fetch ( \"location.json\" )). json () const thread = await textile . threads . add ( \"My runs\" , locations , undefined , \"public\" , \"invite_only\" ) React Native @ todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-23T19:29:57.858974Z\" , \"id\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"parents\" : [], \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1KHU10LWw5Fc7NOcBcykhv085NF\" , \"name\" : \"My runs\" , \"peer_count\" : 1 , \"schema\" : \"QmeCxmcfiBANhLntPm5ceS6ragTnW4QjXEPednNa7R6o8p\" , \"schema_node\" : { \"json_schema\" : { \"$id\" : \"https://example.com/geographical-location.schema.json\" , \"$schema\" : \"http://json-schema.org/draft-07/schema#\" , \"description\" : \"A geographical coordinate.\" , \"properties\" : { \"latitude\" : { \"maximum\" : 90 , \"minimum\" : -90 , \"type\" : \"number\" }, \"longitude\" : { \"maximum\" : 180 , \"minimum\" : -180 , \"type\" : \"number\" } }, \"required\" : [ \"latitude\" , \"longitude\" ], \"title\" : \"Longitude and Latitude Values\" , \"type\" : \"object\" }, \"mill\" : \"/json\" , \"name\" : \"location\" }, \"sharing\" : \"INVITE_ONLY\" , \"sk\" : \"CAESQDlZnNWOC2hdJMQS1KuxeEHAb4/UTM455NswWAFzz7G9G3qzdmmja2jA9arsHjNvR+JvhyWnD54xglwfWq1gSpY=\" , \"state\" : \"LOADED\" , \"type\" : \"PUBLIC\" , \"whitelist\" : [] } Next, add some locations to your thread: cmd echo '{ \"latitude\": 48.858093, \"longitude\": 2.294694 }' | textile files add --thread=12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw JS HTTP await textile . files . add ({ latitude : 48.858093 , longitude : 2.294694 }, \"\" , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native const input = Buffer . from ( JSON . stringify ({ \"latitude\" : 48.858093 , \"longitude\" : 2.294694 }). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) const block = await textile . files . add ( result . dir , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Success File target: QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk Added 1 file in 534.774123ms Your peer will validate the input against the thread's schema. The input will also be validated against its embedded JSON schema (schemas within schemas!). Try adding a location with latitude great than 90, which is invalid: cmd echo '{ \"latitude\": 91, \"longitude\": 2.294694 }' | textile files add --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\"' JS HTTP await textile . files . add ({ latitude : 91 , longitude : 2.294694 }, \"\" , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native const input = Buffer . from ( JSON . stringify ({ \"latitude\" : 91 , \"longitude\" : 2.294694 }). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) const block = await textile . files . add ( result . dir , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Fail - latitude: Must be less than or equal to 90/1","title":"Track some GeoJSON coordinates"},{"location":"a-tour-of-textile/#share-a-thread","text":"Let's share this thread with another user. It was created with type, \"public\", meaning that other members will be able to read your updates, but not add new locations. Threads with an \"open\" type are writable by all members. Info \"Writes\" refer to messages and files, whereas \"annotations\" refer to comments and likes. For this tour, let's start another peer from a different wallet account. Below is a handy way to initialize an account peer for testing. If you are using any of the client libraries for the tour, use the CMD example from your terminal to run your second peer. cmd textile init --seed=\"$(textile wallet init | tail -n1)\" --repo-dir=\"/tmp/buddy\" --swarm-ports=\"4101\" --api-bind-addr=\"127.0.0.1:41600\" --gateway-bind-addr=\"127.0.0.1:5150\" Success Initialized account with address P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs Hint We used non-default ports so that this peer won't collide with the first one. Start the daemon in a new terminal: cmd textile daemon --repo-dir=\"/tmp/buddy\" Success 23 Apr 19 14:02 PDT P7X3gZu added JOIN update to Y6xBsPwB go-textile version: v0.1.12 Repo version: 13 Repo path: /tmp/buddy API address: 127.0.0.1:41600 Gateway address: 127.0.0.1:5150 System version: amd64/darwin Golang version: go1.12.3 PeerID: 12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV Account: P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs Now that you have two peers running, invite the new account to your \"My runs\" thread: cmd textile invites create --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" --address=\"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" JS HTTP await textile . invites . add ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ) React Native await textile . invites . add ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ) iOS @ todo Android @todo Success Could not find contact locally, searching network... { \"id\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"date\": \"2019-04-23T20:56:05.858784Z\", \"value\": { \"@type\": \"/Contact\", \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"peers\": [ { \"id\": \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\", \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"created\": \"2019-04-23T20:56:05.858784Z\", \"updated\": \"2019-04-23T20:56:05.858784Z\" } ] } } Add and invite P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs? [y/n]: y added P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs ok This new account is not an existing contact. So, your peer will ask the network for its contact info. You can confirm that, yes, you'd like to add this account to your local contacts and send it an invite to your thread. Hint You just created an \"account-to-account\" invite, which is useful between existing account. \"External\" invites are useful when you want to invite a friend over another channel like SMS. See textile invites create --help for more. Next, we'll pretend that we are the second account and accept the invite. You should see a notification that you were invited to a thread in the daemon output. 23 Apr 19 14:08 PDT Clyde invited you to join QE5m1qw Before you accept, list your pending invites and grab the invite's ID: cmd textile invites ls --api=\"http://127.0.0.1:41600\" Success { \"items\" : [ { \"date\" : \"2019-04-23T21:08:29.285920Z\" , \"id\" : \"QmXcJmyX2vbeJTcZSkoZCHc74yycjJcXbxCHkLknJhyPaL\" , \"inviter\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" }, \"name\" : \"My runs\" } ] } As expected, it looks like Clyde invited us to \"My runs\". Notice that we had to supply the --api flag to tell the command-line client to list invites from the non-default peer API. Tip You can avoid the need to use the --api when interacting with non-default peer APIs by exporting an environment variable, e.g., export API=\"http://127.0.0.1:41600\" . You could ignore the invite with textile invites ignore . However, we like Clyde and want to support his running efforts! cmd textile invites accept \"QmXcJmyX2vbeJTcZSkoZCHc74yycjJcXbxCHkLknJhyPaL\" --api=\"http://127.0.0.1:41600\" Success { \"author\": \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\", \"date\": \"2019-04-23T21:32:22.486183Z\", \"id\": \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\", \"parents\": [ \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ], \"thread\": \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\", \"type\": \"JOIN\", \"user\": { \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"name\": \"P7X3gZu\" } } The output shows your \"join\" update in the thread. Take a look at your second peer's daemon output: 23 Apr 19 14:32 PDT P7X3gZu added ANNOUNCE update to Y6xBsPwB 23 Apr 19 13:08 PDT Clyde added FILES update to QQE5m1qw 23 Apr 19 12:29 PDT Clyde added JOIN update to QQE5m1qw 23 Apr 19 14:32 PDT P7X3gZu added JOIN update to QQE5m1qw After accepting the invite, your peer downloaded the older thread updates, picking up the initiator's files (in this case, location coordinates). Clyde's new updates will also be picked up by your second peer.","title":"Share a thread"},{"location":"a-tour-of-textile/#list-blocks","text":"Take a closer look at the \"My runs\" thread using the blocks ls command, which lists updates blocks known to your peer: cmd textile blocks ls --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" JS HTTP await textile . blocks . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native @ todo iOS @ todo Android @todo Success { \"items\" : [ { \"id\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"author\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"type\" : \"JOIN\" , \"date\" : \"2019-04-23T21:32:22.486183Z\" , \"parents\" : [ \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ], \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } }, { \"id\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"type\" : \"FILES\" , \"date\" : \"2019-04-23T20:08:51.686544Z\" , \"parents\" : [ \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" ], \"target\" : \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" } }, { \"id\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"type\" : \"JOIN\" , \"date\" : \"2019-04-23T19:29:57.858974Z\" , \"parents\" : [ ], \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" } } ] } The output should be the exact same on both your peers.","title":"List blocks"},{"location":"a-tour-of-textile/#add-a-comment","text":"Using the output from blocks ls , add a comment to the one and only FILES update in the \"My runs\" thread: cmd textile comments add \"Is this an outlier?\" --block=\"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" --api=\"http://127.0.0.1:41600\" JS HTTP await textile . comments . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"Is this an outlier?\" ) React Native await textile . comments . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"Is this an outlier?\" ) iOS @ todo Android @todo Success { \"body\" : \"Is this an outlier?\" , \"date\" : \"2019-04-23T22:21:04.253734Z\" , \"id\" : \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } Tip If you don't set a display name for your peer, it will fallback to the first bit of your account address. Remember, this is a \"public\" type thread, meaning that all members can annotate (comment / like).","title":"Add a comment"},{"location":"a-tour-of-textile/#add-a-like","text":"Likes are added in a similar fashion: cmd textile likes add --block=\"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" JS HTTP await textile . likes . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ) React Native await textile . likes . add ( \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" ) iOS @ todo Android @todo Success { \"date\" : \"2019-04-23T22:25:06.850779Z\" , \"id\" : \"QmW5BY11hTLJJpZ6eSPnTpGPLRAcXzmBEPpeU4foq8BcNh\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } } Whoa, Clyde liked that you joined his thread. What a guy!","title":"Add a \"like\""},{"location":"a-tour-of-textile/#start-a-chat","text":"We've already covered how to add plain text messages to a thread. Combined with a schema, you can build a media-rich chat interface. In fact, this is exactly what Textile Photos does with its \"groups\". A Textile Photos group Create a new thread for chatting with your friend P7X3gZu : cmd textile threads add \"Chat\" --type=\"open\" --sharing=\"shared\" --whitelist=\"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" JS HTTP await textile . threads . add ( \"chat\" , undefined , undefined , \"open\" , \"shared\" , [ \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ]) React Native @todo iOS @ todo Android @todo Success { \"block_count\" : 1 , \"head\" : \"QmVPzdEQrcXJKMnCpvuUcTk8sz9LTVFuY4dB9HXX2B5jtg\" , \"head_block\" : { \"author\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"date\" : \"2019-04-23T23:21:52.483721Z\" , \"id\" : \"QmVPzdEQrcXJKMnCpvuUcTk8sz9LTVFuY4dB9HXX2B5jtg\" , \"parents\" : [], \"thread\" : \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" , \"name\" : \"Clyde\" } }, \"id\" : \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" , \"initiator\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"1KHwDgdRK6qV9pvIEBwNY8ZFyVf\" , \"name\" : \"Chat\" , \"peer_count\" : 1 , \"sharing\" : \"SHARED\" , \"sk\" : \"CAESQNKwDki8xpJ8dw3ifAfsGkqjz4Xr885uKlI0LjGTQPxiTHIas0+WrN7WErhk5jXRGmdMV5wAKuskKUOQhp4kKAU=\" , \"state\" : \"LOADED\" , \"type\" : \"OPEN\" , \"whitelist\" : [ \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" ] } The whitelist ensures the chat remains between the two of us. As before, we need to create an invite and accept it. However, let's try an \"external\" invite: cmd textile invites create --thread=\"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" JS HTTP // The below invite key can be sent securely to recipient in any way convenient const inviteKey = await textile . invites . addExternal ( \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" ) React Native // The below invite key can be sent securely to recipient in any way convenient const inviteKey = await textile . invites . addExternal ( \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" ) iOS @ todo Android @todo Success { \"id\" : \"QmYzhyFhRGX3GBgsLMKoGrQqMWwPFKyPtsGmGbvma63zCf\" , \"inviter\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"key\" : \"cCBPKRN6723KkroCfMsLVHj3cbVkwpg47s5wdjyEPxXz6rRoo6mjBZqiizd\" } The only difference this time was that we didn't specify --address . Instead of getting sent directly to another peer, the invite was encrypted with the key shown in the output and persisted to IPFS. Now, you're free to send it around however you choose. In order to accept, the recipient has to specify the id and key : cmd textile invites accept \"QmYzhyFhRGX3GBgsLMKoGrQqMWwPFKyPtsGmGbvma63zCf\" --key=\"cCBPKRN6723KkroCfMsLVHj3cbVkwpg47s5wdjyEPxXz6rRoo6mjBZqiizd\" --api=\"http://127.0.0.1:41600\" Success { \"author\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"date\" : \"2019-04-24T00:03:09.432176Z\" , \"id\" : \"QmRBZmo9uxVfy1cfBkpRP5SqMGTdXyPwAYpMtBFUJtXjdD\" , \"parents\" : [ \"QmVPzdEQrcXJKMnCpvuUcTk8sz9LTVFuY4dB9HXX2B5jtg\" ], \"thread\" : \"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" , \"type\" : \"JOIN\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } Of course, passing all these hashes and keys around is a lot easier with a well designed UI. The command-line client has a chat command that enters an interactive thread session in which participants can add and view messages. Start a chat on your first peer: cmd textile chat --thread=\"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" Then start the same chat on your second peer: cmd textile chat --thread=\"12D3KooWExn4ut4RV2qHXFSiWb3AfhL2whB8vJgYpnDcmVCG7UBv\" --api=\"http://127.0.0.1:41600\" Tip Currently, the chat command doesn't work with Git Bash on Windows. To open an interactive thread session, run the aforementioned commands in the system shell ( cmd ) or Powershell instead. Clyde having a chat with a friend Chat away!","title":"Start a chat"},{"location":"a-tour-of-textile/#the-files-api","text":"Applications will often want to paginate files and associated annotations in a thread. The files API lists update blocks that point to DAG nodes containing files. A JSON representation of the (decrypted) DAG node is attached to the response along with nested comments and likes. Try listing the files in your \"My runs\" thread: cmd textile files ls --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" JS HTTP await textile . files . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , undefined , 5 ) React Native await textile . files . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"\" , 5 ) iOS @ todo Android @todo Success { \"items\": [ { \"block\": \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\", \"target\": \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\", \"date\": \"2019-04-23T20:08:51.686544Z\", \"user\": { \"address\": \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\", \"name\": \"Clyde\", \"avatar\": \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\": [ { \"file\": { \"mill\": \"/json\", \"checksum\": \"HoRmDDKwsQko2CWnrCoYHCw1rUaaPH3vW4EMcFMwtw3S\", \"source\": \"8XK5TuJcXmSQRGt1kfSoWXJtNhybpBLQsm4arMH9MpoQ\", \"opts\": \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\", \"hash\": \"QmQHYPJDQAU8ZaGG8e4iW9bj65mr2T1cwygyfWb6AUaNio\", \"key\": \"AYCbcQf4YDBHr4NE2SnBgZYPfTD5riZgerujv3xFZgZ4RhDP3yZjcMnHSqXp\", \"media\": \"application/json\", \"size\": \"43\", \"added\": \"2019-04-23T20:08:51.294649Z\", \"meta\": { }, \"targets\": [ \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" ] } } ], \"comments\": [ { \"id\": \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\", \"date\": \"2019-04-23T22:21:04.253734Z\", \"user\": { \"address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"name\": \"P7X3gZu\" }, \"body\": \"Is this an outlier?\" } ], \"likes\": [ ], \"threads\": [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } ] } You can also list files across all threads by omitting the --thread flag.","title":"The files API"},{"location":"a-tour-of-textile/#the-feed-api","text":"The feed API provides a few different modes to drive feed-based UIs. Take a look at the usage text from the command-line client ( textile feed --help ): Usage: textile [OPTIONS] feed [feed-OPTIONS] Paginates post (join|leave|files|message) and annotation (comment|like) block types as a consumable feed. The --mode option dictates how the feed is displayed: - \"chrono\": All feed block types are shown. Annotations always nest their target post, i.e., the post a comment is about. - \"annotated\": Annotations are nested under post targets, but are not shown in the top-level feed. - \"stacks\": Related blocks are chronologically grouped into \"stacks\". A new stack is started if an unrelated block breaks continuity. This mode is used by Textile Photos. Stacks may include: * The initial post with some nested annotations. Newer annotations may have already been listed. * One or more annotations about a post. The newest annotation assumes the \"top\" position in the stack. Additional annotations are nested under the target. Newer annotations may have already been listed in the case as well. Omit the --thread option to paginate all files. Give the default chrono (for chronological) mode a try: cmd textile feed --thread=\"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" JS HTTP await textile . feed . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native await textile . feed . list ( \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Success { \"items\" : [ { \"block\" : \"QmW5BY11hTLJJpZ6eSPnTpGPLRAcXzmBEPpeU4foq8BcNh\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Like\" , \"id\" : \"QmW5BY11hTLJJpZ6eSPnTpGPLRAcXzmBEPpeU4foq8BcNh\" , \"date\" : \"2019-04-23T22:25:06.850779Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"target\" : { \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Join\" , \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"date\" : \"2019-04-23T21:32:22.486183Z\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } } } }, { \"block\" : \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Comment\" , \"id\" : \"QmNx9j82vWLF6tEeMYWdFMBDJo89yBbMmScseJR4jVtML3\" , \"date\" : \"2019-04-23T22:21:04.253734Z\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" }, \"body\" : \"Is this an outlier?\" , \"target\" : { \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Files\" , \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"target\" : \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" , \"date\" : \"2019-04-23T20:08:51.686544Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\" : [ { \"file\" : { \"mill\" : \"/json\" , \"checksum\" : \"HoRmDDKwsQko2CWnrCoYHCw1rUaaPH3vW4EMcFMwtw3S\" , \"source\" : \"8XK5TuJcXmSQRGt1kfSoWXJtNhybpBLQsm4arMH9MpoQ\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmQHYPJDQAU8ZaGG8e4iW9bj65mr2T1cwygyfWb6AUaNio\" , \"key\" : \"AYCbcQf4YDBHr4NE2SnBgZYPfTD5riZgerujv3xFZgZ4RhDP3yZjcMnHSqXp\" , \"media\" : \"application/json\" , \"size\" : \"43\" , \"added\" : \"2019-04-23T20:08:51.294649Z\" , \"meta\" : { }, \"targets\" : [ \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" ] } } ], \"threads\" : [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } } } }, { \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Join\" , \"block\" : \"QmVoKpKsg5MkW11bK3LVmd3xMMaxTutVime32sV6EZWeLk\" , \"date\" : \"2019-04-23T21:32:22.486183Z\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } }, { \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Files\" , \"block\" : \"QmUvWjstQzR6y7UctRJgVjcKsKzutZoiBsQw6WBXMnmg84\" , \"target\" : \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" , \"date\" : \"2019-04-23T20:08:51.686544Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\" : [ { \"file\" : { \"mill\" : \"/json\" , \"checksum\" : \"HoRmDDKwsQko2CWnrCoYHCw1rUaaPH3vW4EMcFMwtw3S\" , \"source\" : \"8XK5TuJcXmSQRGt1kfSoWXJtNhybpBLQsm4arMH9MpoQ\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmQHYPJDQAU8ZaGG8e4iW9bj65mr2T1cwygyfWb6AUaNio\" , \"key\" : \"AYCbcQf4YDBHr4NE2SnBgZYPfTD5riZgerujv3xFZgZ4RhDP3yZjcMnHSqXp\" , \"media\" : \"application/json\" , \"size\" : \"43\" , \"added\" : \"2019-04-23T20:08:51.294649Z\" , \"meta\" : { }, \"targets\" : [ \"QmQVstxooDH7yJJzTrQySTCt61s46RjcGACsEmcLGz2dCk\" ] } } ], \"threads\" : [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } }, { \"block\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Join\" , \"block\" : \"QmV8HiBrgJvGx4mwVF8G8MDpyaiUcUX9YC52AjAjw3HHuV\" , \"date\" : \"2019-04-23T19:29:57.858974Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" } } } ], \"count\" : 5 } The \"annotations\" mode functions like the files API but includes join and leave update types. Textile Photos uses the \"stacks\" mode.","title":"The feed API"},{"location":"a-tour-of-textile/#subscription-api","text":"The chat command we saw above is actually built in part with a subscription. You can subscribe to any type of thread update block : merge , ignore , flag , join , announce , leave , text , files , comment , like . Let's subscribe to \"files\" updates across all threads: cmd textile subscribe --type=\"files\" JS HTTP // The js-http-client returns a `ReadableStream` to be accessed by the caller // See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details const stream = await textile . subscribe . stream ( \"files\" ) const reader = stream . getReader () const read = ( result ) => { // ReadableStreamReadResult<FeedItem> if ( result . done ) { return } try { console . log ( result . value ) } catch ( err ) { reader . cancel ( undefined ) return } read ( await reader . read ()) } read ( await reader . read ()) React Native textile . events . addThreadUpdateReceivedListener (( update ) => { const { type_url } = update . payload if ( type_url === '/Files' ) { // new file! } }) iOS @ todo Android @todo In another terminal, add a location to the \"My runs\" thread: cmd echo '{ \"latitude\": 48.858093, \"longitude\": 2.294694 }' | textile files add --thread=12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw JS HTTP await textile . files . add ({ latitude : 48.858093 , longitude : 2.294694 }, \"\" , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) React Native const input = Buffer . from ( JSON . stringify ({ \"latitude\" : 48.858093 , \"longitude\" : 2.294694 }). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) const block = await textile . files . add ( result . dir , \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ) iOS @ todo Android @todo Success File target: QmbkqtPBLH83opAAzjLdLszry55p8W4FZbc7HR1a1gbHK4 Added 1 file in 533.47ms Your first window will display the update: Success { \"block\" : \"QmaTUfyZGkQn6Wzo2FUSviDhEtE6Ezt5V7ot1tdVNR5gMg\" , \"thread\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"payload\" : { \"@type\" : \"/Files\" , \"block\" : \"QmaTUfyZGkQn6Wzo2FUSviDhEtE6Ezt5V7ot1tdVNR5gMg\" , \"target\" : \"QmbkqtPBLH83opAAzjLdLszry55p8W4FZbc7HR1a1gbHK4\" , \"date\" : \"2019-04-24T20:00:24.870515Z\" , \"user\" : { \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"name\" : \"Clyde\" , \"avatar\" : \"Qmea7R7cCSSkRZ5Jammj8xvkE44YvjDWz3aBuWm4PNcyf5\" }, \"files\" : [ { \"file\" : { \"mill\" : \"/json\" , \"checksum\" : \"DptTUm5Rh6gSdCvijL7hmcqnHH4MeG2nRTkVgZhv2EcK\" , \"source\" : \"3VhXeTZor66u8NdGhrPcYK2N7j5v6vceGZerpvehHSJh\" , \"opts\" : \"G7x9bf74kcvU7aBVnToCMAeVhcsuxuHag8gKgav6cGcN\" , \"hash\" : \"QmUaecS9uZ3QyDt3ybzDs1rQbvB5LbLQe2YFVojQsHqePq\" , \"key\" : \"8MnFgGEAj55y1sGW256JvE11KN4ZE89Weqzue3ZbkBvGB6jhvQZP2nq3JMZd\" , \"media\" : \"application/json\" , \"size\" : \"43\" , \"added\" : \"2019-04-24T20:00:24.489476Z\" , \"meta\" : { } } } ], \"threads\" : [ \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" ] } } You can subscribe to multiple (or all) update types. Textile Photos uses a subscription to display realtime updates within its groups.","title":"Subscription API"},{"location":"a-tour-of-textile/#leave-a-thread","text":"When you leave a thread, all associated data is deleted from your peer. Additionally, all registered cafes will delete their associated snapshots. From your second peer, leave the \"My runs\" thread: cmd textile threads rm \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" --api=\"http://127.0.0.1:41600\" Success ok","title":"Leave a thread"},{"location":"a-tour-of-textile/#notifications","text":"Notifications are generated when you receive a thread invitation or update from another peer. OS-based notification APIs like iOS/Android local notifications or macOS desktop notifications can directly consume these objects.","title":"Notifications"},{"location":"a-tour-of-textile/#list-notifications","text":"Let's see what kind of notifications your first peer (Clyde) has: cmd textile notifications ls JS HTTP await textile . notifications . list () React Native const notifications = await textile . notifications . list () iOS @ todo Android @todo Success { \"items\" : [ { \"actor\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"block\" : \"QmPQSwoXQL5Hgmof3fYZQgp5GKwaqY4wbeP4NaoQe2P9vV\" , \"body\" : \"left\" , \"date\" : \"2019-04-24T20:18:08.442121Z\" , \"id\" : \"1KKP01K9SpRASYKkyxSK4EiSYEz\" , \"subject\" : \"12D3KooWBfdhD4tNMuTn5MHGof2bMZBKAUjFF3DBL3kuQQE5m1qw\" , \"subject_desc\" : \"My runs\" , \"type\" : \"PEER_LEFT\" , \"user\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"name\" : \"P7X3gZu\" } } ] } Hmm, only one notification? Remember that your other peer left the \"My runs\" thread. Besides the leave notification, all others from their actions in that thread (joined, commented, etc.) were deleted.","title":"List notifications"},{"location":"a-tour-of-textile/#read-notifications","text":"Notifications have a read boolean status that is useful for some applications. We can mark the above notification as read via its id : cmd textile notifications read \"1KKP01K9SpRASYKkyxSK4EiSYEz\" JS HTTP await textile . notifications . read ( \"1KKP01K9SpRASYKkyxSK4EiSYEz\" ) React Native await textile . notifications . read ( \"1KKP01K9SpRASYKkyxSK4EiSYEz\" ) iOS @ todo Android @todo Success ok","title":"\"Read\" notifications"},{"location":"a-tour-of-textile/#summary","text":"Display a summary of your peer's threads, files, and contacts: cmd textile summary JS HTTP const summary = await textile . utils . summary () React Native const summary = await textile . summary () iOS @ todo Android @todo Success { \"id\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"address\" : \"P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j\" , \"thread_count\" : 5 , \"files_count\" : 5 , \"contact_count\" : 1 } \"files_count\" reports a total count of files update blocks.","title":"Summary"},{"location":"a-tour-of-textile/#logs","text":"Your peer's underlying IPFS node comes with a rich system-based logging framework. Textile peers leverage this same framework, adding additional log systems with the prefix \"tex-\".","title":"Logs"},{"location":"a-tour-of-textile/#view-current-log-levels","text":"Take a look at the current log levels: cmd textile logs Success { \"addrutil\" : \"ERROR\" , \"autonat\" : \"ERROR\" , \"autonat-svc\" : \"ERROR\" , \"autorelay\" : \"ERROR\" , \"badger\" : \"ERROR\" , \"basichost\" : \"ERROR\" , \"bitswap\" : \"ERROR\" , \"bitswap_network\" : \"ERROR\" , \"blockservice\" : \"ERROR\" , \"blockstore\" : \"ERROR\" , \"boguskey\" : \"ERROR\" , \"bstestnet\" : \"ERROR\" , \"chunk\" : \"ERROR\" , \"cmds\" : \"ERROR\" , \"command\" : \"ERROR\" , \"connmgr\" : \"ERROR\" , \"core\" : \"ERROR\" , \"core/coreapi\" : \"ERROR\" , \"coreunix\" : \"ERROR\" , \"dht\" : \"ERROR\" , \"dht.pb\" : \"ERROR\" , \"discovery\" : \"ERROR\" , \"engine\" : \"ERROR\" , \"eventlog\" : \"ERROR\" , \"filestore\" : \"ERROR\" , \"flatfs\" : \"ERROR\" , \"fsrepo\" : \"ERROR\" , \"ipfsaddr\" : \"ERROR\" , \"ipns\" : \"ERROR\" , \"ipns-repub\" : \"ERROR\" , \"keystore\" : \"ERROR\" , \"lock\" : \"ERROR\" , \"mdns\" : \"ERROR\" , \"mfs\" : \"ERROR\" , \"mocknet\" : \"ERROR\" , \"mockrouter\" : \"ERROR\" , \"mount\" : \"ERROR\" , \"mplex\" : \"ERROR\" , \"namesys\" : \"ERROR\" , \"nat\" : \"ERROR\" , \"net/identify\" : \"ERROR\" , \"p2p-config\" : \"ERROR\" , \"p2p-mount\" : \"ERROR\" , \"pathresolv\" : \"ERROR\" , \"peerqueue\" : \"ERROR\" , \"peerstore\" : \"ERROR\" , \"pin\" : \"ERROR\" , \"ping\" : \"ERROR\" , \"plugin/loader\" : \"ERROR\" , \"provider\" : \"ERROR\" , \"providers\" : \"ERROR\" , \"pubsub\" : \"ERROR\" , \"pubsub-valuestore\" : \"ERROR\" , \"relay\" : \"ERROR\" , \"reprovider\" : \"ERROR\" , \"reuseport-transport\" : \"ERROR\" , \"routedhost\" : \"ERROR\" , \"routing/record\" : \"ERROR\" , \"secio\" : \"ERROR\" , \"stream-upgrader\" : \"ERROR\" , \"swarm2\" : \"ERROR\" , \"table\" : \"ERROR\" , \"tcp-tpt\" : \"ERROR\" , \"tex-broadcast\" : \"ERROR\" , \"tex-core\" : \"ERROR\" , \"tex-datastore\" : \"ERROR\" , \"tex-gateway\" : \"ERROR\" , \"tex-ipfs\" : \"ERROR\" , \"tex-main\" : \"ERROR\" , \"tex-mill\" : \"ERROR\" , \"tex-repo\" : \"ERROR\" , \"tex-repo-config\" : \"ERROR\" , \"tex-service\" : \"ERROR\" , \"tex-util\" : \"ERROR\" , \"transport\" : \"ERROR\" , \"ulimit\" : \"ERROR\" } They should all be at their default value of \"ERROR\". Note that you have access to all of the IPFS log systems as well.","title":"View current log levels"},{"location":"a-tour-of-textile/#change-log-levels","text":"You can alter a peer's log levels even when it's running. Tip During development, start the daemon with --debug . This will set all of the \"tex-\" log systems to \"DEBUG\". You can then tail the logs, like: tail -f \"path/to/repo/logs/textile.log\" . Set all of the \"tex-\" log systems to \"INFO\": cmd textile logs --level=\"info\" --tex-only Success { \"tex-broadcast\" : \"INFO\" , \"tex-core\" : \"INFO\" , \"tex-datastore\" : \"INFO\" , \"tex-gateway\" : \"INFO\" , \"tex-ipfs\" : \"INFO\" , \"tex-main\" : \"INFO\" , \"tex-mill\" : \"INFO\" , \"tex-repo\" : \"INFO\" , \"tex-repo-config\" : \"INFO\" , \"tex-service\" : \"INFO\" , \"tex-util\" : \"INFO\" } Possible log level values are \"debug\", \"info\", \"warning\", \"error\", and \"critical\". See textile logs --help for more.","title":"Change log levels"},{"location":"a-tour-of-textile/#config","text":"When your peer starts, it loads a JSON config file from the repository directory, called \"textile\". This file lives alongside the IPFS config file (named \"config\"). You must restart your peer after making changes to either of these files.","title":"Config"},{"location":"a-tour-of-textile/#view-a-config-value","text":"We can view the entire config or a specific value behind any JSON key. Try viewing the \"Addresses\" config: cmd textile config \"Addresses\" JS HTTP const config = await textile . config . get ( \"Addresses\" ) Success { \"API\" : \"127.0.0.1:40600\" , \"CafeAPI\" : \"0.0.0.0:40601\" , \"Gateway\" : \"127.0.0.1:5050\" } textile config will display the entire file.","title":"View a config value"},{"location":"a-tour-of-textile/#set-a-config-value","text":"Changing values follows the same pattern. We can update our second peer's gateway bind address as follows: cmd textile config \"Addresses.Gateway\" \\\"127.0.0.1:9090\\\" JS HTTP const config = await textile . config . set ( \"Addresses.Gateway\" , \"127.0.0.1:9090\" ) Success Updated! Restart daemon for changes to take effect. Restart the daemon (or your Textile instance for users of a mobile SDK): cmd textile daemon --repo-dir=\"/tmp/buddy\" Success go-textile version: v0.1.12 Repo version: 13 Repo path: /Users/sander/.textile/repo API address: 127.0.0.1:40600 Gateway address: 127.0.0.1:5050 System version: amd64/darwin Golang version: go1.12.3 PeerID: 12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay Account: P8wW5FYs2ANDan2DV8D45XWKtFFYNTMY8RgLCRcQHjyPZe5j You should now see the new gateway bind address in the config: cmd textile config JS HTTP const config = await textile . config . get () Success { \"API\": { \"HTTPHeaders\": { \"Access-Control-Allow-Headers\": [ \"Content-Type\", \"Method\", \"X-Textile-Args\", \"X-Textile-Opts\", \"X-Requested-With\" ], \"Access-Control-Allow-Methods\": [ \"GET\", \"POST\", \"DELETE\", \"OPTIONS\" ], \"Access-Control-Allow-Origin\": [ \"http://localhost:*\", \"http://127.0.0.1:*\" ], \"Server\": [ \"go-textile/0.1.12\" ] }, \"SizeLimit\": 0 }, \"Account\": { \"Address\": \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\", \"Thread\": \"12D3KooWLMV52tB3kP7qeRwrwfHQpaZZFaMnAm2wEwroY6xBsPwB\" }, \"Addresses\": { \"API\": \"127.0.0.1:41600\", \"CafeAPI\": \"127.0.0.1:40601\", \"Gateway\": \"127.0.0.1:9090\" }, \"Cafe\": { \"Client\": { \"Mobile\": { \"P2PWireLimit\": 0 } }, \"Host\": { \"NeighborURL\": \"\", \"Open\": false, \"SizeLimit\": 0, \"URL\": \"\" } }, \"IsMobile\": false, \"IsServer\": false, \"Logs\": { \"LogToDisk\": true }, \"Threads\": { \"Defaults\": { \"ID\": \"\" } } }","title":"Set a config value"},{"location":"a-tour-of-textile/#cafe-hosts","text":"Cafe peers (or just cafes) provide services to other peers. Cafes are easy to deploy and manage (single executable, Docker). Checkout the full guide if you're interested in hosting your own. For the purposes of this tour, let's transform your second peer into a local cafe. A production cafe should be run on a publicly accessible host, but a local cafe is useful for development and testing. On your second peer, open the cafe API by setting the config key \"Cafe.Host.Open\" to true : cmd textile config \"Cafe.Host.Open\" true --api=\"http://127.0.0.1:41600\" Success Updated! Restart daemon for changes to take effect. Now, restart the daemon in debug mode: cmd textile daemon --repo-dir=\"/tmp/buddy\" --debug Success go-textile version: v0.1.12 Repo version: 13 Repo path: /tmp/buddy API address: 127.0.0.1:41600 Gateway address: 127.0.0.1:9090 Cafe address: 0.0.0.0:40601 System version: amd64/darwin Golang version: go1.12.3 PeerID: 12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV Account: P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs Note that Cafe address: 0.0.0.0:40601 is now shown after restarting the daemon.","title":"Cafe Hosts"},{"location":"a-tour-of-textile/#create-a-client-token","text":"In order for clients to register with your cafe, they'll need one of its client tokens . Info Cafe client tokens are generated from cryptographically secure random bytes, salted, hashed, and stored locally. You can think of them as very strong passwords. Create a token as follows: cmd textile tokens create JS HTTP const token = await textile . tokens . create () Success bYJLFjHsRsZjdzEwC2pJwQthmfYb3DPYyBCcU49Dkfqd5xGHk5NR77X8GDKG","title":"Create a client token"},{"location":"a-tour-of-textile/#view-client-tokens","text":"View the cafe's client tokens with the ls command: cmd textile tokens ls JS HTTP const tokens = await textile . tokens . list () Success [ \"2ZwjtRaFj6kMxnKm3BLnueqaT3WLXQS3evEZoJ87oZLUMhdNxr4sVKorUWSu3ZHgfBbyU726trkqSnsvLGmiJ8bpv5PEqqSf25f\" ] The value shown in the list is the salted and hashed token. The plaintext version needed by a registering client is only available at creation time as they are never stored by the cafe.","title":"View client tokens"},{"location":"a-tour-of-textile/#cafe-clients","text":"Cafes perform work for their clients , which are account peers. Account peers don't need to be registered with a cafe, but doing so has advantages, like improving discovery of its content and providing an inbox for messages received offline. See the cafe service section for more about how cafes assist other peers on the network. Tip Textile hosts a development cafe that you are free to use for non-production purposes. More details can be found here .","title":"Cafe Clients"},{"location":"a-tour-of-textile/#register-with-a-cafe","text":"Using the token created above, register with your locally running test cafe: cmd textile cafes add \"http://127.0.0.1:40601\" --token=\"bYJLFjHsRsZjdzEwC2pJwQthmfYb3DPYyBCcU49Dkfqd5xGHk5NR77X8GDKG\" JS HTTP const token = \"bYJLFjHsRsZjdzEwC2pJwQthmfYb3DPYyBCcU49Dkfqd5xGHk5NR77X8GDKG\" const success = await textile . cafes . add ( \"http://127.0.0.1:40601\" , token ) Success { \"access\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJhY2Nlc3MiLCJhdWQiOiIvdGV4dGlsZS9jYWZlLzEuMC4wIiwiZXhwIjoxNTU4OTk2NDcxLCJqdGkiOiIxS1luQ1doOXRkOU1abjVrdUtIYnJjR0NPRlkiLCJpYXQiOjE1NTY1NzcyNzEsImlzcyI6IjEyRDNLb29XOXlhQUx4eGszMW5uYVBaQjl0emp3eEZ5UFVCcndMdUNYWjNGbkFXZzhWeVYiLCJzdWIiOiIxMkQzS29vV0NNVkxmTVY4dXpZcEZOMzhxbjJlTXM0OHRBdUhkVlpkajNhRjZuZXg2emF5In0.j9N-AGVZhU5-eTSOm6fkZkKVsAeTSrPXjx3BmyZoB4gKG_T2G3g0iSB1n2Bz0ZWEre8gt6xRGA3yL0bMUw-dAw\" , \"cafe\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"api\" : \"v0\" , \"node\" : \"0.1.12\" , \"peer\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"protocol\" : \"/textile/cafe/1.0.0\" , \"url\" : \"http://127.0.0.1:40601\" }, \"exp\" : \"2019-05-27T22:34:31.142527Z\" , \"id\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"refresh\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJyZWZyZXNoIiwiYXVkIjoiL3RleHRpbGUvY2FmZS8xLjAuMCIsImV4cCI6MTU2MTQxNTY3MSwianRpIjoicjFLWW5DV2g5dGQ5TVpuNWt1S0hicmNHQ09GWSIsImlhdCI6MTU1NjU3NzI3MSwiaXNzIjoiMTJEM0tvb1c5eWFBTHh4azMxbm5hUFpCOXR6and4RnlQVUJyd0x1Q1haM0ZuQVdnOFZ5ViIsInN1YiI6IjEyRDNLb29XQ01WTGZNVjh1ellwRk4zOHFuMmVNczQ4dEF1SGRWWmRqM2FGNm5leDZ6YXkifQ.erefmNinE3C1xpSa73TU6qJmTDLrjXtBh8-cojZ-D2_t6VrklYfffGGJLCQ7DKRv3UANS03U2KVX6WjH3GZADw\" , \"rexp\" : \"2019-06-24T22:34:31.142527Z\" , \"subject\" : \"12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay\" , \"type\" : \"JWT\" } A new client account associated with the provided token was added to your cafe. Your account peer now has an active cafe session which it can use to make authenticated requests. Cafe sessions are stateless JWT objects that can expire. Tip An account peer may be registered with more than one cafe, and account peers do not need to be registered to the same cafe(s). Additionally, peers can easily migrate from one cafe to another, simply be deregistering from one and registering with another.","title":"Register with a cafe"},{"location":"a-tour-of-textile/#list-cafe-sessions","text":"You can view your active cafe sessions with the ls command: cmd textile cafes ls JS HTTP const sessions = await textile . cafes . list () Success { \"items\" : [ { \"access\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJhY2Nlc3MiLCJhdWQiOiIvdGV4dGlsZS9jYWZlLzEuMC4wIiwiZXhwIjoxNTU4OTk2NDcxLCJqdGkiOiIxS1luQ1doOXRkOU1abjVrdUtIYnJjR0NPRlkiLCJpYXQiOjE1NTY1NzcyNzEsImlzcyI6IjEyRDNLb29XOXlhQUx4eGszMW5uYVBaQjl0emp3eEZ5UFVCcndMdUNYWjNGbkFXZzhWeVYiLCJzdWIiOiIxMkQzS29vV0NNVkxmTVY4dXpZcEZOMzhxbjJlTXM0OHRBdUhkVlpkajNhRjZuZXg2emF5In0.j9N-AGVZhU5-eTSOm6fkZkKVsAeTSrPXjx3BmyZoB4gKG_T2G3g0iSB1n2Bz0ZWEre8gt6xRGA3yL0bMUw-dAw\" , \"cafe\" : { \"address\" : \"P7X3gZus5H15tWCxk4oP6EVsgAM9vwUfCyepAKw49QuRyPYs\" , \"api\" : \"v0\" , \"node\" : \"0.1.12\" , \"peer\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"protocol\" : \"/textile/cafe/1.0.0\" , \"url\" : \"http://127.0.0.1:40601\" }, \"exp\" : \"2019-05-27T22:34:31.142527Z\" , \"id\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" , \"refresh\" : \"eyJhbGciOiJFZDI1NTE5IiwidHlwIjoiSldUIn0.eyJzY29wZXMiOiJyZWZyZXNoIiwiYXVkIjoiL3RleHRpbGUvY2FmZS8xLjAuMCIsImV4cCI6MTU2MTQxNTY3MSwianRpIjoicjFLWW5DV2g5dGQ5TVpuNWt1S0hicmNHQ09GWSIsImlhdCI6MTU1NjU3NzI3MSwiaXNzIjoiMTJEM0tvb1c5eWFBTHh4azMxbm5hUFpCOXR6and4RnlQVUJyd0x1Q1haM0ZuQVdnOFZ5ViIsInN1YiI6IjEyRDNLb29XQ01WTGZNVjh1ellwRk4zOHFuMmVNczQ4dEF1SGRWWmRqM2FGNm5leDZ6YXkifQ.erefmNinE3C1xpSa73TU6qJmTDLrjXtBh8-cojZ-D2_t6VrklYfffGGJLCQ7DKRv3UANS03U2KVX6WjH3GZADw\" } ] }","title":"List cafe sessions"},{"location":"a-tour-of-textile/#check-messages","text":"An account peer will periodically check each of its registered cafes for new messages received by the cafe on its behalf. You can also manually check for messages: cmd textile cafes messages JS HTTP const success = await textile . cafes . messages () Success ok Messages are downloaded in batches and queued for processing. This enables cafes to receive messages on an account peer's behalf when it is offline.","title":"Check messages"},{"location":"a-tour-of-textile/#unregister-with-a-cafe","text":"You can leave a cafe at any time. Data associated with your client account will be removed. cmd textile cafes rm \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" JS HTTP const success = await textile . cafes . remove ( \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" ) Success ok Info Cafes are anonymous and disposable infrastructure, meaning that you can replace one cafe with another and still participate in the network as before.","title":"Unregister with a cafe"},{"location":"a-tour-of-textile/#ipfs","text":"The Textile API exposes a handful of the more useful IPFS endpoints. For the command-line client, these are id , cat , swarm peers , and swarm connect . Please open an issue or pull request for other IPFS APIs you would like to use via textile .","title":"IPFS"},{"location":"a-tour-of-textile/#view-peer-id","text":"At some point, you will want to view your IPFS peer ID. This is the same ID shown in your contact and profile info and printed by the daemon on startup: cmd textile ipfs id JS HTTP const id = await textile . ipfs . id () Success 12D3KooWCMVLfMV8uzYpFN38qn2eMs48tAuHdVZdj3aF6nex6zay See the IPFS doc for more info. Check out this post on the Textile blog for more info about how peers identify each other on the distributed web.","title":"View peer ID"},{"location":"a-tour-of-textile/#view-the-peer-swarm","text":"Your peer is always communicating, or \"gossiping\", with a changing sub-set of other peers on the IPFS network called a \"swarm\". You can view that swarm at any time. It should be relatively large at this point since your peer has been \"online\" for awhile. cmd textile ipfs swarm peers JS HTTP const peers = await textile . ipfs . peers () Success { \"Peers\" : [ { \"addr\" : \"/ip4/104.154.192.219/tcp/4001\" , \"peer\" : \"QmWAQKhwspxGmLbn23kBTWMSrhJe2HyivJx3Mi12GPdT4z\" }, { \"addr\" : \"/ip4/109.194.47.83/tcp/4001\" , \"peer\" : \"QmQCH7nuh5osaTj2BDKThL54fBJiQ8d5YMPcTokEP3dRem\" }, { \"addr\" : \"/ip4/109.194.47.83/tcp/4004\" , \"peer\" : \"QmbdY5KnhG6Dk5fEJZQSVDhHN7sdhSzsKMnJU6MnpmRg5h\" }, { \"addr\" : \"/ip4/122.114.171.159/tcp/10001\" , \"peer\" : \"QmTyZ4sMYQVEd9DXGEHCxouhKF6HyuzwbacJS9ZKb8Lr8B\" }, { \"addr\" : \"/ip4/13.59.235.81/tcp/4001\" , \"peer\" : \"QmYfywze6ADxF45Rmmcbv28MZQQ7QuiD1bV88n3Twyq7Ld\" }, { \"addr\" : \"/ip4/134.209.237.173/tcp/4001\" , \"peer\" : \"QmVFXZSJSsmpZoBaq1TfgDe4RGYfGonnxwToJN3jng7meD\" }, { \"addr\" : \"/ip4/137.117.141.25/tcp/4001\" , \"peer\" : \"QmVqgjoUAo1EAd7QpFYcMRuxfBQNBPStrLVHBz3FzLinZX\" }, { \"addr\" : \"/ip4/138.201.67.218/tcp/4002/ws\" , \"peer\" : \"QmbVWZQhCGrS7DhgLqWbgvdmKN7JueKCREVanfnVpgyq8x\" }, { \"addr\" : \"/ip4/139.178.68.51/tcp/4001\" , \"peer\" : \"QmaVhv3V6JpCsSexyZSqPFTSDNZLZvp3hifa78ntTnvn9c\" }, { \"addr\" : \"/ip4/147.75.109.15/tcp/4001\" , \"peer\" : \"QmdExkZGosUfEw4FFPrkdkfpFaaQ1HoZY2gBvJjWJoLEMf\" }, { \"addr\" : \"/ip4/147.75.46.187/tcp/4001\" , \"peer\" : \"QmXWMXquytgYKrMM3AZ8WCfxYqJdg2e2YK5aqocCT2r8Au\" }, { \"addr\" : \"/ip4/147.75.48.175/tcp/4001\" , \"peer\" : \"QmQemDUcDJDjjZBzL3fNMbQ72q8RK1h3rG6iWEN7zwFAgT\" }, { \"addr\" : \"/ip4/147.75.92.69/tcp/4001\" , \"peer\" : \"QmVwtm295H8qh3Gj2t3Mo2rfnU69A9EwKkts35uu922RmT\" }, { \"addr\" : \"/ip4/176.99.11.18/tcp/4001\" , \"peer\" : \"QmX8aSmP6j6HmXxkTZZBTJNv8yPJ1pU7bTRFyf83SQft2h\" }, { \"addr\" : \"/ip4/178.32.250.99/tcp/4001\" , \"peer\" : \"QmY7qra7XxWXz2DYguULqt9qXvczZr326wAGP7CukEctvV\" }, { \"addr\" : \"/ip4/18.185.14.140/tcp/4001\" , \"peer\" : \"QmdbxhD8SXxesfRRqwNRFFMgoXfCTKygn3mRj6tru8o5eJ\" }, { \"addr\" : \"/ip4/18.195.119.140/tcp/4001\" , \"peer\" : \"QmSfnb7FGivxSDsb7jyQes6JDdts7PLugEppgFfX5J32Bx\" }, { \"addr\" : \"/ip4/18.224.54.97/tcp/4001\" , \"peer\" : \"Qmdg1B1YJ3BtZ7VYPQY1uFn7me1kQZzuJquD1rYLGZwkAA\" }, { \"addr\" : \"/ip4/18.237.227.0/tcp/4001\" , \"peer\" : \"QmbdnQcvQEYxsHEDTk8TyopqkDoonwJ9QXXEvwJTizaNts\" }, { \"addr\" : \"/ip4/187.151.117.208/tcp/4001\" , \"peer\" : \"QmYN3x2AxHf3ksHKfXx9bgJJBFoSFLk7zRM5tZ8kzBiRXW\" }, { \"addr\" : \"/ip4/192.168.0.8/tcp/4001\" , \"peer\" : \"QmWjsB6syMRQpAjF9W39vLWn1g9wAW97vXXaBYD2vT3ZJt\" }, { \"addr\" : \"/ip4/192.168.0.8/tcp/4101\" , \"peer\" : \"12D3KooW9yaALxxk31nnaPZB9tzjwxFyPUBrwLuCXZ3FnAWg8VyV\" }, { \"addr\" : \"/ip4/192.241.197.9/tcp/4001\" , \"peer\" : \"Qmf5FcVyjCehUfqtrRW4uEYEood37jW6u29rSD1Uga6w1W\" }, { \"addr\" : \"/ip4/195.46.227.2/tcp/4001\" , \"peer\" : \"QmW88x4CXMzymg7a22jy8J3JH3NJvCr2Rgg493aGTRSUQU\" }, { \"addr\" : \"/ip4/207.154.212.173/tcp/4001\" , \"peer\" : \"QmcqQ7GeJHBJyKasZCCgC8NHuh2xZUfR1BVUdsCSfbeYZJ\" }, { \"addr\" : \"/ip4/208.68.36.4/tcp/4001\" , \"peer\" : \"QmSvYwU4K4EuZzgmK3TBEVhwxnuM8RjahAEm9Agkbk6kES\" }, { \"addr\" : \"/ip4/217.69.14.5/tcp/4001\" , \"peer\" : \"QmdNSMKZEfUcNL8kVJfazFwqMEkva5eAeX4u91xAX6L8X5\" }, { \"addr\" : \"/ip4/218.103.136.66/tcp/4001\" , \"peer\" : \"QmWhw7b3nHp9qsJqmtzZysrsY71v5yMmwHCCzL5ojer1Jw\" }, { \"addr\" : \"/ip4/221.149.2.111/tcp/17394\" , \"peer\" : \"QmV34F67mUcEpq87ifyHGvmW3yyUjHBTi4NbJ42d3Wwbjc\" }, { \"addr\" : \"/ip4/223.17.211.208/tcp/57897\" , \"peer\" : \"QmatkeYLBXcTnQkCkxjTECph2uSpe24r3hLMdkQ4V9nALo\" }, { \"addr\" : \"/ip4/223.17.211.243/tcp/11267\" , \"peer\" : \"QmfKPg5euLfDLaVuXe5JfW8g7Xcfe4JgcUhkp34jbmoDha\" }, { \"addr\" : \"/ip4/23.92.31.84/tcp/4001\" , \"peer\" : \"QmWPPHiwbm4u9a2QRvWFy49RHNCLzDHsCCUrkHdAnckYUW\" }, { \"addr\" : \"/ip4/3.16.48.115/tcp/4001\" , \"peer\" : \"QmSR6CBn7NPkV4MuVHfM3UCEXwzgGD5k53H7KbSqA7b2hX\" }, { \"addr\" : \"/ip4/3.16.67.1/tcp/4001\" , \"peer\" : \"QmZeYh9LQSRLdhTMGtuha7BBarUxBVtxY7Jc2zAaMyFXvP\" }, { \"addr\" : \"/ip4/34.217.111.111/tcp/4001\" , \"peer\" : \"QmSjkiS837t8hT1Mbm4mAYMnVo5yhCgpvMPgGvSoMJcskn\" }, { \"addr\" : \"/ip4/34.240.225.90/tcp/4001\" , \"peer\" : \"Qmd256Ty5U8Ktou3HrGeXj6GirnEuEaecNLVGQhB6et28W\" }, { \"addr\" : \"/ip4/34.244.27.104/tcp/4001\" , \"peer\" : \"QmQaTKPoYpxecV4rnHrf4aKdgyRrCkuCKRE83DE6msdZg8\" }, { \"addr\" : \"/ip4/35.180.35.45/tcp/4001\" , \"peer\" : \"12D3KooWBCZEDkZ2VxdNYKLLUACWbXMvW9SpVbbvoFR9CtH4qJv9\" }, { \"addr\" : \"/ip4/36.110.109.114/tcp/4001\" , \"peer\" : \"QmbCGh5sgJAjjFWDw4JeLkoThBvWFBCgwc9nfB57QLzFmo\" }, { \"addr\" : \"/ip4/37.1.207.72/tcp/4001\" , \"peer\" : \"QmV1xHp8CAUTcFx6SyWkaZ7cUvVFAPiLrVeTqLafknAHWx\" }, { \"addr\" : \"/ip4/38.29.203.106/tcp/30711\" , \"peer\" : \"QmWVUG5ko1hN8HsWpZpiEQQQnt4khYYnXSFQE7rntzgvZU\" }, { \"addr\" : \"/ip4/40.113.140.104/tcp/4001\" , \"peer\" : \"QmUZg4LHARsMQfG5X29JkT9nRssdNxZx3GysojJsYHGPrd\" }, { \"addr\" : \"/ip4/40.117.34.253/tcp/4001\" , \"peer\" : \"QmVtPr2zPXDXZ7Ar1KJrLf8feHjPvNLeukhMm1bFzphA4R\" }, { \"addr\" : \"/ip4/41.72.193.142/tcp/4001\" , \"peer\" : \"QmWHhFfKp326abWQjgNqYCDZQVReRYguQsQuDho3YsZPqf\" }, { \"addr\" : \"/ip4/5.196.133.152/tcp/4001\" , \"peer\" : \"QmS5Z9CnGzq5F5MD4pvmRejEN2TNMtAWDnZxwyebRZqWrK\" }, { \"addr\" : \"/ip4/50.236.201.218/tcp/4001\" , \"peer\" : \"QmSfdK2HxLcqQ5VmW7ZtqSHkXbexPSprFN11zWHJa5CKkd\" }, { \"addr\" : \"/ip4/50.3.70.3/tcp/7\" , \"peer\" : \"Qmbi4qSVyperK6DEVdba6E2CrchdnVyTUjStbSb1A8DSdD\" }, { \"addr\" : \"/ip4/52.18.254.51/tcp/4001\" , \"peer\" : \"QmYnSZTvHhL2e5xT4Hkr9bEoGBic7eFJKqUAYWymSWaB5i\" }, { \"addr\" : \"/ip4/52.90.203.188/tcp/4001\" , \"peer\" : \"QmZWRFPXMaYLf2sTegMj7bP1JqP98oCgZteGg3NTUcJBkH\" }, { \"addr\" : \"/ip4/54.212.188.163/tcp/4001\" , \"peer\" : \"QmXmA7d4CuUAjfEcCQJXSS5NyowYDBJLbgGjVugjxpnFa8\" }, { \"addr\" : \"/ip4/54.219.142.88/tcp/4001\" , \"peer\" : \"12D3KooWLaJnBr1bqWkZCDhaFeGxKiCP91rt2gQ8rn7Lx7kcKAMY\" }, { \"addr\" : \"/ip4/54.77.221.96/tcp/4001\" , \"peer\" : \"QmSEwmV67SWoiKsKUiBfCBpTJjxr7ypQS7Md9Nye4EZX8V\" }, { \"addr\" : \"/ip4/54.93.79.15/tcp/4001\" , \"peer\" : \"QmQiEWx14TnX6tzgsdqKnXLbR55ZhfdXh2q49aYdheTMRD\" }, { \"addr\" : \"/ip4/66.155.94.103/tcp/4001\" , \"peer\" : \"QmQwAzFTKdZGmqvo8w4z4udDcdE6DUhqbt48MYEY2QUito\" }, { \"addr\" : \"/ip4/69.181.194.58/tcp/4001\" , \"peer\" : \"QmbQ1jUJquca964trBcL5tGw6ZDhcKeg3x4iaMQHXD8nd8\" }, { \"addr\" : \"/ip4/81.235.46.228/tcp/41099\" , \"peer\" : \"12D3KooWK2Ng4LwWKxLAuWH6oTBTpPNNor7Kwk1iL5ndCp6ncPiU\" }, { \"addr\" : \"/ip4/83.49.184.55/tcp/4001\" , \"peer\" : \"QmSeD98VAftZ6vUanVQcKbXKAT28UnpVH9zaAkuDRghxiw\" }, { \"addr\" : \"/ip4/87.197.157.72/tcp/4001\" , \"peer\" : \"QmTbjP4HmeRNUxkSDpcXxyL2e3NFiTTWF5fVsmcuFbJfoN\" }, { \"addr\" : \"/ip4/94.23.19.73/tcp/4001\" , \"peer\" : \"QmVjB18xK7UAR9f6sGEHP8o5qgb1H8Ewpu3kcBo8p2zKjw\" }, { \"addr\" : \"/ip4/95.179.213.74/tcp/4001\" , \"peer\" : \"QmcFshtLpo29wHDLJ56eqnRzreZWZYjdxhP2TadTahYQPC\" }, { \"addr\" : \"/ipfs/QmQaTKPoYpxecV4rnHrf4aKdgyRrCkuCKRE83DE6msdZg8/p2p-circuit\" , \"peer\" : \"QmfXzPqSzZHuabJpGTQjGgMusgVBXsunKDEt5SQX96eAAc\" }, { \"addr\" : \"/ipfs/QmXmA7d4CuUAjfEcCQJXSS5NyowYDBJLbgGjVugjxpnFa8/p2p-circuit\" , \"peer\" : \"QmfTqRRvtPgoorN2aPRvsfAVd8GVyup7YYiFGTn477Q2PH\" }, { \"addr\" : \"/ipfs/QmYnSZTvHhL2e5xT4Hkr9bEoGBic7eFJKqUAYWymSWaB5i/p2p-circuit\" , \"peer\" : \"QmbWJwDa9ESDwHnrxT12QDmRBMxeAJkhQjNuia45idL1du\" }, { \"addr\" : \"/ipfs/Qmdg1B1YJ3BtZ7VYPQY1uFn7me1kQZzuJquD1rYLGZwkAA/p2p-circuit\" , \"peer\" : \"QmVzQfhD3c2rj6GrYZgBadxsV3msHW69LockGJwsH6nRjK\" } ] } See the IPFS doc for more info.","title":"View the peer swarm"},{"location":"a-tour-of-textile/#connect-to-another-peer","text":"You may also want to check or open a connection to another peer. You can do this by supplying a complete multi-address . Try connecting to one of Textile's federated cafe peers: cmd textile ipfs swarm connect \"/ip4/18.224.173.65/tcp/4001/ipfs/12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d\" JS HTTP const success = await textile . ipfs . connect ( \"/ip4/18.224.173.65/tcp/4001/ipfs/12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d\" ) Success [ \"connect 12D3KooWLh9Gd4C3knv4XqCyCuaNddfEoSLXgekVJzRyC5vsjv5d success\" ] See the IPFS doc for more info.","title":"Connect to another peer"},{"location":"a-tour-of-textile/#cat-any-data-on-the-network","text":"Downloading data behind a path is one of the most useful IPFS APIs. For example, we can \"cat\" an unencrypted Textile logo into a PNG file: cmd textile ipfs cat \"QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6/0/d\" > textile.png JS HTTP const logo = await textile . ipfs . cat ( \"QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6/0/d\" ) Success See the IPFS doc for more info.","title":"Cat any data on the network"},{"location":"a-tour-of-textile/#ipfs-gateway","text":"All desktop and server peers host an IPFS gateway. Read more and see some examples here . A gateway to the gateways Textile hosts a number of federated cafe peers around the globe, each with a public-facing gateway. A latency-based load balancer ties them all together at https://gateway.textile.cafe , which you are free to use in your applications.","title":"IPFS Gateway"},{"location":"ipfs-gateway/","text":"All desktop and server peers host an IPFS gateway. A gateway is useful for light-clients which are unable to directly traverse the network, and/or want to request data from where they know it's stored. For the most part, the gateway functions exactly like an IPFS gateway: https://gateway.textile.cafe/ipfs|ipns/<path> This is an unencrypted file within a thread shared over a peer gateway. Tip Thread files are encrypted by default. Learn how to write schemas that generate unencrypted files here . Navigate thread files \u00b6 Threads store files in structured DAG nodes. Web applications or light-clients will often want to use a gateway to navigate these thread file \"directories\". You can explore a file DAG node by referencing its target hash: https://gateway.textile.cafe/ipfs/<target> target : Top-level hash of a file DAG node, referenced by a thread update block. Here is a DAG node served from one of Textile's federated gateways: https://gateway.textile.cafe/ipfs/QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6 . If your thread files are encrypted (the default), the meta and content data won't be viewable over a normal IPFS gateway. See next. Decrypt thread files \u00b6 Gateways are primarily useful for sharing unencrypted data or in cases where the client can efficiently decrypt data locally. However, in many cases, it may be acceptable to let a gateway decrypt a file before serving it to a client. We can ask this cafe's gateway to decrypt an image by appending the key as a query parameter: https://gateway.textile.cafe/ipfs/<path>?key=<key> path : A path in a file DAG node to either a meta or content link. key : An AES encryption key for the data at path . See files for about keys. This is an encrypted image decrypted on a gateway.","title":"IPFS Gateway"},{"location":"ipfs-gateway/#navigate-thread-files","text":"Threads store files in structured DAG nodes. Web applications or light-clients will often want to use a gateway to navigate these thread file \"directories\". You can explore a file DAG node by referencing its target hash: https://gateway.textile.cafe/ipfs/<target> target : Top-level hash of a file DAG node, referenced by a thread update block. Here is a DAG node served from one of Textile's federated gateways: https://gateway.textile.cafe/ipfs/QmarZwQEri4g2s8aw9CWKhxAzmg6rnLawGuSGYLSASEow6 . If your thread files are encrypted (the default), the meta and content data won't be viewable over a normal IPFS gateway. See next.","title":"Navigate thread files"},{"location":"ipfs-gateway/#decrypt-thread-files","text":"Gateways are primarily useful for sharing unencrypted data or in cases where the client can efficiently decrypt data locally. However, in many cases, it may be acceptable to let a gateway decrypt a file before serving it to a client. We can ask this cafe's gateway to decrypt an image by appending the key as a query parameter: https://gateway.textile.cafe/ipfs/<path>?key=<key> path : A path in a file DAG node to either a meta or content link. key : An AES encryption key for the data at path . See files for about keys. This is an encrypted image decrypted on a gateway.","title":"Decrypt thread files"},{"location":"the-config-file/","text":"A JSON config file ( <repo-dir>/textile ) is used to control various peer settings. This file lives alongside the IPFS config file (named config ) and has a similar structure and functionality. Both of these files are read once at node instantiation, either for an offline command, or when starting the daemon. Commands that execute on a running daemon do not read the config file at runtime. The JSON config is marshaled from the Go type definition : type Config struct { Account Account // local node's account (public info only) Addresses Addresses // local node's addresses API API // local node's API settings Logs Logs // local node's log settings Threads Threads // local node's thread settings IsMobile bool // local node is setup for mobile IsServer bool // local node is setup for a server w/ a public IP Cafe Cafe // local node cafe settings } These settings can be modified via the command-line config command. For example, to allow CORS from all origins: Example textile config API.HTTPHeaders.Access-Control-Allow-Origin '[\"*\"]' Account \u00b6 // Account store public account info type Account struct { Address string // public key (seed is stored in the _possibly_ encrypted datastore) Thread string // thread id of the default account thread used for sync between account peers } Account.Address \u00b6 Address is the account-wide public key derived from a wallet account seed. Default : Populated upon repository initialization Account.Thread \u00b6 Thread is currently a libp2p peer ID derived from the account seed. This will be changed to the hash of a symmetric key in the next version of threads. Default : Populated upon repository initialization Addresses \u00b6 // Addresses stores the (string) bind addresses for the node. type Addresses struct { API string // bind address of the local REST API CafeAPI string // bind address of the cafe REST API Gateway string // bind address of the IPFS object gateway Profiling string // bind address of the profiling API } Addresses.API \u00b6 This API is used to control the daemon through the command line (or via curl or some other client). Unlike the Gateway address, you should ensure that the API address is not dial-able from outside of your machine, or potentially malicious parties may be able to send commands to your daemon. Having said that, see the API config entry for details on further controlling the API HTTP server. Default : \"127.0.0.1:40600\" Addresses.CafeAPI \u00b6 Normally, only a designated cafe peer would enable this API, though any peer may operate as a cafe if desired. See the cafes overview for more. Default : \"127.0.0.1:40601\" Addresses.Gateway \u00b6 The gateway may be used to view and decrypt files. This port may or may not be dial-able from outside you machine, that's entirely up to you. The Gateway address is on by default, but if you leave it blank, the gateway server will not start. Default : \"127.0.0.1:5050\" Addresses.Profiling \u00b6 This API is used internally for obtaining memory and CPU profiles from a running peer. Default : \"127.0.0.1:6060\" API \u00b6 // API settings type API struct { HTTPHeaders map[string][]string // HTTP headers to return with the API. SizeLimit int64 // Maximum file size limit to accept for POST requests in bytes (a zero value means no limit) } API.HTTPHeaders \u00b6 A map of HTTP headers for responses from the API. You might want to edit these settings if you need to allow additional access control methods, or require authorization headers , etc. For example, you may want to enable CORS for your API; this can be done by modifying your \"Access-Control-Allow-Origin\" header. See this blog post for a discussion of similar IPFS gateway settings. Default : { \"Access-Control-Allow-Headers\": [ \"Content-Type\", \"Method\", \"X-Textile-Args\", \"X-Textile-Opts\", \"X-Requested-With\" ], \"Access-Control-Allow-Methods\": [ \"GET\", \"POST\", \"DELETE\", \"OPTIONS\" ], \"Access-Control-Allow-Origin\": [], \"Server\": [ \"textile-go/<version>\" ] } API.SizeLimit \u00b6 Maximum file size limit to accept for POST requests in bytes. A zero value indicates no limit should be enforced. Default : 0 Logs \u00b6 // Logs settings type Logs struct { LogToDisk bool // when true, sends all logs to rolling files on disk } Logs.LogToDisk \u00b6 A boolean indicating whether to send all logs to rolling files on disk (true) or Stdout (false). Logs written to disk ( <repo-dir>/logs/textile.log ) can be monitored via tail -f <repo-dir>/logs/textile.log or similar. The verbosity of these logs can be controlled at run-time via the logs command (see textile logs --help for details). Default : true Threads \u00b6 // Thread settings type Threads struct { Defaults ThreadDefaults // default settings } Threads.Defaults \u00b6 // ThreadDefaults settings type ThreadDefaults struct { ID string // default thread ID for reads/writes } Threads.Defaults.ID \u00b6 Default thread ID for reads/writes ( textile threads default ). Default : \"\" IsMobile \u00b6 A boolean indicating whether or not to apply the IPFS low-power profile , among other optimizations. Default : false IsServer \u00b6 A boolean indicating whether or not to apply the IPFS server profile , among other optimizations. Default : false Cafe \u00b6 type Cafe struct { Host CafeHost Client CafeClient } For more information about configuring and running a cafe peer, see the daemon installation guide . The Cafe config entry is broken up into two sections, one for controlling how a cafe Host behaves, and one for controlling how a Client interacts with a host peer. Cafe.CafeHost \u00b6 type CafeHost struct { Open bool // When true, other peers can register with this node for cafe services. URL string // Override the resolved URL of this cafe, useful for load HTTPS and/or load balancers NeighborURL string // Specifies the URL of a secondary cafe. Must return cafe info. SizeLimit int64 // Maximum file size limit to accept for POST requests in bytes. } Cafe.CafeHost.Open \u00b6 A boolean indicating whether or not to open the Cafe API and accept client requests. Default : false Cafe.CafeHost.URL \u00b6 Override this value if a cafe peer is behind a DNS-based load balancer and/or requires HTTPS. For example, Textile's federated cafes run behind EC2 load balancers with HTTPS listeners, which route traffic to the cafe API bind address. If not specified during repository initialization, a peer will try to determine its \"most public\" IP address on start up: Use a LAN address if present in the peer host's advertised addresses If no LAN is present, poll the peer host for an address that passes a superficial test for being public (it may take a few seconds to to complete NAT discovery) Use the loopback address ( 127.0.0.1 ) Default : http://<SWARM_IP>:40601 Cafe.CafeHost.NeighborURL \u00b6 Deprecated . Default : \"\" Cafe.CafeHost.SizeLimit \u00b6 Maximum file size limit to accept for POST requests in bytes. A zero value indicates no limit should be enforced. Default : 0 Cafe.CafeClient \u00b6 // CafeClient settings type CafeClient struct { Mobile MobileCafeClient } Cafe.CafeClient.MobileCafeClient \u00b6 // MobileCafeClient settings type MobileCafeClient struct { // messages w/ size less than limit will be handled by the p2p cafe service, // messages w/ size greater than limit will be handled by the mobile OS's background // upload service and the cafe HTTP API P2PWireLimit int } Cafe.MobileCafeClient.P2PWireLimit \u00b6 Deprecated . Default : 0","title":"The Config File"},{"location":"the-config-file/#account","text":"// Account store public account info type Account struct { Address string // public key (seed is stored in the _possibly_ encrypted datastore) Thread string // thread id of the default account thread used for sync between account peers }","title":"Account"},{"location":"the-config-file/#accountaddress","text":"Address is the account-wide public key derived from a wallet account seed. Default : Populated upon repository initialization","title":"Account.Address"},{"location":"the-config-file/#accountthread","text":"Thread is currently a libp2p peer ID derived from the account seed. This will be changed to the hash of a symmetric key in the next version of threads. Default : Populated upon repository initialization","title":"Account.Thread"},{"location":"the-config-file/#addresses","text":"// Addresses stores the (string) bind addresses for the node. type Addresses struct { API string // bind address of the local REST API CafeAPI string // bind address of the cafe REST API Gateway string // bind address of the IPFS object gateway Profiling string // bind address of the profiling API }","title":"Addresses"},{"location":"the-config-file/#addressesapi","text":"This API is used to control the daemon through the command line (or via curl or some other client). Unlike the Gateway address, you should ensure that the API address is not dial-able from outside of your machine, or potentially malicious parties may be able to send commands to your daemon. Having said that, see the API config entry for details on further controlling the API HTTP server. Default : \"127.0.0.1:40600\"","title":"Addresses.API"},{"location":"the-config-file/#addressescafeapi","text":"Normally, only a designated cafe peer would enable this API, though any peer may operate as a cafe if desired. See the cafes overview for more. Default : \"127.0.0.1:40601\"","title":"Addresses.CafeAPI"},{"location":"the-config-file/#addressesgateway","text":"The gateway may be used to view and decrypt files. This port may or may not be dial-able from outside you machine, that's entirely up to you. The Gateway address is on by default, but if you leave it blank, the gateway server will not start. Default : \"127.0.0.1:5050\"","title":"Addresses.Gateway"},{"location":"the-config-file/#addressesprofiling","text":"This API is used internally for obtaining memory and CPU profiles from a running peer. Default : \"127.0.0.1:6060\"","title":"Addresses.Profiling"},{"location":"the-config-file/#api","text":"// API settings type API struct { HTTPHeaders map[string][]string // HTTP headers to return with the API. SizeLimit int64 // Maximum file size limit to accept for POST requests in bytes (a zero value means no limit) }","title":"API"},{"location":"the-config-file/#apihttpheaders","text":"A map of HTTP headers for responses from the API. You might want to edit these settings if you need to allow additional access control methods, or require authorization headers , etc. For example, you may want to enable CORS for your API; this can be done by modifying your \"Access-Control-Allow-Origin\" header. See this blog post for a discussion of similar IPFS gateway settings. Default : { \"Access-Control-Allow-Headers\": [ \"Content-Type\", \"Method\", \"X-Textile-Args\", \"X-Textile-Opts\", \"X-Requested-With\" ], \"Access-Control-Allow-Methods\": [ \"GET\", \"POST\", \"DELETE\", \"OPTIONS\" ], \"Access-Control-Allow-Origin\": [], \"Server\": [ \"textile-go/<version>\" ] }","title":"API.HTTPHeaders"},{"location":"the-config-file/#apisizelimit","text":"Maximum file size limit to accept for POST requests in bytes. A zero value indicates no limit should be enforced. Default : 0","title":"API.SizeLimit"},{"location":"the-config-file/#logs","text":"// Logs settings type Logs struct { LogToDisk bool // when true, sends all logs to rolling files on disk }","title":"Logs"},{"location":"the-config-file/#logslogtodisk","text":"A boolean indicating whether to send all logs to rolling files on disk (true) or Stdout (false). Logs written to disk ( <repo-dir>/logs/textile.log ) can be monitored via tail -f <repo-dir>/logs/textile.log or similar. The verbosity of these logs can be controlled at run-time via the logs command (see textile logs --help for details). Default : true","title":"Logs.LogToDisk"},{"location":"the-config-file/#threads","text":"// Thread settings type Threads struct { Defaults ThreadDefaults // default settings }","title":"Threads"},{"location":"the-config-file/#threadsdefaults","text":"// ThreadDefaults settings type ThreadDefaults struct { ID string // default thread ID for reads/writes }","title":"Threads.Defaults"},{"location":"the-config-file/#threadsdefaultsid","text":"Default thread ID for reads/writes ( textile threads default ). Default : \"\"","title":"Threads.Defaults.ID"},{"location":"the-config-file/#ismobile","text":"A boolean indicating whether or not to apply the IPFS low-power profile , among other optimizations. Default : false","title":"IsMobile"},{"location":"the-config-file/#isserver","text":"A boolean indicating whether or not to apply the IPFS server profile , among other optimizations. Default : false","title":"IsServer"},{"location":"the-config-file/#cafe","text":"type Cafe struct { Host CafeHost Client CafeClient } For more information about configuring and running a cafe peer, see the daemon installation guide . The Cafe config entry is broken up into two sections, one for controlling how a cafe Host behaves, and one for controlling how a Client interacts with a host peer.","title":"Cafe"},{"location":"the-config-file/#cafecafehost","text":"type CafeHost struct { Open bool // When true, other peers can register with this node for cafe services. URL string // Override the resolved URL of this cafe, useful for load HTTPS and/or load balancers NeighborURL string // Specifies the URL of a secondary cafe. Must return cafe info. SizeLimit int64 // Maximum file size limit to accept for POST requests in bytes. }","title":"Cafe.CafeHost"},{"location":"the-config-file/#cafecafehostopen","text":"A boolean indicating whether or not to open the Cafe API and accept client requests. Default : false","title":"Cafe.CafeHost.Open"},{"location":"the-config-file/#cafecafehosturl","text":"Override this value if a cafe peer is behind a DNS-based load balancer and/or requires HTTPS. For example, Textile's federated cafes run behind EC2 load balancers with HTTPS listeners, which route traffic to the cafe API bind address. If not specified during repository initialization, a peer will try to determine its \"most public\" IP address on start up: Use a LAN address if present in the peer host's advertised addresses If no LAN is present, poll the peer host for an address that passes a superficial test for being public (it may take a few seconds to to complete NAT discovery) Use the loopback address ( 127.0.0.1 ) Default : http://<SWARM_IP>:40601","title":"Cafe.CafeHost.URL"},{"location":"the-config-file/#cafecafehostneighborurl","text":"Deprecated . Default : \"\"","title":"Cafe.CafeHost.NeighborURL"},{"location":"the-config-file/#cafecafehostsizelimit","text":"Maximum file size limit to accept for POST requests in bytes. A zero value indicates no limit should be enforced. Default : 0","title":"Cafe.CafeHost.SizeLimit"},{"location":"the-config-file/#cafecafeclient","text":"// CafeClient settings type CafeClient struct { Mobile MobileCafeClient }","title":"Cafe.CafeClient"},{"location":"the-config-file/#cafecafeclientmobilecafeclient","text":"// MobileCafeClient settings type MobileCafeClient struct { // messages w/ size less than limit will be handled by the p2p cafe service, // messages w/ size greater than limit will be handled by the mobile OS's background // upload service and the cafe HTTP API P2PWireLimit int }","title":"Cafe.CafeClient.MobileCafeClient"},{"location":"the-config-file/#cafemobilecafeclientp2pwirelimit","text":"Deprecated . Default : 0","title":"Cafe.MobileCafeClient.P2PWireLimit"},{"location":"the-http-api/","text":"Peers that run as a daemon (desktop and server, including cafes) are accessible over a local HTTP REST API. In most cases, this API should not be exposed to the public internet. Textile currently maintains two client libraries: The Command-line client (similar to ipfs , useful for interacting with a local peer). The JS HTTP client: Useful for building NodeJS, frontend web, and electron apps. Below is the swagger-based documentation for the API. Note that endpoints must be prefixed with /api/v{version} (e.g., /api/v0 ). Version: 0 \u00b6 Terms of service \u00b6 https://github.com/textileio/go-textile/blob/master/TERMS Contact information: Textile https://textile.io/ contact@textile.io License: MIT License /account \u00b6 GET \u00b6 Summary: \u00b6 Show account contact Description: \u00b6 Shows the local peer's account info as a contact Responses \u00b6 Code Description Schema 200 contact pb.Contact 400 Bad Request string /account/address \u00b6 GET \u00b6 Summary: \u00b6 Show account address Description: \u00b6 Shows the local peer's account address Responses \u00b6 Code Description Schema 200 address string /account/seed \u00b6 GET \u00b6 Summary: \u00b6 Show account seed Description: \u00b6 Shows the local peer's account seed Responses \u00b6 Code Description Schema 200 seed string /blocks \u00b6 GET \u00b6 Summary: \u00b6 Paginates blocks in a thread Description: \u00b6 Paginates blocks in a thread. Blocks are the raw components in a thread. Think of them as an append-only log of thread updates where each update is hash-linked to its parent(s). New / recovering peers can sync history by simply traversing the hash tree. Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default'), offset: Offset ID to start listing from (omit for latest), limit: List page size (default: 5) No string Responses \u00b6 Code Description Schema 200 blocks pb.BlockList 400 Bad Request string 404 Not Found string 500 Internal Server Error string /blocks/{id} \u00b6 DELETE \u00b6 Summary: \u00b6 Remove thread block Description: \u00b6 Removes a thread block by ID Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 201 block pb.Block 400 Bad Request string 404 Not Found string 500 Internal Server Error string GET \u00b6 Summary: \u00b6 Gets thread block Description: \u00b6 Gets a thread block by ID Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 200 block pb.Block 404 Not Found string /blocks/{id}/comment \u00b6 GET \u00b6 Summary: \u00b6 Get thread comment Description: \u00b6 Gets a thread comment by block ID Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 200 comment pb.Comment 400 Bad Request string /blocks/{id}/comments \u00b6 GET \u00b6 Summary: \u00b6 List comments Description: \u00b6 Lists comments on a thread block Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 200 comments pb.CommentList 500 Internal Server Error string POST \u00b6 Summary: \u00b6 Add a comment Description: \u00b6 Adds a comment to a thread block Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string X-Textile-Args header urlescaped comment body Yes string Responses \u00b6 Code Description Schema 201 comment pb.Comment 400 Bad Request string 404 Not Found string 500 Internal Server Error string /blocks/{id}/like \u00b6 GET \u00b6 Summary: \u00b6 Get thread like Description: \u00b6 Gets a thread like by block ID Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 200 like pb.Like 400 Bad Request string /blocks/{id}/likes \u00b6 GET \u00b6 Summary: \u00b6 List likes Description: \u00b6 Lists likes on a thread block Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 200 likes pb.LikeList 500 Internal Server Error string POST \u00b6 Summary: \u00b6 Add a like Description: \u00b6 Adds a like to a thread block Parameters \u00b6 Name Located in Description Required Schema id path block id Yes string Responses \u00b6 Code Description Schema 201 like pb.Like 400 Bad Request string 404 Not Found string 500 Internal Server Error string /cafes \u00b6 GET \u00b6 Summary: \u00b6 List info about all active cafe sessions Description: \u00b6 List info about all active cafe sessions. Cafes are other peers on the network who offer pinning, backup, and inbox services Responses \u00b6 Code Description Schema 200 cafe sessions pb.CafeSessionList 500 Internal Server Error string POST \u00b6 Summary: \u00b6 Register with a Cafe Description: \u00b6 Registers with a cafe and saves an expiring service session token. An access token is required to register, and should be obtained separately from the target Cafe Parameters \u00b6 Name Located in Description Required Schema X-Textile-Args header cafe host Yes string X-Textile-Opts header token: An access token supplied by the Cafe No string Responses \u00b6 Code Description Schema 201 cafe session pb.CafeSession 400 Bad Request string 500 Internal Server Error string /cafes/{id} \u00b6 DELETE \u00b6 Summary: \u00b6 Deregisters a cafe Description: \u00b6 Deregisters with a cafe (content will expire based on the cafe's service rules) Parameters \u00b6 Name Located in Description Required Schema id path cafe id Yes string Responses \u00b6 Code Description Schema 204 ok string 500 Internal Server Error string GET \u00b6 Summary: \u00b6 Gets and displays info about a cafe session Description: \u00b6 Gets and displays info about a cafe session. Cafes are other peers on the network who offer pinning, backup, and inbox services Parameters \u00b6 Name Located in Description Required Schema id path cafe id Yes string Responses \u00b6 Code Description Schema 200 cafe session pb.CafeSession 404 Not Found string 500 Internal Server Error string /cafes/messages \u00b6 POST \u00b6 Summary: \u00b6 Check for messages at all cafes Description: \u00b6 Check for messages at all cafes. New messages are downloaded and processed opportunistically. Responses \u00b6 Code Description Schema 200 ok string 500 Internal Server Error string /config \u00b6 PATCH \u00b6 Summary: \u00b6 Set/update config settings Description: \u00b6 When patching config values, valid JSON types must be used. For example, a string should be escaped or wrapped in single quotes (e.g., \\\"127.0.0.1:40600\\\") and arrays and objects work fine (e.g. '{\"API\": \"127.0.0.1:40600\"}') but should be wrapped in single quotes. Be sure to restart the daemon for changes to take effect. See https://tools.ietf.org/html/rfc6902 for details on RFC6902 JSON patch format. Parameters \u00b6 Name Located in Description Required Schema patch body An RFC6902 JSON patch (array of ops) Yes mill.Json Responses \u00b6 Code Description Schema 204 No Content string 400 Bad Request string PUT \u00b6 Summary: \u00b6 Replace config settings. Description: \u00b6 Replace entire config file contents. The config command controls configuration variables. It works much like 'git config'. The configuration values are stored in a config file inside the Textile repository. Parameters \u00b6 Name Located in Description Required Schema config body JSON document Yes mill.Json Responses \u00b6 Code Description Schema 204 No Content string 400 Bad Request string /config/{path} \u00b6 GET \u00b6 Summary: \u00b6 Get active config settings Description: \u00b6 Report the currently active config settings, which may differ from the values specifed when setting/patching values. Parameters \u00b6 Name Located in Description Required Schema path path config path (e.g., Addresses/API) No string Responses \u00b6 Code Description Schema 200 new config value mill.Json 400 Bad Request string /contacts \u00b6 GET \u00b6 Summary: \u00b6 List known contacts Description: \u00b6 Lists known contacts. Responses \u00b6 Code Description Schema 200 contacts pb.ContactList 404 Not Found string 500 Internal Server Error string /contacts/{address} \u00b6 DELETE \u00b6 Summary: \u00b6 Remove a contact Description: \u00b6 Removes a known contact Parameters \u00b6 Name Located in Description Required Schema address path address Yes string Responses \u00b6 Code Description Schema 204 ok string 404 Not Found string 500 Internal Server Error string GET \u00b6 Summary: \u00b6 Get a known contact Description: \u00b6 Gets a known contact Parameters \u00b6 Name Located in Description Required Schema address path address Yes string Responses \u00b6 Code Description Schema 200 contact pb.Contact 404 Not Found string PUT \u00b6 Summary: \u00b6 Add to known contacts Description: \u00b6 Adds a contact by username or account address to known contacts. Parameters \u00b6 Name Located in Description Required Schema address path address Yes string contact body contact Yes pb.Contact Responses \u00b6 Code Description Schema 204 ok string 400 Bad Request string /contacts/search \u00b6 POST \u00b6 Summary: \u00b6 Search for contacts Description: \u00b6 Search for contacts known locally and on the network Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header local: Whether to only search local contacts, remote: Whether to only search remote contacts, limit: Stops searching after limit results are found, wait: Stops searching after 'wait' seconds have elapsed (max 30s), username: search by username string, address: search by account address string, events: Whether to emit Server-Sent Events (SSEvent) or plain JSON No string Responses \u00b6 Code Description Schema 200 results stream pb.QueryResult 404 Not Found string 500 Internal Server Error string /feed \u00b6 GET \u00b6 Summary: \u00b6 Paginates post and annotation block types Description: \u00b6 Paginates post (join|leave|files|message) and annotation (comment|like) block types The mode option dictates how the feed is displayed: \"chrono\": All feed block types are shown. Annotations always nest their target post, i.e., the post a comment is about. \"annotated\": Annotations are nested under post targets, but are not shown in the top-level feed. \"stacks\": Related blocks are chronologically grouped into \"stacks\". A new stack is started if an unrelated block breaks continuity. This mode is used by Textile Photos. Stacks may include: * The initial post with some nested annotations. Newer annotations may have already been listed. * One or more annotations about a post. The newest annotation assumes the \"top\" position in the stack. Additional annotations are nested under the target. Newer annotations may have already been listed in the case as well. Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default'), offset: Offset ID to start listing from (omit for latest), limit: List page size (default: 5), mode: Feed mode (one of 'chrono', 'annotated', or 'stacks') No string Responses \u00b6 Code Description Schema 200 feed pb.FeedItemList 400 Bad Request string 404 Not Found string 500 Internal Server Error string /file/{hash}/data \u00b6 GET \u00b6 Summary: \u00b6 File data at hash Description: \u00b6 Returns raw data for file Parameters \u00b6 Name Located in Description Required Schema hash path file hash Yes string Responses \u00b6 Code Description Schema 200 OK string 404 Not Found string /files \u00b6 GET \u00b6 Summary: \u00b6 Paginates thread files Description: \u00b6 Paginates thread files. If thread id not provided, paginate all files. Specify \"default\" to use the default thread (if set). Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID. Omit for all, offset: Offset ID to start listing from. Omit for latest, limit: List page size. (default: 5) No string Responses \u00b6 Code Description Schema 200 files pb.FilesList 400 Bad Request string 404 Not Found string 500 Internal Server Error string /files/{block} \u00b6 GET \u00b6 Summary: \u00b6 Get thread file Description: \u00b6 Gets a thread file by block ID Parameters \u00b6 Name Located in Description Required Schema block path block id Yes string Responses \u00b6 Code Description Schema 200 file pb.Files 400 Bad Request string /invites \u00b6 GET \u00b6 Summary: \u00b6 List invites Description: \u00b6 Lists all pending thread invites Responses \u00b6 Code Description Schema 200 invites pb.InviteViewList POST \u00b6 Summary: \u00b6 Create an invite to a thread Description: \u00b6 Creates a direct account-to-account or external invite to a thread Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default'), address: Account Address (omit to create an external invite) No string Responses \u00b6 Code Description Schema 201 invite pb.ExternalInvite 400 Bad Request string 404 Not Found string 500 Internal Server Error string /invites/{id}/accept \u00b6 POST \u00b6 Summary: \u00b6 Accept a thread invite Description: \u00b6 Accepts a direct peer-to-peer or external invite to a thread. Use the key option with an external invite Parameters \u00b6 Name Located in Description Required Schema id path invite id Yes string X-Textile-Opts header key: key for an external invite No string Responses \u00b6 Code Description Schema 201 join block pb.Block 400 Bad Request string 409 Conflict string 500 Internal Server Error string /invites/{id}/ignore \u00b6 POST \u00b6 Summary: \u00b6 Ignore a thread invite Description: \u00b6 Ignores a direct peer-to-peer invite to a thread Parameters \u00b6 Name Located in Description Required Schema id path invite id Yes string Responses \u00b6 Code Description Schema 200 ok string 400 Bad Request string /ipfs/cat/{path} \u00b6 GET \u00b6 Summary: \u00b6 Cat IPFS data Description: \u00b6 Displays the data behind an IPFS CID (hash) or Path Parameters \u00b6 Name Located in Description Required Schema path path ipfs/ipns cid Yes string X-Textile-Opts header key: Key to decrypt data on-the-fly No string Responses \u00b6 Code Description Schema 200 data [ integer ] 400 Bad Request string 401 Unauthorized string 404 Not Found string 500 Internal Server Error string /ipfs/id \u00b6 GET \u00b6 Summary: \u00b6 Get IPFS peer ID Description: \u00b6 Displays underlying IPFS peer ID Responses \u00b6 Code Description Schema 200 peer id string 500 Internal Server Error string /ipfs/swarm/connect \u00b6 POST \u00b6 Summary: \u00b6 Opens a new direct connection to a peer address Description: \u00b6 Opens a new direct connection to a peer using an IPFS multiaddr Parameters \u00b6 Name Located in Description Required Schema X-Textile-Args header peer address Yes string Responses \u00b6 Code Description Schema 200 ok [ string ] 400 Bad Request string 500 Internal Server Error string /ipfs/swarm/peers \u00b6 GET \u00b6 Summary: \u00b6 List swarm peers Description: \u00b6 Lists the set of peers this node is connected to Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header verbose: Display all extra information, latency: Also list information about latency to each peer, streams: Also list information about open streams for each peer, direction: Also list information about the direction of connection No string Responses \u00b6 Code Description Schema 200 connection ipfs.ConnInfos 400 Bad Request string 500 Internal Server Error string /keys/{target} \u00b6 GET \u00b6 Summary: \u00b6 Show file keys Description: \u00b6 Shows file keys under the given target from an add Parameters \u00b6 Name Located in Description Required Schema target path target id Yes string Responses \u00b6 Code Description Schema 200 keys pb.Keys 400 Bad Request string /logs/{subsystem} \u00b6 POST \u00b6 Summary: \u00b6 Access subsystem logs Description: \u00b6 List or change the verbosity of one or all subsystems log output. Textile logs piggyback on the IPFS event logs Parameters \u00b6 Name Located in Description Required Schema subsystem path subsystem logging identifier (omit for all) No string X-Textile-Opts header level: Log-level (one of: debug, info, warning, error, critical, or No string Responses \u00b6 Code Description Schema 200 subsystems core.SubsystemInfo 400 Bad Request string 500 Internal Server Error string /messages \u00b6 GET \u00b6 Summary: \u00b6 Paginates thread messages Description: \u00b6 Paginates thread messages Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default', omit for all), offset: Offset ID to start listing from (omit for latest), limit: List page size (default: 5) No string Responses \u00b6 Code Description Schema 200 messages pb.TextList 400 Bad Request string 404 Not Found string 500 Internal Server Error string /messages/{block} \u00b6 GET \u00b6 Summary: \u00b6 Get thread message Description: \u00b6 Gets a thread message by block ID Parameters \u00b6 Name Located in Description Required Schema block path block id Yes string Responses \u00b6 Code Description Schema 200 message pb.Text 400 Bad Request string /mills/blob \u00b6 POST \u00b6 Summary: \u00b6 Process raw data blobs Description: \u00b6 Takes a binary data blob, and optionally encrypts it, before adding to IPFS, and returns a file object Parameters \u00b6 Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted), use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS No string Responses \u00b6 Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string /mills/image/exif \u00b6 POST \u00b6 Summary: \u00b6 Extract EXIF data from image Description: \u00b6 Takes an input image, and extracts its EXIF data (optionally encrypting output), before adding to IPFS, and returns a file object Parameters \u00b6 Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted, use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS No string Responses \u00b6 Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string /mills/image/resize \u00b6 POST \u00b6 Summary: \u00b6 Resize an image Description: \u00b6 Takes an input image, and resizes/resamples it (optionally encrypting output), before adding to IPFS, and returns a file object Parameters \u00b6 Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted, use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS, width: the requested image width (required), quality: the requested JPEG image quality Yes string Responses \u00b6 Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string /mills/json \u00b6 POST \u00b6 Summary: \u00b6 Process input JSON data Description: \u00b6 Takes an input JSON document, validates it according to its json-schema.org definition, optionally encrypts the output before adding to IPFS, and returns a file object Parameters \u00b6 Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted, use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS No string Responses \u00b6 Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string /mills/schema \u00b6 POST \u00b6 Summary: \u00b6 Validate, add, and pin a new Schema Description: \u00b6 Takes a JSON-based Schema, validates it, adds it to IPFS, and returns a file object Parameters \u00b6 Name Located in Description Required Schema schema body schema Yes pb.Node Responses \u00b6 Code Description Schema 201 file pb.FileIndex 400 Bad Request string /notifications \u00b6 GET \u00b6 Summary: \u00b6 List notifications Description: \u00b6 Lists all notifications generated by thread and account activity. Responses \u00b6 Code Description Schema 200 notifications pb.NotificationList /notifications/{id}/read \u00b6 POST \u00b6 Summary: \u00b6 Mark notifiction as read Description: \u00b6 Marks a notifiction as read by ID. Use 'all' to mark all as read. Parameters \u00b6 Name Located in Description Required Schema id path notification id Yes string Responses \u00b6 Code Description Schema 200 ok string 400 Bad Request string /ping \u00b6 GET \u00b6 Summary: \u00b6 Ping a network peer Description: \u00b6 Pings another peer on the network, returning online|offline. Parameters \u00b6 Name Located in Description Required Schema X-Textile-Args header peerid Yes string Responses \u00b6 Code Description Schema 200 One of online offline 400 Bad Request string 500 Internal Server Error string /profile \u00b6 GET \u00b6 Summary: \u00b6 Get public profile Description: \u00b6 Gets the local node's public profile Responses \u00b6 Code Description Schema 200 peer pb.Peer 400 Bad Request string /profile/avatar \u00b6 POST \u00b6 Summary: \u00b6 Set avatar Description: \u00b6 Forces local node to update avatar image to latest image added to 'account' thread Responses \u00b6 Code Description Schema 201 ok string 400 Bad Request string 500 Internal Server Error string /profile/name \u00b6 POST \u00b6 Summary: \u00b6 Set display name Description: \u00b6 Sets public profile display name to given string Parameters \u00b6 Name Located in Description Required Schema X-Textile-Args header name Yes string Responses \u00b6 Code Description Schema 201 ok string 400 Bad Request string 500 Internal Server Error string /snapshots \u00b6 POST \u00b6 Summary: \u00b6 Create thread snapshots Description: \u00b6 Snapshots all threads and pushes to registered cafes Responses \u00b6 Code Description Schema 201 ok string 400 Bad Request string 500 Internal Server Error string /snapshots/search \u00b6 POST \u00b6 Summary: \u00b6 Search for thread snapshots Description: \u00b6 Searches the network for thread snapshots Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header wait: Stops searching after 'wait' seconds have elapsed (max 30s), events: Whether to emit Server-Sent Events (SSEvent) or plain JSON No string Responses \u00b6 Code Description Schema 200 results stream pb.QueryResult 400 Bad Request string 500 Internal Server Error string /subscribe/{id} \u00b6 GET \u00b6 Summary: \u00b6 Subscribe to thread updates Description: \u00b6 Subscribes to updates in a thread or all threads. An update is generated when a new block is added to a thread. There are several update types: MERGE, IGNORE, FLAG, JOIN, ANNOUNCE, LEAVE, TEXT, FILES, COMMENT, LIKE Parameters \u00b6 Name Located in Description Required Schema id path thread id, omit to stream all events No string X-Textile-Opts header type: Or'd list of event types (e.g., FILES COMMENTS LIKES) or empty to include all types, events: Whether to emit Server-Sent Events (SSEvent) or plain JSON Responses \u00b6 Code Description Schema 200 stream of updates pb.FeedItem 500 Internal Server Error string /summary \u00b6 GET \u00b6 Summary: \u00b6 Get a summary of node data Responses \u00b6 Code Description Schema 200 summary pb.Summary /threads \u00b6 GET \u00b6 Summary: \u00b6 Lists info on all threads Description: \u00b6 Lists all local threads, returning a ThreadList object Responses \u00b6 Code Description Schema 200 threads pb.ThreadList 400 Bad Request string 500 Internal Server Error string POST \u00b6 Summary: \u00b6 Adds and joins a new thread Description: \u00b6 Adds a new Thread with given name, type, and sharing and whitelist options, returning a Thread object Parameters \u00b6 Name Located in Description Required Schema X-Textile-Args header name Yes string X-Textile-Opts header key: A locally unique key used by an app to identify this thread on recovery, schema: Existing Thread Schema IPFS CID, type: Set the thread type to one of 'private', 'read_only', 'public', or 'open', sharing: Set the thread sharing style to one of 'not_shared','invite_only', or 'shared', whitelist: An array of contact addresses. When supplied, the thread will not allow additional peers beyond those in array, useful for 1-1 chat/file sharing No string Responses \u00b6 Code Description Schema 201 thread pb.Thread 400 Bad Request string 500 Internal Server Error string /threads/{id} \u00b6 DELETE \u00b6 Summary: \u00b6 Leave and remove a thread Description: \u00b6 Leaves and removes a thread Parameters \u00b6 Name Located in Description Required Schema id path thread id Yes string Responses \u00b6 Code Description Schema 204 ok string 404 Not Found string 500 Internal Server Error string GET \u00b6 Summary: \u00b6 Gets a thread Description: \u00b6 Gets and displays info about a thread Parameters \u00b6 Name Located in Description Required Schema id path thread id Yes string Responses \u00b6 Code Description Schema 200 thread pb.Thread 400 Bad Request string 500 Internal Server Error string PUT \u00b6 Summary: \u00b6 Add or update a thread directly Description: \u00b6 Adds or updates a thread directly, usually from a backup Parameters \u00b6 Name Located in Description Required Schema id path id Yes string thread body thread Yes pb.Thread Responses \u00b6 Code Description Schema 204 ok string 400 Bad Request string /threads/{id}/files \u00b6 POST \u00b6 Summary: \u00b6 Adds a file or directory of files to a thread Description: \u00b6 Adds a file or directory of files to a thread. Files not supported by the thread schema are ignored. Nested directories are included. An existing file hash may also be used as input. Parameters \u00b6 Name Located in Description Required Schema dir body list of milled dirs (output from mill endpoint) Yes pb.DirectoryList X-Textile-Opts header caption: Caption to add to file(s) No string Responses \u00b6 Code Description Schema 201 file pb.Files 400 Bad Request string 404 Not Found string 500 Internal Server Error string /threads/{id}/messages \u00b6 POST \u00b6 Summary: \u00b6 Add a message Description: \u00b6 Adds a message to a thread Parameters \u00b6 Name Located in Description Required Schema X-Textile-Args header urlescaped message body Yes string Responses \u00b6 Code Description Schema 200 message pb.Text 400 Bad Request string 404 Not Found string 500 Internal Server Error string /threads/{id}/name \u00b6 PUT \u00b6 Summary: \u00b6 Rename a thread Description: \u00b6 Renames a thread. Only initiators can rename a thread. Parameters \u00b6 Name Located in Description Required Schema id path id Yes string X-Textile-Args header name Yes string Responses \u00b6 Code Description Schema 204 ok string 400 Bad Request string /threads/{id}/peers \u00b6 GET \u00b6 Summary: \u00b6 List all thread peers Description: \u00b6 Lists all peers in a thread, optionally listing peers in the default thread Parameters \u00b6 Name Located in Description Required Schema id path thread id Yes string Responses \u00b6 Code Description Schema 200 contacts pb.ContactList 404 Not Found string /tokens \u00b6 GET \u00b6 Summary: \u00b6 List local tokens Description: \u00b6 List info about all stored cafe tokens Responses \u00b6 Code Description Schema 200 tokens [ string ] 500 Internal Server Error string POST \u00b6 Summary: \u00b6 Create an access token Description: \u00b6 Generates an access token (44 random bytes) and saves a bcrypt hashed version for future lookup. The response contains a base58 encoded version of the random bytes token. If the 'store' option is set to false, the token is generated, but not stored in the local Cafe db. Alternatively, an existing token can be added using by specifying the 'token' option. Tokens allow other peers to register with a Cafe peer. Parameters \u00b6 Name Located in Description Required Schema X-Textile-Opts header token: Use existing token, rather than creating a new one, store: Whether to store the added/generated token to the local db No string Responses \u00b6 Code Description Schema 201 token string 400 Bad Request string 500 Internal Server Error string /tokens/{id} \u00b6 DELETE \u00b6 Summary: \u00b6 Removes a cafe token Description: \u00b6 Removes an existing cafe token Parameters \u00b6 Name Located in Description Required Schema token path token Yes string Responses \u00b6 Code Description Schema 204 ok string 500 Internal Server Error string GET \u00b6 Summary: \u00b6 Check token validity Description: \u00b6 Check validity of existing cafe access token Parameters \u00b6 Name Located in Description Required Schema token path invite id Yes string Responses \u00b6 Code Description Schema 200 ok string 401 Unauthorized string Models \u00b6 core.SubsystemInfo \u00b6 Name Type Description Required core.SubsystemInfo object ipfs.ConnInfos \u00b6 Name Type Description Required peers [ ipfs.connInfo ] No ipfs.connInfo \u00b6 Name Type Description Required addr string No direction string No latency string No muxer string No peer string No streams [ ipfs.streamInfo ] No ipfs.streamInfo \u00b6 Name Type Description Required protocol string No mill.Json \u00b6 Name Type Description Required mill.Json object pb.Block \u00b6 Name Type Description Required author string No body string No date string No id string No parents [ string ] No target string No thread string No type integer No user pb.User view info No pb.BlockList \u00b6 Name Type Description Required items [ pb.Block ] No pb.Cafe \u00b6 Name Type Description Required address string No api string No node string No peer string No protocol string No url string No pb.CafeSession \u00b6 Name Type Description Required access string No cafe pb.Cafe No exp string No id string No refresh string No rexp string No subject string No type string No pb.CafeSessionList \u00b6 Name Type Description Required items [ pb.CafeSession ] No pb.Comment \u00b6 Name Type Description Required body string No date string No id string No target pb.FeedItem No user pb.User No pb.CommentList \u00b6 Name Type Description Required items [ pb.Comment ] No pb.Contact \u00b6 Name Type Description Required address string No avatar string No name string No peers [ pb.Peer ] No threads [ string ] No pb.ContactList \u00b6 Name Type Description Required items [ pb.Contact ] No pb.Directory \u00b6 Name Type Description Required files object No pb.DirectoryList \u00b6 Name Type Description Required items [ pb.Directory ] No pb.ExternalInvite \u00b6 Name Type Description Required id string No inviter string No key string No pb.FeedItem \u00b6 Name Type Description Required block string No payload string No thread string No pb.FeedItemList \u00b6 Name Type Description Required count integer No items [ pb.FeedItem ] No next string No pb.File \u00b6 Name Type Description Required file pb.FileIndex No index integer No links object No pb.FileIndex \u00b6 Name Type Description Required added string No checksum string No hash string No key string No media string No meta string No mill string No name string No opts string No size integer No source string No targets [ string ] No pb.Files \u00b6 Name Type Description Required block string No caption string No comments [ pb.Comment ] No date string No files [ pb.File ] No likes [ pb.Like ] No target string No threads [ string ] No user pb.User No pb.FilesList \u00b6 Name Type Description Required items [ pb.Files ] No pb.InviteView \u00b6 Name Type Description Required date string No id string No inviter pb.User No name string No pb.InviteViewList \u00b6 Name Type Description Required items [ pb.InviteView ] No pb.Keys \u00b6 Name Type Description Required files object No pb.Like \u00b6 Name Type Description Required date string No id string No target pb.FeedItem No user pb.User No pb.LikeList \u00b6 Name Type Description Required items [ pb.Like ] No pb.Node \u00b6 Name Type Description Required json_schema string No links object No mill string No name string No opts object No pin boolean No plaintext boolean No pb.Notification \u00b6 Name Type Description Required actor string No block string No body string No date string No id string No read boolean No subject string No subject_desc string No target string No type integer No user pb.User view info No pb.NotificationList \u00b6 Name Type Description Required items [ pb.Notification ] No pb.Peer \u00b6 Name Type Description Required address string No avatar string No created string No id string No inboxes [ pb.Cafe ] No name string No updated string No pb.QueryResult \u00b6 Name Type Description Required date string No id string No local boolean No value string No pb.Summary \u00b6 Name Type Description Required account_peer_count integer No address string No contact_count integer No files_count integer No id string No thread_count integer No pb.Text \u00b6 Name Type Description Required block string No body string No comments [ pb.Comment ] No date string No likes [ pb.Like ] No user pb.User No pb.TextList \u00b6 Name Type Description Required items [ pb.Text ] No pb.Thread \u00b6 Name Type Description Required block_count integer No head string No head_block pb.Block view info No id string No initiator string No key string No name string No peer_count integer No schema string No schema_node pb.Node No sharing integer No sk [ integer ] No state integer No type integer No whitelist [ string ] No pb.ThreadList \u00b6 Name Type Description Required items [ pb.Thread ] No pb.User \u00b6 Name Type Description Required address string No avatar string No name string No","title":"The HTTP API"},{"location":"the-http-api/#version-0","text":"","title":"Version: 0"},{"location":"the-http-api/#terms-of-service","text":"https://github.com/textileio/go-textile/blob/master/TERMS Contact information: Textile https://textile.io/ contact@textile.io License: MIT License","title":"Terms of service"},{"location":"the-http-api/#account","text":"","title":"/account"},{"location":"the-http-api/#get","text":"","title":"GET"},{"location":"the-http-api/#summary","text":"Show account contact","title":"Summary:"},{"location":"the-http-api/#description","text":"Shows the local peer's account info as a contact","title":"Description:"},{"location":"the-http-api/#responses","text":"Code Description Schema 200 contact pb.Contact 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#accountaddress","text":"","title":"/account/address"},{"location":"the-http-api/#get_1","text":"","title":"GET"},{"location":"the-http-api/#summary_1","text":"Show account address","title":"Summary:"},{"location":"the-http-api/#description_1","text":"Shows the local peer's account address","title":"Description:"},{"location":"the-http-api/#responses_1","text":"Code Description Schema 200 address string","title":"Responses"},{"location":"the-http-api/#accountseed","text":"","title":"/account/seed"},{"location":"the-http-api/#get_2","text":"","title":"GET"},{"location":"the-http-api/#summary_2","text":"Show account seed","title":"Summary:"},{"location":"the-http-api/#description_2","text":"Shows the local peer's account seed","title":"Description:"},{"location":"the-http-api/#responses_2","text":"Code Description Schema 200 seed string","title":"Responses"},{"location":"the-http-api/#blocks","text":"","title":"/blocks"},{"location":"the-http-api/#get_3","text":"","title":"GET"},{"location":"the-http-api/#summary_3","text":"Paginates blocks in a thread","title":"Summary:"},{"location":"the-http-api/#description_3","text":"Paginates blocks in a thread. Blocks are the raw components in a thread. Think of them as an append-only log of thread updates where each update is hash-linked to its parent(s). New / recovering peers can sync history by simply traversing the hash tree.","title":"Description:"},{"location":"the-http-api/#parameters","text":"Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default'), offset: Offset ID to start listing from (omit for latest), limit: List page size (default: 5) No string","title":"Parameters"},{"location":"the-http-api/#responses_3","text":"Code Description Schema 200 blocks pb.BlockList 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#blocksid","text":"","title":"/blocks/{id}"},{"location":"the-http-api/#delete","text":"","title":"DELETE"},{"location":"the-http-api/#summary_4","text":"Remove thread block","title":"Summary:"},{"location":"the-http-api/#description_4","text":"Removes a thread block by ID","title":"Description:"},{"location":"the-http-api/#parameters_1","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_4","text":"Code Description Schema 201 block pb.Block 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#get_4","text":"","title":"GET"},{"location":"the-http-api/#summary_5","text":"Gets thread block","title":"Summary:"},{"location":"the-http-api/#description_5","text":"Gets a thread block by ID","title":"Description:"},{"location":"the-http-api/#parameters_2","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_5","text":"Code Description Schema 200 block pb.Block 404 Not Found string","title":"Responses"},{"location":"the-http-api/#blocksidcomment","text":"","title":"/blocks/{id}/comment"},{"location":"the-http-api/#get_5","text":"","title":"GET"},{"location":"the-http-api/#summary_6","text":"Get thread comment","title":"Summary:"},{"location":"the-http-api/#description_6","text":"Gets a thread comment by block ID","title":"Description:"},{"location":"the-http-api/#parameters_3","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_6","text":"Code Description Schema 200 comment pb.Comment 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#blocksidcomments","text":"","title":"/blocks/{id}/comments"},{"location":"the-http-api/#get_6","text":"","title":"GET"},{"location":"the-http-api/#summary_7","text":"List comments","title":"Summary:"},{"location":"the-http-api/#description_7","text":"Lists comments on a thread block","title":"Description:"},{"location":"the-http-api/#parameters_4","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_7","text":"Code Description Schema 200 comments pb.CommentList 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#post","text":"","title":"POST"},{"location":"the-http-api/#summary_8","text":"Add a comment","title":"Summary:"},{"location":"the-http-api/#description_8","text":"Adds a comment to a thread block","title":"Description:"},{"location":"the-http-api/#parameters_5","text":"Name Located in Description Required Schema id path block id Yes string X-Textile-Args header urlescaped comment body Yes string","title":"Parameters"},{"location":"the-http-api/#responses_8","text":"Code Description Schema 201 comment pb.Comment 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#blocksidlike","text":"","title":"/blocks/{id}/like"},{"location":"the-http-api/#get_7","text":"","title":"GET"},{"location":"the-http-api/#summary_9","text":"Get thread like","title":"Summary:"},{"location":"the-http-api/#description_9","text":"Gets a thread like by block ID","title":"Description:"},{"location":"the-http-api/#parameters_6","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_9","text":"Code Description Schema 200 like pb.Like 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#blocksidlikes","text":"","title":"/blocks/{id}/likes"},{"location":"the-http-api/#get_8","text":"","title":"GET"},{"location":"the-http-api/#summary_10","text":"List likes","title":"Summary:"},{"location":"the-http-api/#description_10","text":"Lists likes on a thread block","title":"Description:"},{"location":"the-http-api/#parameters_7","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_10","text":"Code Description Schema 200 likes pb.LikeList 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#post_1","text":"","title":"POST"},{"location":"the-http-api/#summary_11","text":"Add a like","title":"Summary:"},{"location":"the-http-api/#description_11","text":"Adds a like to a thread block","title":"Description:"},{"location":"the-http-api/#parameters_8","text":"Name Located in Description Required Schema id path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_11","text":"Code Description Schema 201 like pb.Like 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#cafes","text":"","title":"/cafes"},{"location":"the-http-api/#get_9","text":"","title":"GET"},{"location":"the-http-api/#summary_12","text":"List info about all active cafe sessions","title":"Summary:"},{"location":"the-http-api/#description_12","text":"List info about all active cafe sessions. Cafes are other peers on the network who offer pinning, backup, and inbox services","title":"Description:"},{"location":"the-http-api/#responses_12","text":"Code Description Schema 200 cafe sessions pb.CafeSessionList 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#post_2","text":"","title":"POST"},{"location":"the-http-api/#summary_13","text":"Register with a Cafe","title":"Summary:"},{"location":"the-http-api/#description_13","text":"Registers with a cafe and saves an expiring service session token. An access token is required to register, and should be obtained separately from the target Cafe","title":"Description:"},{"location":"the-http-api/#parameters_9","text":"Name Located in Description Required Schema X-Textile-Args header cafe host Yes string X-Textile-Opts header token: An access token supplied by the Cafe No string","title":"Parameters"},{"location":"the-http-api/#responses_13","text":"Code Description Schema 201 cafe session pb.CafeSession 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#cafesid","text":"","title":"/cafes/{id}"},{"location":"the-http-api/#delete_1","text":"","title":"DELETE"},{"location":"the-http-api/#summary_14","text":"Deregisters a cafe","title":"Summary:"},{"location":"the-http-api/#description_14","text":"Deregisters with a cafe (content will expire based on the cafe's service rules)","title":"Description:"},{"location":"the-http-api/#parameters_10","text":"Name Located in Description Required Schema id path cafe id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_14","text":"Code Description Schema 204 ok string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#get_10","text":"","title":"GET"},{"location":"the-http-api/#summary_15","text":"Gets and displays info about a cafe session","title":"Summary:"},{"location":"the-http-api/#description_15","text":"Gets and displays info about a cafe session. Cafes are other peers on the network who offer pinning, backup, and inbox services","title":"Description:"},{"location":"the-http-api/#parameters_11","text":"Name Located in Description Required Schema id path cafe id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_15","text":"Code Description Schema 200 cafe session pb.CafeSession 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#cafesmessages","text":"","title":"/cafes/messages"},{"location":"the-http-api/#post_3","text":"","title":"POST"},{"location":"the-http-api/#summary_16","text":"Check for messages at all cafes","title":"Summary:"},{"location":"the-http-api/#description_16","text":"Check for messages at all cafes. New messages are downloaded and processed opportunistically.","title":"Description:"},{"location":"the-http-api/#responses_16","text":"Code Description Schema 200 ok string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#config","text":"","title":"/config"},{"location":"the-http-api/#patch","text":"","title":"PATCH"},{"location":"the-http-api/#summary_17","text":"Set/update config settings","title":"Summary:"},{"location":"the-http-api/#description_17","text":"When patching config values, valid JSON types must be used. For example, a string should be escaped or wrapped in single quotes (e.g., \\\"127.0.0.1:40600\\\") and arrays and objects work fine (e.g. '{\"API\": \"127.0.0.1:40600\"}') but should be wrapped in single quotes. Be sure to restart the daemon for changes to take effect. See https://tools.ietf.org/html/rfc6902 for details on RFC6902 JSON patch format.","title":"Description:"},{"location":"the-http-api/#parameters_12","text":"Name Located in Description Required Schema patch body An RFC6902 JSON patch (array of ops) Yes mill.Json","title":"Parameters"},{"location":"the-http-api/#responses_17","text":"Code Description Schema 204 No Content string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#put","text":"","title":"PUT"},{"location":"the-http-api/#summary_18","text":"Replace config settings.","title":"Summary:"},{"location":"the-http-api/#description_18","text":"Replace entire config file contents. The config command controls configuration variables. It works much like 'git config'. The configuration values are stored in a config file inside the Textile repository.","title":"Description:"},{"location":"the-http-api/#parameters_13","text":"Name Located in Description Required Schema config body JSON document Yes mill.Json","title":"Parameters"},{"location":"the-http-api/#responses_18","text":"Code Description Schema 204 No Content string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#configpath","text":"","title":"/config/{path}"},{"location":"the-http-api/#get_11","text":"","title":"GET"},{"location":"the-http-api/#summary_19","text":"Get active config settings","title":"Summary:"},{"location":"the-http-api/#description_19","text":"Report the currently active config settings, which may differ from the values specifed when setting/patching values.","title":"Description:"},{"location":"the-http-api/#parameters_14","text":"Name Located in Description Required Schema path path config path (e.g., Addresses/API) No string","title":"Parameters"},{"location":"the-http-api/#responses_19","text":"Code Description Schema 200 new config value mill.Json 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#contacts","text":"","title":"/contacts"},{"location":"the-http-api/#get_12","text":"","title":"GET"},{"location":"the-http-api/#summary_20","text":"List known contacts","title":"Summary:"},{"location":"the-http-api/#description_20","text":"Lists known contacts.","title":"Description:"},{"location":"the-http-api/#responses_20","text":"Code Description Schema 200 contacts pb.ContactList 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#contactsaddress","text":"","title":"/contacts/{address}"},{"location":"the-http-api/#delete_2","text":"","title":"DELETE"},{"location":"the-http-api/#summary_21","text":"Remove a contact","title":"Summary:"},{"location":"the-http-api/#description_21","text":"Removes a known contact","title":"Description:"},{"location":"the-http-api/#parameters_15","text":"Name Located in Description Required Schema address path address Yes string","title":"Parameters"},{"location":"the-http-api/#responses_21","text":"Code Description Schema 204 ok string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#get_13","text":"","title":"GET"},{"location":"the-http-api/#summary_22","text":"Get a known contact","title":"Summary:"},{"location":"the-http-api/#description_22","text":"Gets a known contact","title":"Description:"},{"location":"the-http-api/#parameters_16","text":"Name Located in Description Required Schema address path address Yes string","title":"Parameters"},{"location":"the-http-api/#responses_22","text":"Code Description Schema 200 contact pb.Contact 404 Not Found string","title":"Responses"},{"location":"the-http-api/#put_1","text":"","title":"PUT"},{"location":"the-http-api/#summary_23","text":"Add to known contacts","title":"Summary:"},{"location":"the-http-api/#description_23","text":"Adds a contact by username or account address to known contacts.","title":"Description:"},{"location":"the-http-api/#parameters_17","text":"Name Located in Description Required Schema address path address Yes string contact body contact Yes pb.Contact","title":"Parameters"},{"location":"the-http-api/#responses_23","text":"Code Description Schema 204 ok string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#contactssearch","text":"","title":"/contacts/search"},{"location":"the-http-api/#post_4","text":"","title":"POST"},{"location":"the-http-api/#summary_24","text":"Search for contacts","title":"Summary:"},{"location":"the-http-api/#description_24","text":"Search for contacts known locally and on the network","title":"Description:"},{"location":"the-http-api/#parameters_18","text":"Name Located in Description Required Schema X-Textile-Opts header local: Whether to only search local contacts, remote: Whether to only search remote contacts, limit: Stops searching after limit results are found, wait: Stops searching after 'wait' seconds have elapsed (max 30s), username: search by username string, address: search by account address string, events: Whether to emit Server-Sent Events (SSEvent) or plain JSON No string","title":"Parameters"},{"location":"the-http-api/#responses_24","text":"Code Description Schema 200 results stream pb.QueryResult 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#feed","text":"","title":"/feed"},{"location":"the-http-api/#get_14","text":"","title":"GET"},{"location":"the-http-api/#summary_25","text":"Paginates post and annotation block types","title":"Summary:"},{"location":"the-http-api/#description_25","text":"Paginates post (join|leave|files|message) and annotation (comment|like) block types The mode option dictates how the feed is displayed: \"chrono\": All feed block types are shown. Annotations always nest their target post, i.e., the post a comment is about. \"annotated\": Annotations are nested under post targets, but are not shown in the top-level feed. \"stacks\": Related blocks are chronologically grouped into \"stacks\". A new stack is started if an unrelated block breaks continuity. This mode is used by Textile Photos. Stacks may include: * The initial post with some nested annotations. Newer annotations may have already been listed. * One or more annotations about a post. The newest annotation assumes the \"top\" position in the stack. Additional annotations are nested under the target. Newer annotations may have already been listed in the case as well.","title":"Description:"},{"location":"the-http-api/#parameters_19","text":"Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default'), offset: Offset ID to start listing from (omit for latest), limit: List page size (default: 5), mode: Feed mode (one of 'chrono', 'annotated', or 'stacks') No string","title":"Parameters"},{"location":"the-http-api/#responses_25","text":"Code Description Schema 200 feed pb.FeedItemList 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#filehashdata","text":"","title":"/file/{hash}/data"},{"location":"the-http-api/#get_15","text":"","title":"GET"},{"location":"the-http-api/#summary_26","text":"File data at hash","title":"Summary:"},{"location":"the-http-api/#description_26","text":"Returns raw data for file","title":"Description:"},{"location":"the-http-api/#parameters_20","text":"Name Located in Description Required Schema hash path file hash Yes string","title":"Parameters"},{"location":"the-http-api/#responses_26","text":"Code Description Schema 200 OK string 404 Not Found string","title":"Responses"},{"location":"the-http-api/#files","text":"","title":"/files"},{"location":"the-http-api/#get_16","text":"","title":"GET"},{"location":"the-http-api/#summary_27","text":"Paginates thread files","title":"Summary:"},{"location":"the-http-api/#description_27","text":"Paginates thread files. If thread id not provided, paginate all files. Specify \"default\" to use the default thread (if set).","title":"Description:"},{"location":"the-http-api/#parameters_21","text":"Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID. Omit for all, offset: Offset ID to start listing from. Omit for latest, limit: List page size. (default: 5) No string","title":"Parameters"},{"location":"the-http-api/#responses_27","text":"Code Description Schema 200 files pb.FilesList 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#filesblock","text":"","title":"/files/{block}"},{"location":"the-http-api/#get_17","text":"","title":"GET"},{"location":"the-http-api/#summary_28","text":"Get thread file","title":"Summary:"},{"location":"the-http-api/#description_28","text":"Gets a thread file by block ID","title":"Description:"},{"location":"the-http-api/#parameters_22","text":"Name Located in Description Required Schema block path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_28","text":"Code Description Schema 200 file pb.Files 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#invites","text":"","title":"/invites"},{"location":"the-http-api/#get_18","text":"","title":"GET"},{"location":"the-http-api/#summary_29","text":"List invites","title":"Summary:"},{"location":"the-http-api/#description_29","text":"Lists all pending thread invites","title":"Description:"},{"location":"the-http-api/#responses_29","text":"Code Description Schema 200 invites pb.InviteViewList","title":"Responses"},{"location":"the-http-api/#post_5","text":"","title":"POST"},{"location":"the-http-api/#summary_30","text":"Create an invite to a thread","title":"Summary:"},{"location":"the-http-api/#description_30","text":"Creates a direct account-to-account or external invite to a thread","title":"Description:"},{"location":"the-http-api/#parameters_23","text":"Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default'), address: Account Address (omit to create an external invite) No string","title":"Parameters"},{"location":"the-http-api/#responses_30","text":"Code Description Schema 201 invite pb.ExternalInvite 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#invitesidaccept","text":"","title":"/invites/{id}/accept"},{"location":"the-http-api/#post_6","text":"","title":"POST"},{"location":"the-http-api/#summary_31","text":"Accept a thread invite","title":"Summary:"},{"location":"the-http-api/#description_31","text":"Accepts a direct peer-to-peer or external invite to a thread. Use the key option with an external invite","title":"Description:"},{"location":"the-http-api/#parameters_24","text":"Name Located in Description Required Schema id path invite id Yes string X-Textile-Opts header key: key for an external invite No string","title":"Parameters"},{"location":"the-http-api/#responses_31","text":"Code Description Schema 201 join block pb.Block 400 Bad Request string 409 Conflict string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#invitesidignore","text":"","title":"/invites/{id}/ignore"},{"location":"the-http-api/#post_7","text":"","title":"POST"},{"location":"the-http-api/#summary_32","text":"Ignore a thread invite","title":"Summary:"},{"location":"the-http-api/#description_32","text":"Ignores a direct peer-to-peer invite to a thread","title":"Description:"},{"location":"the-http-api/#parameters_25","text":"Name Located in Description Required Schema id path invite id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_32","text":"Code Description Schema 200 ok string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#ipfscatpath","text":"","title":"/ipfs/cat/{path}"},{"location":"the-http-api/#get_19","text":"","title":"GET"},{"location":"the-http-api/#summary_33","text":"Cat IPFS data","title":"Summary:"},{"location":"the-http-api/#description_33","text":"Displays the data behind an IPFS CID (hash) or Path","title":"Description:"},{"location":"the-http-api/#parameters_26","text":"Name Located in Description Required Schema path path ipfs/ipns cid Yes string X-Textile-Opts header key: Key to decrypt data on-the-fly No string","title":"Parameters"},{"location":"the-http-api/#responses_33","text":"Code Description Schema 200 data [ integer ] 400 Bad Request string 401 Unauthorized string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#ipfsid","text":"","title":"/ipfs/id"},{"location":"the-http-api/#get_20","text":"","title":"GET"},{"location":"the-http-api/#summary_34","text":"Get IPFS peer ID","title":"Summary:"},{"location":"the-http-api/#description_34","text":"Displays underlying IPFS peer ID","title":"Description:"},{"location":"the-http-api/#responses_34","text":"Code Description Schema 200 peer id string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#ipfsswarmconnect","text":"","title":"/ipfs/swarm/connect"},{"location":"the-http-api/#post_8","text":"","title":"POST"},{"location":"the-http-api/#summary_35","text":"Opens a new direct connection to a peer address","title":"Summary:"},{"location":"the-http-api/#description_35","text":"Opens a new direct connection to a peer using an IPFS multiaddr","title":"Description:"},{"location":"the-http-api/#parameters_27","text":"Name Located in Description Required Schema X-Textile-Args header peer address Yes string","title":"Parameters"},{"location":"the-http-api/#responses_35","text":"Code Description Schema 200 ok [ string ] 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#ipfsswarmpeers","text":"","title":"/ipfs/swarm/peers"},{"location":"the-http-api/#get_21","text":"","title":"GET"},{"location":"the-http-api/#summary_36","text":"List swarm peers","title":"Summary:"},{"location":"the-http-api/#description_36","text":"Lists the set of peers this node is connected to","title":"Description:"},{"location":"the-http-api/#parameters_28","text":"Name Located in Description Required Schema X-Textile-Opts header verbose: Display all extra information, latency: Also list information about latency to each peer, streams: Also list information about open streams for each peer, direction: Also list information about the direction of connection No string","title":"Parameters"},{"location":"the-http-api/#responses_36","text":"Code Description Schema 200 connection ipfs.ConnInfos 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#keystarget","text":"","title":"/keys/{target}"},{"location":"the-http-api/#get_22","text":"","title":"GET"},{"location":"the-http-api/#summary_37","text":"Show file keys","title":"Summary:"},{"location":"the-http-api/#description_37","text":"Shows file keys under the given target from an add","title":"Description:"},{"location":"the-http-api/#parameters_29","text":"Name Located in Description Required Schema target path target id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_37","text":"Code Description Schema 200 keys pb.Keys 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#logssubsystem","text":"","title":"/logs/{subsystem}"},{"location":"the-http-api/#post_9","text":"","title":"POST"},{"location":"the-http-api/#summary_38","text":"Access subsystem logs","title":"Summary:"},{"location":"the-http-api/#description_38","text":"List or change the verbosity of one or all subsystems log output. Textile logs piggyback on the IPFS event logs","title":"Description:"},{"location":"the-http-api/#parameters_30","text":"Name Located in Description Required Schema subsystem path subsystem logging identifier (omit for all) No string X-Textile-Opts header level: Log-level (one of: debug, info, warning, error, critical, or No string","title":"Parameters"},{"location":"the-http-api/#responses_38","text":"Code Description Schema 200 subsystems core.SubsystemInfo 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#messages","text":"","title":"/messages"},{"location":"the-http-api/#get_23","text":"","title":"GET"},{"location":"the-http-api/#summary_39","text":"Paginates thread messages","title":"Summary:"},{"location":"the-http-api/#description_39","text":"Paginates thread messages","title":"Description:"},{"location":"the-http-api/#parameters_31","text":"Name Located in Description Required Schema X-Textile-Opts header thread: Thread ID (can also use 'default', omit for all), offset: Offset ID to start listing from (omit for latest), limit: List page size (default: 5) No string","title":"Parameters"},{"location":"the-http-api/#responses_39","text":"Code Description Schema 200 messages pb.TextList 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#messagesblock","text":"","title":"/messages/{block}"},{"location":"the-http-api/#get_24","text":"","title":"GET"},{"location":"the-http-api/#summary_40","text":"Get thread message","title":"Summary:"},{"location":"the-http-api/#description_40","text":"Gets a thread message by block ID","title":"Description:"},{"location":"the-http-api/#parameters_32","text":"Name Located in Description Required Schema block path block id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_40","text":"Code Description Schema 200 message pb.Text 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#millsblob","text":"","title":"/mills/blob"},{"location":"the-http-api/#post_10","text":"","title":"POST"},{"location":"the-http-api/#summary_41","text":"Process raw data blobs","title":"Summary:"},{"location":"the-http-api/#description_41","text":"Takes a binary data blob, and optionally encrypts it, before adding to IPFS, and returns a file object","title":"Description:"},{"location":"the-http-api/#parameters_33","text":"Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted), use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS No string","title":"Parameters"},{"location":"the-http-api/#responses_41","text":"Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#millsimageexif","text":"","title":"/mills/image/exif"},{"location":"the-http-api/#post_11","text":"","title":"POST"},{"location":"the-http-api/#summary_42","text":"Extract EXIF data from image","title":"Summary:"},{"location":"the-http-api/#description_42","text":"Takes an input image, and extracts its EXIF data (optionally encrypting output), before adding to IPFS, and returns a file object","title":"Description:"},{"location":"the-http-api/#parameters_34","text":"Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted, use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS No string","title":"Parameters"},{"location":"the-http-api/#responses_42","text":"Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#millsimageresize","text":"","title":"/mills/image/resize"},{"location":"the-http-api/#post_12","text":"","title":"POST"},{"location":"the-http-api/#summary_43","text":"Resize an image","title":"Summary:"},{"location":"the-http-api/#description_43","text":"Takes an input image, and resizes/resamples it (optionally encrypting output), before adding to IPFS, and returns a file object","title":"Description:"},{"location":"the-http-api/#parameters_35","text":"Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted, use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS, width: the requested image width (required), quality: the requested JPEG image quality Yes string","title":"Parameters"},{"location":"the-http-api/#responses_43","text":"Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#millsjson","text":"","title":"/mills/json"},{"location":"the-http-api/#post_13","text":"","title":"POST"},{"location":"the-http-api/#summary_44","text":"Process input JSON data","title":"Summary:"},{"location":"the-http-api/#description_44","text":"Takes an input JSON document, validates it according to its json-schema.org definition, optionally encrypts the output before adding to IPFS, and returns a file object","title":"Description:"},{"location":"the-http-api/#parameters_36","text":"Name Located in Description Required Schema file formData multipart/form-data file No file X-Textile-Opts header plaintext: whether to leave unencrypted, use: if empty, assumes body contains multipart form file data, otherwise, will attempt to fetch given CID from IPFS No string","title":"Parameters"},{"location":"the-http-api/#responses_44","text":"Code Description Schema 201 file pb.FileIndex 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#millsschema","text":"","title":"/mills/schema"},{"location":"the-http-api/#post_14","text":"","title":"POST"},{"location":"the-http-api/#summary_45","text":"Validate, add, and pin a new Schema","title":"Summary:"},{"location":"the-http-api/#description_45","text":"Takes a JSON-based Schema, validates it, adds it to IPFS, and returns a file object","title":"Description:"},{"location":"the-http-api/#parameters_37","text":"Name Located in Description Required Schema schema body schema Yes pb.Node","title":"Parameters"},{"location":"the-http-api/#responses_45","text":"Code Description Schema 201 file pb.FileIndex 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#notifications","text":"","title":"/notifications"},{"location":"the-http-api/#get_25","text":"","title":"GET"},{"location":"the-http-api/#summary_46","text":"List notifications","title":"Summary:"},{"location":"the-http-api/#description_46","text":"Lists all notifications generated by thread and account activity.","title":"Description:"},{"location":"the-http-api/#responses_46","text":"Code Description Schema 200 notifications pb.NotificationList","title":"Responses"},{"location":"the-http-api/#notificationsidread","text":"","title":"/notifications/{id}/read"},{"location":"the-http-api/#post_15","text":"","title":"POST"},{"location":"the-http-api/#summary_47","text":"Mark notifiction as read","title":"Summary:"},{"location":"the-http-api/#description_47","text":"Marks a notifiction as read by ID. Use 'all' to mark all as read.","title":"Description:"},{"location":"the-http-api/#parameters_38","text":"Name Located in Description Required Schema id path notification id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_47","text":"Code Description Schema 200 ok string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#ping","text":"","title":"/ping"},{"location":"the-http-api/#get_26","text":"","title":"GET"},{"location":"the-http-api/#summary_48","text":"Ping a network peer","title":"Summary:"},{"location":"the-http-api/#description_48","text":"Pings another peer on the network, returning online|offline.","title":"Description:"},{"location":"the-http-api/#parameters_39","text":"Name Located in Description Required Schema X-Textile-Args header peerid Yes string","title":"Parameters"},{"location":"the-http-api/#responses_48","text":"Code Description Schema 200 One of online offline 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#profile","text":"","title":"/profile"},{"location":"the-http-api/#get_27","text":"","title":"GET"},{"location":"the-http-api/#summary_49","text":"Get public profile","title":"Summary:"},{"location":"the-http-api/#description_49","text":"Gets the local node's public profile","title":"Description:"},{"location":"the-http-api/#responses_49","text":"Code Description Schema 200 peer pb.Peer 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#profileavatar","text":"","title":"/profile/avatar"},{"location":"the-http-api/#post_16","text":"","title":"POST"},{"location":"the-http-api/#summary_50","text":"Set avatar","title":"Summary:"},{"location":"the-http-api/#description_50","text":"Forces local node to update avatar image to latest image added to 'account' thread","title":"Description:"},{"location":"the-http-api/#responses_50","text":"Code Description Schema 201 ok string 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#profilename","text":"","title":"/profile/name"},{"location":"the-http-api/#post_17","text":"","title":"POST"},{"location":"the-http-api/#summary_51","text":"Set display name","title":"Summary:"},{"location":"the-http-api/#description_51","text":"Sets public profile display name to given string","title":"Description:"},{"location":"the-http-api/#parameters_40","text":"Name Located in Description Required Schema X-Textile-Args header name Yes string","title":"Parameters"},{"location":"the-http-api/#responses_51","text":"Code Description Schema 201 ok string 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#snapshots","text":"","title":"/snapshots"},{"location":"the-http-api/#post_18","text":"","title":"POST"},{"location":"the-http-api/#summary_52","text":"Create thread snapshots","title":"Summary:"},{"location":"the-http-api/#description_52","text":"Snapshots all threads and pushes to registered cafes","title":"Description:"},{"location":"the-http-api/#responses_52","text":"Code Description Schema 201 ok string 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#snapshotssearch","text":"","title":"/snapshots/search"},{"location":"the-http-api/#post_19","text":"","title":"POST"},{"location":"the-http-api/#summary_53","text":"Search for thread snapshots","title":"Summary:"},{"location":"the-http-api/#description_53","text":"Searches the network for thread snapshots","title":"Description:"},{"location":"the-http-api/#parameters_41","text":"Name Located in Description Required Schema X-Textile-Opts header wait: Stops searching after 'wait' seconds have elapsed (max 30s), events: Whether to emit Server-Sent Events (SSEvent) or plain JSON No string","title":"Parameters"},{"location":"the-http-api/#responses_53","text":"Code Description Schema 200 results stream pb.QueryResult 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#subscribeid","text":"","title":"/subscribe/{id}"},{"location":"the-http-api/#get_28","text":"","title":"GET"},{"location":"the-http-api/#summary_54","text":"Subscribe to thread updates","title":"Summary:"},{"location":"the-http-api/#description_54","text":"Subscribes to updates in a thread or all threads. An update is generated when a new block is added to a thread. There are several update types: MERGE, IGNORE, FLAG, JOIN, ANNOUNCE, LEAVE, TEXT, FILES, COMMENT, LIKE","title":"Description:"},{"location":"the-http-api/#parameters_42","text":"Name Located in Description Required Schema id path thread id, omit to stream all events No string X-Textile-Opts header type: Or'd list of event types (e.g., FILES COMMENTS LIKES) or empty to include all types, events: Whether to emit Server-Sent Events (SSEvent) or plain JSON","title":"Parameters"},{"location":"the-http-api/#responses_54","text":"Code Description Schema 200 stream of updates pb.FeedItem 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#summary_55","text":"","title":"/summary"},{"location":"the-http-api/#get_29","text":"","title":"GET"},{"location":"the-http-api/#summary_56","text":"Get a summary of node data","title":"Summary:"},{"location":"the-http-api/#responses_55","text":"Code Description Schema 200 summary pb.Summary","title":"Responses"},{"location":"the-http-api/#threads","text":"","title":"/threads"},{"location":"the-http-api/#get_30","text":"","title":"GET"},{"location":"the-http-api/#summary_57","text":"Lists info on all threads","title":"Summary:"},{"location":"the-http-api/#description_55","text":"Lists all local threads, returning a ThreadList object","title":"Description:"},{"location":"the-http-api/#responses_56","text":"Code Description Schema 200 threads pb.ThreadList 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#post_20","text":"","title":"POST"},{"location":"the-http-api/#summary_58","text":"Adds and joins a new thread","title":"Summary:"},{"location":"the-http-api/#description_56","text":"Adds a new Thread with given name, type, and sharing and whitelist options, returning a Thread object","title":"Description:"},{"location":"the-http-api/#parameters_43","text":"Name Located in Description Required Schema X-Textile-Args header name Yes string X-Textile-Opts header key: A locally unique key used by an app to identify this thread on recovery, schema: Existing Thread Schema IPFS CID, type: Set the thread type to one of 'private', 'read_only', 'public', or 'open', sharing: Set the thread sharing style to one of 'not_shared','invite_only', or 'shared', whitelist: An array of contact addresses. When supplied, the thread will not allow additional peers beyond those in array, useful for 1-1 chat/file sharing No string","title":"Parameters"},{"location":"the-http-api/#responses_57","text":"Code Description Schema 201 thread pb.Thread 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#threadsid","text":"","title":"/threads/{id}"},{"location":"the-http-api/#delete_3","text":"","title":"DELETE"},{"location":"the-http-api/#summary_59","text":"Leave and remove a thread","title":"Summary:"},{"location":"the-http-api/#description_57","text":"Leaves and removes a thread","title":"Description:"},{"location":"the-http-api/#parameters_44","text":"Name Located in Description Required Schema id path thread id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_58","text":"Code Description Schema 204 ok string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#get_31","text":"","title":"GET"},{"location":"the-http-api/#summary_60","text":"Gets a thread","title":"Summary:"},{"location":"the-http-api/#description_58","text":"Gets and displays info about a thread","title":"Description:"},{"location":"the-http-api/#parameters_45","text":"Name Located in Description Required Schema id path thread id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_59","text":"Code Description Schema 200 thread pb.Thread 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#put_2","text":"","title":"PUT"},{"location":"the-http-api/#summary_61","text":"Add or update a thread directly","title":"Summary:"},{"location":"the-http-api/#description_59","text":"Adds or updates a thread directly, usually from a backup","title":"Description:"},{"location":"the-http-api/#parameters_46","text":"Name Located in Description Required Schema id path id Yes string thread body thread Yes pb.Thread","title":"Parameters"},{"location":"the-http-api/#responses_60","text":"Code Description Schema 204 ok string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#threadsidfiles","text":"","title":"/threads/{id}/files"},{"location":"the-http-api/#post_21","text":"","title":"POST"},{"location":"the-http-api/#summary_62","text":"Adds a file or directory of files to a thread","title":"Summary:"},{"location":"the-http-api/#description_60","text":"Adds a file or directory of files to a thread. Files not supported by the thread schema are ignored. Nested directories are included. An existing file hash may also be used as input.","title":"Description:"},{"location":"the-http-api/#parameters_47","text":"Name Located in Description Required Schema dir body list of milled dirs (output from mill endpoint) Yes pb.DirectoryList X-Textile-Opts header caption: Caption to add to file(s) No string","title":"Parameters"},{"location":"the-http-api/#responses_61","text":"Code Description Schema 201 file pb.Files 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#threadsidmessages","text":"","title":"/threads/{id}/messages"},{"location":"the-http-api/#post_22","text":"","title":"POST"},{"location":"the-http-api/#summary_63","text":"Add a message","title":"Summary:"},{"location":"the-http-api/#description_61","text":"Adds a message to a thread","title":"Description:"},{"location":"the-http-api/#parameters_48","text":"Name Located in Description Required Schema X-Textile-Args header urlescaped message body Yes string","title":"Parameters"},{"location":"the-http-api/#responses_62","text":"Code Description Schema 200 message pb.Text 400 Bad Request string 404 Not Found string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#threadsidname","text":"","title":"/threads/{id}/name"},{"location":"the-http-api/#put_3","text":"","title":"PUT"},{"location":"the-http-api/#summary_64","text":"Rename a thread","title":"Summary:"},{"location":"the-http-api/#description_62","text":"Renames a thread. Only initiators can rename a thread.","title":"Description:"},{"location":"the-http-api/#parameters_49","text":"Name Located in Description Required Schema id path id Yes string X-Textile-Args header name Yes string","title":"Parameters"},{"location":"the-http-api/#responses_63","text":"Code Description Schema 204 ok string 400 Bad Request string","title":"Responses"},{"location":"the-http-api/#threadsidpeers","text":"","title":"/threads/{id}/peers"},{"location":"the-http-api/#get_32","text":"","title":"GET"},{"location":"the-http-api/#summary_65","text":"List all thread peers","title":"Summary:"},{"location":"the-http-api/#description_63","text":"Lists all peers in a thread, optionally listing peers in the default thread","title":"Description:"},{"location":"the-http-api/#parameters_50","text":"Name Located in Description Required Schema id path thread id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_64","text":"Code Description Schema 200 contacts pb.ContactList 404 Not Found string","title":"Responses"},{"location":"the-http-api/#tokens","text":"","title":"/tokens"},{"location":"the-http-api/#get_33","text":"","title":"GET"},{"location":"the-http-api/#summary_66","text":"List local tokens","title":"Summary:"},{"location":"the-http-api/#description_64","text":"List info about all stored cafe tokens","title":"Description:"},{"location":"the-http-api/#responses_65","text":"Code Description Schema 200 tokens [ string ] 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#post_23","text":"","title":"POST"},{"location":"the-http-api/#summary_67","text":"Create an access token","title":"Summary:"},{"location":"the-http-api/#description_65","text":"Generates an access token (44 random bytes) and saves a bcrypt hashed version for future lookup. The response contains a base58 encoded version of the random bytes token. If the 'store' option is set to false, the token is generated, but not stored in the local Cafe db. Alternatively, an existing token can be added using by specifying the 'token' option. Tokens allow other peers to register with a Cafe peer.","title":"Description:"},{"location":"the-http-api/#parameters_51","text":"Name Located in Description Required Schema X-Textile-Opts header token: Use existing token, rather than creating a new one, store: Whether to store the added/generated token to the local db No string","title":"Parameters"},{"location":"the-http-api/#responses_66","text":"Code Description Schema 201 token string 400 Bad Request string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#tokensid","text":"","title":"/tokens/{id}"},{"location":"the-http-api/#delete_4","text":"","title":"DELETE"},{"location":"the-http-api/#summary_68","text":"Removes a cafe token","title":"Summary:"},{"location":"the-http-api/#description_66","text":"Removes an existing cafe token","title":"Description:"},{"location":"the-http-api/#parameters_52","text":"Name Located in Description Required Schema token path token Yes string","title":"Parameters"},{"location":"the-http-api/#responses_67","text":"Code Description Schema 204 ok string 500 Internal Server Error string","title":"Responses"},{"location":"the-http-api/#get_34","text":"","title":"GET"},{"location":"the-http-api/#summary_69","text":"Check token validity","title":"Summary:"},{"location":"the-http-api/#description_67","text":"Check validity of existing cafe access token","title":"Description:"},{"location":"the-http-api/#parameters_53","text":"Name Located in Description Required Schema token path invite id Yes string","title":"Parameters"},{"location":"the-http-api/#responses_68","text":"Code Description Schema 200 ok string 401 Unauthorized string","title":"Responses"},{"location":"the-http-api/#models","text":"","title":"Models"},{"location":"the-http-api/#coresubsysteminfo","text":"Name Type Description Required core.SubsystemInfo object","title":"core.SubsystemInfo"},{"location":"the-http-api/#ipfsconninfos","text":"Name Type Description Required peers [ ipfs.connInfo ] No","title":"ipfs.ConnInfos"},{"location":"the-http-api/#ipfsconninfo","text":"Name Type Description Required addr string No direction string No latency string No muxer string No peer string No streams [ ipfs.streamInfo ] No","title":"ipfs.connInfo"},{"location":"the-http-api/#ipfsstreaminfo","text":"Name Type Description Required protocol string No","title":"ipfs.streamInfo"},{"location":"the-http-api/#milljson","text":"Name Type Description Required mill.Json object","title":"mill.Json"},{"location":"the-http-api/#pbblock","text":"Name Type Description Required author string No body string No date string No id string No parents [ string ] No target string No thread string No type integer No user pb.User view info No","title":"pb.Block"},{"location":"the-http-api/#pbblocklist","text":"Name Type Description Required items [ pb.Block ] No","title":"pb.BlockList"},{"location":"the-http-api/#pbcafe","text":"Name Type Description Required address string No api string No node string No peer string No protocol string No url string No","title":"pb.Cafe"},{"location":"the-http-api/#pbcafesession","text":"Name Type Description Required access string No cafe pb.Cafe No exp string No id string No refresh string No rexp string No subject string No type string No","title":"pb.CafeSession"},{"location":"the-http-api/#pbcafesessionlist","text":"Name Type Description Required items [ pb.CafeSession ] No","title":"pb.CafeSessionList"},{"location":"the-http-api/#pbcomment","text":"Name Type Description Required body string No date string No id string No target pb.FeedItem No user pb.User No","title":"pb.Comment"},{"location":"the-http-api/#pbcommentlist","text":"Name Type Description Required items [ pb.Comment ] No","title":"pb.CommentList"},{"location":"the-http-api/#pbcontact","text":"Name Type Description Required address string No avatar string No name string No peers [ pb.Peer ] No threads [ string ] No","title":"pb.Contact"},{"location":"the-http-api/#pbcontactlist","text":"Name Type Description Required items [ pb.Contact ] No","title":"pb.ContactList"},{"location":"the-http-api/#pbdirectory","text":"Name Type Description Required files object No","title":"pb.Directory"},{"location":"the-http-api/#pbdirectorylist","text":"Name Type Description Required items [ pb.Directory ] No","title":"pb.DirectoryList"},{"location":"the-http-api/#pbexternalinvite","text":"Name Type Description Required id string No inviter string No key string No","title":"pb.ExternalInvite"},{"location":"the-http-api/#pbfeeditem","text":"Name Type Description Required block string No payload string No thread string No","title":"pb.FeedItem"},{"location":"the-http-api/#pbfeeditemlist","text":"Name Type Description Required count integer No items [ pb.FeedItem ] No next string No","title":"pb.FeedItemList"},{"location":"the-http-api/#pbfile","text":"Name Type Description Required file pb.FileIndex No index integer No links object No","title":"pb.File"},{"location":"the-http-api/#pbfileindex","text":"Name Type Description Required added string No checksum string No hash string No key string No media string No meta string No mill string No name string No opts string No size integer No source string No targets [ string ] No","title":"pb.FileIndex"},{"location":"the-http-api/#pbfiles","text":"Name Type Description Required block string No caption string No comments [ pb.Comment ] No date string No files [ pb.File ] No likes [ pb.Like ] No target string No threads [ string ] No user pb.User No","title":"pb.Files"},{"location":"the-http-api/#pbfileslist","text":"Name Type Description Required items [ pb.Files ] No","title":"pb.FilesList"},{"location":"the-http-api/#pbinviteview","text":"Name Type Description Required date string No id string No inviter pb.User No name string No","title":"pb.InviteView"},{"location":"the-http-api/#pbinviteviewlist","text":"Name Type Description Required items [ pb.InviteView ] No","title":"pb.InviteViewList"},{"location":"the-http-api/#pbkeys","text":"Name Type Description Required files object No","title":"pb.Keys"},{"location":"the-http-api/#pblike","text":"Name Type Description Required date string No id string No target pb.FeedItem No user pb.User No","title":"pb.Like"},{"location":"the-http-api/#pblikelist","text":"Name Type Description Required items [ pb.Like ] No","title":"pb.LikeList"},{"location":"the-http-api/#pbnode","text":"Name Type Description Required json_schema string No links object No mill string No name string No opts object No pin boolean No plaintext boolean No","title":"pb.Node"},{"location":"the-http-api/#pbnotification","text":"Name Type Description Required actor string No block string No body string No date string No id string No read boolean No subject string No subject_desc string No target string No type integer No user pb.User view info No","title":"pb.Notification"},{"location":"the-http-api/#pbnotificationlist","text":"Name Type Description Required items [ pb.Notification ] No","title":"pb.NotificationList"},{"location":"the-http-api/#pbpeer","text":"Name Type Description Required address string No avatar string No created string No id string No inboxes [ pb.Cafe ] No name string No updated string No","title":"pb.Peer"},{"location":"the-http-api/#pbqueryresult","text":"Name Type Description Required date string No id string No local boolean No value string No","title":"pb.QueryResult"},{"location":"the-http-api/#pbsummary","text":"Name Type Description Required account_peer_count integer No address string No contact_count integer No files_count integer No id string No thread_count integer No","title":"pb.Summary"},{"location":"the-http-api/#pbtext","text":"Name Type Description Required block string No body string No comments [ pb.Comment ] No date string No likes [ pb.Like ] No user pb.User No","title":"pb.Text"},{"location":"the-http-api/#pbtextlist","text":"Name Type Description Required items [ pb.Text ] No","title":"pb.TextList"},{"location":"the-http-api/#pbthread","text":"Name Type Description Required block_count integer No head string No head_block pb.Block view info No id string No initiator string No key string No name string No peer_count integer No schema string No schema_node pb.Node No sharing integer No sk [ integer ] No state integer No type integer No whitelist [ string ] No","title":"pb.Thread"},{"location":"the-http-api/#pbthreadlist","text":"Name Type Description Required items [ pb.Thread ] No","title":"pb.ThreadList"},{"location":"the-http-api/#pbuser","text":"Name Type Description Required address string No avatar string No name string No","title":"pb.User"},{"location":"clients/android/","text":"Documentation for Textile's Android SDK (android-textile) can be found at https://github.com/textileio/android-textile . Maven package: https://bintray.com/textile/maven/textile","title":"Android"},{"location":"clients/command-line/","text":"The command-line client ships alongside the daemon. Usage information for all commands, including sub-commands, is available via the --help flag. textile \u00b6 Usage: textile [OPTIONS] <command> Help Options: -h, --help Show this help message Available commands: account Manage a wallet account blocks View thread blocks cafes Manage cafes chat Start a thread chat commands List available commands comments Manage thread comments config Get and set config values contacts Manage contacts daemon Start the daemon docs Print docs feed Paginate thread content as a consumable feed files Manage thread files init Init the node repo and exit invites Manage thread invites ipfs Access IPFS commands likes Manage thread likes logs List and control subsystem logs messages Manage thread messages migrate Migrate the node repo and exit notifications Manage notifications ping Ping another peer profile Manage public profile sub Subscribe to thread updates summary Get a summary of local data threads Manage threads tokens Manage Cafe access tokens version Print version and exit wallet Manage or create an account wallet account \u00b6 Usage: textile [OPTIONS] account <command> Use this command to manage a wallet account. Help Options: -h, --help Show this help message Available commands: address Show wallet account address get Show account contact seed Show wallet account seed sync Sync account with all network snapshots get \u00b6 Usage: textile [OPTIONS] account get Shows the local peer's account info as a contact. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) seed \u00b6 Usage: textile [OPTIONS] account seed Shows the local peer's account seed. Help Options: -h, --help Show this help message [seed command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) address \u00b6 Usage: textile [OPTIONS] account address Shows the local peer's account address. Help Options: -h, --help Show this help message [address command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) sync \u00b6 Usage: textile [OPTIONS] account sync Syncs the local account peer with other peers found on the network. Help Options: -h, --help Show this help message [sync command options] --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) blocks \u00b6 Usage: textile [OPTIONS] blocks <get | ls> Blocks are the raw components in a thread. Think of them as an append-only log of thread updates where each update is hash-linked to its parent(s). New / recovering peers can sync history by simply traversing the hash tree. There are several block types: - MERGE: 3-way merge added. - IGNORE: A block was ignored. - FLAG: A block was flagged. - JOIN: Peer joined. - ANNOUNCE: Peer set username / avatar / inbox addresses - LEAVE: Peer left. - TEXT: Text message added. - FILES: File(s) added. - COMMENT: Comment added to another block. - LIKE: Like added to another block. Use this command to list and get blocks in a thread. Help Options: -h, --help Show this help message Available commands: get Get a thread block ls Paginate thread blocks ls \u00b6 Usage: textile [OPTIONS] blocks ls Paginates blocks in a thread. Use the --dots option to return GraphViz dots instead of JSON. Help Options: -h, --help Show this help message [ls command options] -t, --thread= Thread ID. Omit for default. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 5) -d, --dots Return GraphViz dots instead of JSON. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] blocks get Gets a thread block by ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) cafes \u00b6 Usage: textile [OPTIONS] cafes <command> Cafes are other peers on the network who offer pinning, backup, and inbox services. Use this command to add, list, get, and remove cafes and check messages. Help Options: -h, --help Show this help message Available commands: add Register with a cafe get Get a cafe ls List cafes messages Checks cafe messages rm Remove a cafe add \u00b6 Usage: textile [OPTIONS] cafes add Registers with a cafe and saves an expiring service session token. An access token is required to register, and should be obtained separately from the target Cafe. Help Options: -h, --help Show this help message [add command options] -t, --token= An access token supplied by the Cafe. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] cafes ls List info about all active cafe sessions. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] cafes get Gets and displays info about a cafe session. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) rm \u00b6 Usage: textile [OPTIONS] cafes rm Deregisters a cafe (content will expire based on the cafe's service rules). Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) messages \u00b6 Usage: textile [OPTIONS] cafes messages Check for messages at all cafes. New messages are downloaded and processed opportunistically. Help Options: -h, --help Show this help message [messages command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) chat \u00b6 Usage: textile [OPTIONS] chat [chat-OPTIONS] Starts an interactive chat session in a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [chat command options] -t, --thread= Thread ID. Omit for all. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) commands \u00b6 Usage: textile [OPTIONS] commands List all available textile commands. Help Options: -h, --help Show this help message comments \u00b6 Usage: textile [OPTIONS] comments <command> Comments are added as blocks in a thread, which target another block, usually a file(s). Use this command to add, list, get, and ignore comments. Help Options: -h, --help Show this help message Available commands: add Add a thread comment get Get a thread comment ignore Ignore a thread comment ls List thread comments add \u00b6 Usage: textile [OPTIONS] comments add Adds a comment to a thread block. Help Options: -h, --help Show this help message [add command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] comments ls Lists comments on a thread block. Help Options: -h, --help Show this help message [ls command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] comments get Gets a thread comment by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ignore \u00b6 Usage: textile [OPTIONS] comments ignore Ignores a thread comment by its block ID. This adds an \"ignore\" thread block targeted at the comment. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) config \u00b6 Usage: textile [OPTIONS] config [config-OPTIONS] The config command controls configuration variables. It works much like 'git config'. The configuration values are stored in a config file inside your Textile repository. Getting config values will report the currently active config settings. This may differ from the values specified when setting values. When changing values, valid JSON types must be used. For example, a string should be escaped or wrapped in single quotes (e.g., \\\"127.0.0.1:40600\\\") and arrays and objects work fine (e.g. '{\"API\": \"127.0.0.1:40600\"}') but should be wrapped in single quotes. Be sure to restart the daemon for changes to take effect. Examples: Get the value of the 'Addresses.API' key: $ textile config Addresses.API $ textile config Addresses/API # Alternative syntax Print the entire Textile config file to console: $ textile config Set the value of the 'Addresses.API' key: $ textile config Addresses.API \\\"127.0.0.1:40600\\\" Help Options: -h, --help Show this help message [config command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) contacts \u00b6 Usage: textile [OPTIONS] contacts <command> Use this command to add, list, get, and remove local contacts and find other contacts on the network. Help Options: -h, --help Show this help message Available commands: add Add a contact get Get a known contact ls List known contacts rm Remove a known contact search Find contacts add \u00b6 Usage: textile [OPTIONS] contacts add Adds a contact by display name or account address to known contacts. Help Options: -h, --help Show this help message [add command options] -n, --name= Add by display name. -a, --address= Add by account address. --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] contacts ls Lists known contacts. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] contacts get Gets a known contact. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) rm \u00b6 Usage: textile [OPTIONS] contacts rm Removes a known contact. Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) search \u00b6 Usage: textile [OPTIONS] contacts search Searches locally and on the network for contacts. Help Options: -h, --help Show this help message [search command options] -n, --name= Search by display name. -a, --address= Search by account address. --only-local Only search local contacts. --only-remote Only search remote contacts. --limit= Stops searching after limit results are found. (default: 5) --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) daemon \u00b6 Usage: textile [OPTIONS] daemon [daemon-OPTIONS] Start a node daemon session. Help Options: -h, --help Show this help message [daemon command options] -p, --pin-code= Specify the pin code for datastore encryption (omit of none was used during init). -r, --repo-dir= Specify a custom repository path. -d, --debug Set the logging level to debug. -s, --serve-docs Whether to serve the local REST API docs. docs \u00b6 Usage: textile [OPTIONS] docs Prints markdown docs for the command-line client. Help Options: -h, --help Show this help message feed \u00b6 Usage: textile [OPTIONS] feed [feed-OPTIONS] Paginates post (join|leave|files|message) and annotation (comment|like) block types as a consumable feed. The --mode option dictates how the feed is displayed: - \"chrono\": All feed block types are shown. Annotations always nest their target post, i.e., the post a comment is about. - \"annotated\": Annotations are nested under post targets, but are not shown in the top-level feed. - \"stacks\": Related blocks are chronologically grouped into \"stacks\". A new stack is started if an unrelated block breaks continuity. This mode is used by Textile Photos. Stacks may include: * The initial post with some nested annotations. Newer annotations may have already been listed. * One or more annotations about a post. The newest annotation assumes the \"top\" position in the stack. Additional annotations are nested under the target. Newer annotations may have already been listed in the case as well. Omit the --thread option to paginate all files. Specify \"default\" to use the default thread (if selected). Help Options: -h, --help Show this help message [feed command options] -t, --thread= Thread ID. Omit for all. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 5) -m, --mode= Feed mode. One of: chrono, annotated, stacks. (default: chrono) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) files \u00b6 Usage: textile [OPTIONS] files <command> Files are added as blocks in a thread. Use this command to add, list, get, and ignore files. The 'key' command provides access to file encryption keys. Help Options: -h, --help Show this help message Available commands: add Add file(s) to a thread get Get a thread file by ID ignore Ignore thread files keys Show file keys ls Paginate thread files add \u00b6 Usage: textile [OPTIONS] files add Adds a file or directory of files to a thread. Files not supported by the thread schema are ignored. Nested directories are included. An existing file hash may also be used as input. Use the --group option to add directory files as a single object. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [add command options] -t, --thread= Thread ID. Omit for default. -c, --caption= File(s) caption. -g, --group Group directory files. -v, --verbose Prints files as they are milled. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] files ls Paginates thread files. Omit the --thread option to paginate all files. Specify \"default\" to use the default thread (if selected). Help Options: -h, --help Show this help message [ls command options] -t, --thread= Thread ID. Omit for all. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 5) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] files get Gets a thread file by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ignore \u00b6 Usage: textile [OPTIONS] files ignore Ignores a thread file by its block ID. This adds an \"ignore\" thread block targeted at the file. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) keys \u00b6 Usage: textile [OPTIONS] files keys Shows file keys under the given target from an add. Help Options: -h, --help Show this help message [keys command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) init \u00b6 Usage: textile [OPTIONS] init [init-OPTIONS] Initialize the node repository and exit. Help Options: -h, --help Show this help message [init command options] -s, --seed= Account seed (run 'wallet' command to generate new seeds). -p, --pin-code= Specify a pin code for datastore encryption. -r, --repo-dir= Specify a custom repository path. Address Options: -a, --api-bind-addr= Set the local API address. (default: 127.0.0.1:40600) -c, --cafe-bind-addr= Set the cafe REST API address. (default: 127.0.0.1:40601) -g, --gateway-bind-addr= Set the IPFS gateway address. (default: 127.0.0.1:5050) Cafe Options: --cafe-open Open the p2p Cafe Service for other peers. --cafe-public-ip= Required with --cafe-open on a server with a public IP address. --cafe-url= Specify the URL of this cafe, e.g., https://mycafe.com --cafe-neighbor-url= Specify the URL of a secondary cafe. Must return cafe info, e.g., via a Gateway: https://my-gateway.yolo.com/cafe, or a Cafe API: https://my-cafe.yolo.com IPFS Options: --server Apply IPFS server profile. --swarm-ports= Set the swarm ports (TCP,WS). Random ports are chosen by default. Log Options: -n, --no-log-files Write logs to stdout instead of rolling files. -d, --debug Set the logging level to debug. invites \u00b6 Usage: textile [OPTIONS] invites <command> Invites allow other users to join threads. There are two types of invites, direct account-to-account and external: - Account-to-account invites are encrypted with the invitee's account address (public key). - External invites are encrypted with a single-use key and are useful for onboarding new users. Help Options: -h, --help Show this help message Available commands: accept Accept an invite to a thread create Create account-to-account or external invites to a thread ignore Ignore direct invite to a thread ls List thread invites create \u00b6 Usage: textile [OPTIONS] invites create Creates a direct account-to-account or external invite to a thread. Omit the --address option to create an external invite. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [create command options] -t, --thread= Thread ID. Omit for default. -a, --address= Account address. Omit to create an external invite. --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] invites ls Lists all pending thread invites. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) accept \u00b6 Usage: textile [OPTIONS] invites accept Accepts a direct account-to-account or external invite to a thread. Use the --key option with an external invite. Help Options: -h, --help Show this help message [accept command options] -k, --key= Key for an external invite. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ignore \u00b6 Usage: textile [OPTIONS] invites ignore Ignores a direct account-to-account invite to a thread. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ipfs \u00b6 Usage: textile [OPTIONS] ipfs <cat | id | swarm> Provides access to some IPFS commands. Help Options: -h, --help Show this help message Available commands: cat Show IPFS object data id Show IPFS peer ID swarm Access some IPFS swarm commands id \u00b6 Usage: textile [OPTIONS] ipfs id Shows the local node's IPFS peer ID. Help Options: -h, --help Show this help message [id command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) swarm \u00b6 Usage: textile [OPTIONS] ipfs swarm Provides access to a limited set of IPFS swarm commands. <connect | peers> Help Options: -h, --help Show this help message Available commands: connect Open connection to a given address peers List peers with open connections cat \u00b6 Usage: textile [OPTIONS] ipfs cat Displays the data behind an IPFS CID (hash). Help Options: -h, --help Show this help message [cat command options] -k, --key= Encyrption key. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) likes \u00b6 Usage: textile [OPTIONS] likes <command> Likes are added as blocks in a thread, which target another block, usually a file(s). Use this command to add, list, get, and ignore likes. Help Options: -h, --help Show this help message Available commands: add Add a thread like get Get a thread like ignore Ignore a thread like ls List thread likes add \u00b6 Usage: textile [OPTIONS] likes add Adds a like to a thread block. Help Options: -h, --help Show this help message [add command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] likes ls Lists likes on a thread block. Help Options: -h, --help Show this help message [ls command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] likes get Gets a thread like by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ignore \u00b6 Usage: textile [OPTIONS] likes ignore Ignores a thread like by its block ID. This adds an \"ignore\" thread block targeted at the like. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) logs \u00b6 Usage: textile [OPTIONS] logs [logs-OPTIONS] List or change the verbosity of one or all subsystems log output. Textile logs piggyback on the IPFS event logs. Help Options: -h, --help Show this help message [logs command options] -s, --subsystem= The subsystem logging identifier. Omit for all. -l, --level= One of: debug, info, warning, error, critical. Omit to get current level. -t, --tex-only Whether to list/change only Textile subsystems, or all available subsystems. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) messages \u00b6 Usage: textile [OPTIONS] messages <command> Messages are added as blocks in a thread. Use this command to add, list, get, and ignore messages. Help Options: -h, --help Show this help message Available commands: add Add a thread message get Get a thread message ignore Ignore a thread message ls List thread messages add \u00b6 Usage: textile [OPTIONS] messages add Adds a message to a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [add command options] -t, --thread= Thread ID. Omit for default. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] messages ls Paginates thread messages. Omit the --thread option to paginate all messages. Specify \"default\" to use the default thread (if selected). Help Options: -h, --help Show this help message [ls command options] -t, --thread= Thread ID. Omit for all. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 10) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] messages get Gets a thread message by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ignore \u00b6 Usage: textile [OPTIONS] messages ignore Ignores a thread message by its block ID. This adds an \"ignore\" thread block targeted at the message. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) migrate \u00b6 Usage: textile [OPTIONS] migrate [migrate-OPTIONS] Migrate the node repository and exit. Help Options: -h, --help Show this help message [migrate command options] -r, --repo-dir= Specify a custom repository path. -p, --pin-code= Specify the pin code for datastore encryption (omit of none was used during init). notifications \u00b6 Usage: textile [OPTIONS] notifications <ls | read> Notifications are generated by thread and account activity. Use this command to list, get, and mark notifications as read. Help Options: -h, --help Show this help message Available commands: ls List notifications read Mark notification(s) as read ls \u00b6 Usage: textile [OPTIONS] notifications ls Lists notifications. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) read \u00b6 Usage: textile [OPTIONS] notifications read Marks a notifiction as read by ID. \"textile notifications read all\" marks all as read. Help Options: -h, --help Show this help message [read command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ping \u00b6 Usage: textile [OPTIONS] ping [ping-OPTIONS] Pings another peer on the network, returning online|offline. Help Options: -h, --help Show this help message [ping command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) profile \u00b6 Usage: textile [OPTIONS] profile <get | set> Use this command to view and update the peer profile. A Textile account will show a profile for each of its peers, e.g., mobile, desktop, etc. Help Options: -h, --help Show this help message Available commands: get Get profile set Set profile name and avatar get \u00b6 Usage: textile [OPTIONS] profile get Gets the local peer profile. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) set \u00b6 Usage: textile [OPTIONS] profile set Sets the peer display name and avatar. <avatar | name> Help Options: -h, --help Show this help message Available commands: avatar Set avatar name Set display name sub \u00b6 Usage: textile [OPTIONS] sub [sub-OPTIONS] Subscribes to updates in a thread or all threads. An update is generated when a new block is added to a thread. There are several update types: - MERGE - IGNORE - FLAG - JOIN - ANNOUNCE - LEAVE - TEXT - FILES - COMMENT - LIKE Use the --thread option to subscribe to events emmitted from a specific thread. The --type option can be used multiple times, e.g., --type files --type comment. Help Options: -h, --help Show this help message [sub command options] -t, --thread= Thread ID. Omit for all. -k, --type= An update type to filter for. Omit for all. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) summary \u00b6 Usage: textile [OPTIONS] summary [summary-OPTIONS] Get a summary of the local node's data. Help Options: -h, --help Show this help message [summary command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) threads \u00b6 Usage: textile [OPTIONS] threads <command> Threads are distributed sets of encrypted files, often shared between peers, governed by schemas. Use this command to add, list, get, and remove threads. See below for additional commands. Control over thread access and sharing is handled by a combination of the --type and --sharing flags. An immutable member address \"whitelist\" gives the initiator fine-grained control. The table below outlines access patterns for the thread initiator and the whitelist members. An empty whitelist is taken to be \"everyone\", which is the default. Thread type controls read (R), annotate (A), and write (W) access: private --> initiator: RAW, whitelist: read_only --> initiator: RAW, whitelist: R public --> initiator: RAW, whitelist: RA open --> initiator: RAW, whitelist: RAW Thread sharing style controls if (Y/N) a thread can be shared: not_shared --> initiator: N, whitelist: N invite_only --> initiator: Y, whitelist: N shared --> initiator: Y, whitelist: Y Help Options: -h, --help Show this help message Available commands: add Add a new thread default Get default thread get Get a thread ls List threads peers List thread peers rename Rename thread rm Remove a thread snapshots Manage thread snapshots add \u00b6 Usage: textile [OPTIONS] threads add Adds and joins a new thread. See 'textile threads --help' for more about threads. Help Options: -h, --help Show this help message [add command options] -k, --key= A locally unique key used by an app to identify this thread on recovery. -t, --type= Set the thread type to one of 'private', 'read_only', 'public', or 'open'. (default: private) -s, --sharing= Set the thread sharing style to one of 'not_shared', 'invite_only', or 'shared'. (default: not_shared) -w, --whitelist= A contact address. When supplied, the thread will not allow additional peers, useful for 1-1 chat/file sharing. Can be used multiple times to include multiple contacts.' --schema= Thread schema ID. Supersedes schema filename. --schema-file= Thread schema filename. Supersedes the built-in schema flags. --blob Use the built-in blob schema for generic data. --camera-roll Use the built-in camera roll schema. --media Use the built-in media schema. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] threads ls Lists info on all threads. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) get \u00b6 Usage: textile [OPTIONS] threads get Gets and displays info about a thread. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) default \u00b6 Usage: textile [OPTIONS] threads default Gets and displays info about the default thread (if selected). Help Options: -h, --help Show this help message [default command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) peers \u00b6 Usage: textile [OPTIONS] threads peers Lists all peers in a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [peers command options] -t, --thread= Thread ID. Omit for default. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) rename \u00b6 Usage: textile [OPTIONS] threads rename Renames a thread. Only the initiator can rename a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [rename command options] -t, --thread= Thread ID. Omit for default. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) rm \u00b6 Usage: textile [OPTIONS] threads rm Leaves and removes a thread. Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) snapshots \u00b6 Usage: textile [OPTIONS] threads snapshots Use this command to create, search, and apply thread snapshots. <apply | create | search> Help Options: -h, --help Show this help message Available commands: apply Apply a single thread snapshot create Create thread snapshots search Search for thread snapshots tokens \u00b6 Usage: textile [OPTIONS] tokens <command> Tokens allow other peers to register with a Cafe peer. Use this command to create, list, validate, and remove tokens required for access to this peer's Cafe. Help Options: -h, --help Show this help message Available commands: create Create a new access token ls List available access tokens rm Remove a specific access token validate Check if access token is valid create \u00b6 Usage: textile [OPTIONS] tokens create Generates an access token (44 random bytes) and saves a bcrypt hashed version for future lookup. The response contains a base58 encoded version of the random bytes token. If '--no-store' is used, the token is generated, but not stored in the local Cafe db. Alternatively, an existing token can be added using the '--token' flag. Help Options: -h, --help Show this help message [create command options] -n, --no-store Generate token only, do not store in local db. -t, --token= Use existing token, rather than creating a new one. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) ls \u00b6 Usage: textile [OPTIONS] tokens ls List info about all stored cafe tokens. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) validate \u00b6 Usage: textile [OPTIONS] tokens validate Check validity of existing cafe access token. Help Options: -h, --help Show this help message [validate command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) rm \u00b6 Usage: textile [OPTIONS] tokens rm Removes an existing cafe token. Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0) version \u00b6 Usage: textile [OPTIONS] version [version-OPTIONS] Print the current version and exit. Help Options: -h, --help Show this help message [version command options] -g, --git Show full git version summary. wallet \u00b6 Usage: textile [OPTIONS] wallet <accounts | init> Initialize a new wallet, or view accounts from an existing wallet. Help Options: -h, --help Show this help message Available commands: accounts Show derived accounts init Initialize a new wallet init \u00b6 Usage: textile [OPTIONS] wallet init Initializes a new account wallet backed by a mnemonic recovery phrase. Help Options: -h, --help Show this help message [init command options] -w, --word-count= Number of mnemonic recovery phrase words: 12,15,18,21,24. (default: 12) -p, --password= Mnemonic recovery phrase password (omit if none). accounts \u00b6 Usage: textile [OPTIONS] wallet accounts Shows the derived accounts (address/seed pairs) in a wallet. Help Options: -h, --help Show this help message [accounts command options] -p, --password= Mnemonic recovery phrase password (omit if none). -d, --depth= Number of accounts to show. (default: 1) -o, --offset= Account depth to start from. (default: 0)","title":"Command-line"},{"location":"clients/command-line/#textile","text":"Usage: textile [OPTIONS] <command> Help Options: -h, --help Show this help message Available commands: account Manage a wallet account blocks View thread blocks cafes Manage cafes chat Start a thread chat commands List available commands comments Manage thread comments config Get and set config values contacts Manage contacts daemon Start the daemon docs Print docs feed Paginate thread content as a consumable feed files Manage thread files init Init the node repo and exit invites Manage thread invites ipfs Access IPFS commands likes Manage thread likes logs List and control subsystem logs messages Manage thread messages migrate Migrate the node repo and exit notifications Manage notifications ping Ping another peer profile Manage public profile sub Subscribe to thread updates summary Get a summary of local data threads Manage threads tokens Manage Cafe access tokens version Print version and exit wallet Manage or create an account wallet","title":"textile"},{"location":"clients/command-line/#account","text":"Usage: textile [OPTIONS] account <command> Use this command to manage a wallet account. Help Options: -h, --help Show this help message Available commands: address Show wallet account address get Show account contact seed Show wallet account seed sync Sync account with all network snapshots","title":"account"},{"location":"clients/command-line/#get","text":"Usage: textile [OPTIONS] account get Shows the local peer's account info as a contact. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#seed","text":"Usage: textile [OPTIONS] account seed Shows the local peer's account seed. Help Options: -h, --help Show this help message [seed command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"seed"},{"location":"clients/command-line/#address","text":"Usage: textile [OPTIONS] account address Shows the local peer's account address. Help Options: -h, --help Show this help message [address command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"address"},{"location":"clients/command-line/#sync","text":"Usage: textile [OPTIONS] account sync Syncs the local account peer with other peers found on the network. Help Options: -h, --help Show this help message [sync command options] --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"sync"},{"location":"clients/command-line/#blocks","text":"Usage: textile [OPTIONS] blocks <get | ls> Blocks are the raw components in a thread. Think of them as an append-only log of thread updates where each update is hash-linked to its parent(s). New / recovering peers can sync history by simply traversing the hash tree. There are several block types: - MERGE: 3-way merge added. - IGNORE: A block was ignored. - FLAG: A block was flagged. - JOIN: Peer joined. - ANNOUNCE: Peer set username / avatar / inbox addresses - LEAVE: Peer left. - TEXT: Text message added. - FILES: File(s) added. - COMMENT: Comment added to another block. - LIKE: Like added to another block. Use this command to list and get blocks in a thread. Help Options: -h, --help Show this help message Available commands: get Get a thread block ls Paginate thread blocks","title":"blocks"},{"location":"clients/command-line/#ls","text":"Usage: textile [OPTIONS] blocks ls Paginates blocks in a thread. Use the --dots option to return GraphViz dots instead of JSON. Help Options: -h, --help Show this help message [ls command options] -t, --thread= Thread ID. Omit for default. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 5) -d, --dots Return GraphViz dots instead of JSON. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_1","text":"Usage: textile [OPTIONS] blocks get Gets a thread block by ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#cafes","text":"Usage: textile [OPTIONS] cafes <command> Cafes are other peers on the network who offer pinning, backup, and inbox services. Use this command to add, list, get, and remove cafes and check messages. Help Options: -h, --help Show this help message Available commands: add Register with a cafe get Get a cafe ls List cafes messages Checks cafe messages rm Remove a cafe","title":"cafes"},{"location":"clients/command-line/#add","text":"Usage: textile [OPTIONS] cafes add Registers with a cafe and saves an expiring service session token. An access token is required to register, and should be obtained separately from the target Cafe. Help Options: -h, --help Show this help message [add command options] -t, --token= An access token supplied by the Cafe. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_1","text":"Usage: textile [OPTIONS] cafes ls List info about all active cafe sessions. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_2","text":"Usage: textile [OPTIONS] cafes get Gets and displays info about a cafe session. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#rm","text":"Usage: textile [OPTIONS] cafes rm Deregisters a cafe (content will expire based on the cafe's service rules). Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"rm"},{"location":"clients/command-line/#messages","text":"Usage: textile [OPTIONS] cafes messages Check for messages at all cafes. New messages are downloaded and processed opportunistically. Help Options: -h, --help Show this help message [messages command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"messages"},{"location":"clients/command-line/#chat","text":"Usage: textile [OPTIONS] chat [chat-OPTIONS] Starts an interactive chat session in a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [chat command options] -t, --thread= Thread ID. Omit for all. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"chat"},{"location":"clients/command-line/#commands","text":"Usage: textile [OPTIONS] commands List all available textile commands. Help Options: -h, --help Show this help message","title":"commands"},{"location":"clients/command-line/#comments","text":"Usage: textile [OPTIONS] comments <command> Comments are added as blocks in a thread, which target another block, usually a file(s). Use this command to add, list, get, and ignore comments. Help Options: -h, --help Show this help message Available commands: add Add a thread comment get Get a thread comment ignore Ignore a thread comment ls List thread comments","title":"comments"},{"location":"clients/command-line/#add_1","text":"Usage: textile [OPTIONS] comments add Adds a comment to a thread block. Help Options: -h, --help Show this help message [add command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_2","text":"Usage: textile [OPTIONS] comments ls Lists comments on a thread block. Help Options: -h, --help Show this help message [ls command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_3","text":"Usage: textile [OPTIONS] comments get Gets a thread comment by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#ignore","text":"Usage: textile [OPTIONS] comments ignore Ignores a thread comment by its block ID. This adds an \"ignore\" thread block targeted at the comment. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ignore"},{"location":"clients/command-line/#config","text":"Usage: textile [OPTIONS] config [config-OPTIONS] The config command controls configuration variables. It works much like 'git config'. The configuration values are stored in a config file inside your Textile repository. Getting config values will report the currently active config settings. This may differ from the values specified when setting values. When changing values, valid JSON types must be used. For example, a string should be escaped or wrapped in single quotes (e.g., \\\"127.0.0.1:40600\\\") and arrays and objects work fine (e.g. '{\"API\": \"127.0.0.1:40600\"}') but should be wrapped in single quotes. Be sure to restart the daemon for changes to take effect. Examples: Get the value of the 'Addresses.API' key: $ textile config Addresses.API $ textile config Addresses/API # Alternative syntax Print the entire Textile config file to console: $ textile config Set the value of the 'Addresses.API' key: $ textile config Addresses.API \\\"127.0.0.1:40600\\\" Help Options: -h, --help Show this help message [config command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"config"},{"location":"clients/command-line/#contacts","text":"Usage: textile [OPTIONS] contacts <command> Use this command to add, list, get, and remove local contacts and find other contacts on the network. Help Options: -h, --help Show this help message Available commands: add Add a contact get Get a known contact ls List known contacts rm Remove a known contact search Find contacts","title":"contacts"},{"location":"clients/command-line/#add_2","text":"Usage: textile [OPTIONS] contacts add Adds a contact by display name or account address to known contacts. Help Options: -h, --help Show this help message [add command options] -n, --name= Add by display name. -a, --address= Add by account address. --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_3","text":"Usage: textile [OPTIONS] contacts ls Lists known contacts. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_4","text":"Usage: textile [OPTIONS] contacts get Gets a known contact. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#rm_1","text":"Usage: textile [OPTIONS] contacts rm Removes a known contact. Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"rm"},{"location":"clients/command-line/#search","text":"Usage: textile [OPTIONS] contacts search Searches locally and on the network for contacts. Help Options: -h, --help Show this help message [search command options] -n, --name= Search by display name. -a, --address= Search by account address. --only-local Only search local contacts. --only-remote Only search remote contacts. --limit= Stops searching after limit results are found. (default: 5) --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"search"},{"location":"clients/command-line/#daemon","text":"Usage: textile [OPTIONS] daemon [daemon-OPTIONS] Start a node daemon session. Help Options: -h, --help Show this help message [daemon command options] -p, --pin-code= Specify the pin code for datastore encryption (omit of none was used during init). -r, --repo-dir= Specify a custom repository path. -d, --debug Set the logging level to debug. -s, --serve-docs Whether to serve the local REST API docs.","title":"daemon"},{"location":"clients/command-line/#docs","text":"Usage: textile [OPTIONS] docs Prints markdown docs for the command-line client. Help Options: -h, --help Show this help message","title":"docs"},{"location":"clients/command-line/#feed","text":"Usage: textile [OPTIONS] feed [feed-OPTIONS] Paginates post (join|leave|files|message) and annotation (comment|like) block types as a consumable feed. The --mode option dictates how the feed is displayed: - \"chrono\": All feed block types are shown. Annotations always nest their target post, i.e., the post a comment is about. - \"annotated\": Annotations are nested under post targets, but are not shown in the top-level feed. - \"stacks\": Related blocks are chronologically grouped into \"stacks\". A new stack is started if an unrelated block breaks continuity. This mode is used by Textile Photos. Stacks may include: * The initial post with some nested annotations. Newer annotations may have already been listed. * One or more annotations about a post. The newest annotation assumes the \"top\" position in the stack. Additional annotations are nested under the target. Newer annotations may have already been listed in the case as well. Omit the --thread option to paginate all files. Specify \"default\" to use the default thread (if selected). Help Options: -h, --help Show this help message [feed command options] -t, --thread= Thread ID. Omit for all. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 5) -m, --mode= Feed mode. One of: chrono, annotated, stacks. (default: chrono) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"feed"},{"location":"clients/command-line/#files","text":"Usage: textile [OPTIONS] files <command> Files are added as blocks in a thread. Use this command to add, list, get, and ignore files. The 'key' command provides access to file encryption keys. Help Options: -h, --help Show this help message Available commands: add Add file(s) to a thread get Get a thread file by ID ignore Ignore thread files keys Show file keys ls Paginate thread files","title":"files"},{"location":"clients/command-line/#add_3","text":"Usage: textile [OPTIONS] files add Adds a file or directory of files to a thread. Files not supported by the thread schema are ignored. Nested directories are included. An existing file hash may also be used as input. Use the --group option to add directory files as a single object. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [add command options] -t, --thread= Thread ID. Omit for default. -c, --caption= File(s) caption. -g, --group Group directory files. -v, --verbose Prints files as they are milled. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_4","text":"Usage: textile [OPTIONS] files ls Paginates thread files. Omit the --thread option to paginate all files. Specify \"default\" to use the default thread (if selected). Help Options: -h, --help Show this help message [ls command options] -t, --thread= Thread ID. Omit for all. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 5) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_5","text":"Usage: textile [OPTIONS] files get Gets a thread file by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#ignore_1","text":"Usage: textile [OPTIONS] files ignore Ignores a thread file by its block ID. This adds an \"ignore\" thread block targeted at the file. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ignore"},{"location":"clients/command-line/#keys","text":"Usage: textile [OPTIONS] files keys Shows file keys under the given target from an add. Help Options: -h, --help Show this help message [keys command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"keys"},{"location":"clients/command-line/#init","text":"Usage: textile [OPTIONS] init [init-OPTIONS] Initialize the node repository and exit. Help Options: -h, --help Show this help message [init command options] -s, --seed= Account seed (run 'wallet' command to generate new seeds). -p, --pin-code= Specify a pin code for datastore encryption. -r, --repo-dir= Specify a custom repository path. Address Options: -a, --api-bind-addr= Set the local API address. (default: 127.0.0.1:40600) -c, --cafe-bind-addr= Set the cafe REST API address. (default: 127.0.0.1:40601) -g, --gateway-bind-addr= Set the IPFS gateway address. (default: 127.0.0.1:5050) Cafe Options: --cafe-open Open the p2p Cafe Service for other peers. --cafe-public-ip= Required with --cafe-open on a server with a public IP address. --cafe-url= Specify the URL of this cafe, e.g., https://mycafe.com --cafe-neighbor-url= Specify the URL of a secondary cafe. Must return cafe info, e.g., via a Gateway: https://my-gateway.yolo.com/cafe, or a Cafe API: https://my-cafe.yolo.com IPFS Options: --server Apply IPFS server profile. --swarm-ports= Set the swarm ports (TCP,WS). Random ports are chosen by default. Log Options: -n, --no-log-files Write logs to stdout instead of rolling files. -d, --debug Set the logging level to debug.","title":"init"},{"location":"clients/command-line/#invites","text":"Usage: textile [OPTIONS] invites <command> Invites allow other users to join threads. There are two types of invites, direct account-to-account and external: - Account-to-account invites are encrypted with the invitee's account address (public key). - External invites are encrypted with a single-use key and are useful for onboarding new users. Help Options: -h, --help Show this help message Available commands: accept Accept an invite to a thread create Create account-to-account or external invites to a thread ignore Ignore direct invite to a thread ls List thread invites","title":"invites"},{"location":"clients/command-line/#create","text":"Usage: textile [OPTIONS] invites create Creates a direct account-to-account or external invite to a thread. Omit the --address option to create an external invite. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [create command options] -t, --thread= Thread ID. Omit for default. -a, --address= Account address. Omit to create an external invite. --wait= Stops searching after 'wait' seconds have elapsed (max 30s). (default: 2) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"create"},{"location":"clients/command-line/#ls_5","text":"Usage: textile [OPTIONS] invites ls Lists all pending thread invites. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#accept","text":"Usage: textile [OPTIONS] invites accept Accepts a direct account-to-account or external invite to a thread. Use the --key option with an external invite. Help Options: -h, --help Show this help message [accept command options] -k, --key= Key for an external invite. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"accept"},{"location":"clients/command-line/#ignore_2","text":"Usage: textile [OPTIONS] invites ignore Ignores a direct account-to-account invite to a thread. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ignore"},{"location":"clients/command-line/#ipfs","text":"Usage: textile [OPTIONS] ipfs <cat | id | swarm> Provides access to some IPFS commands. Help Options: -h, --help Show this help message Available commands: cat Show IPFS object data id Show IPFS peer ID swarm Access some IPFS swarm commands","title":"ipfs"},{"location":"clients/command-line/#id","text":"Usage: textile [OPTIONS] ipfs id Shows the local node's IPFS peer ID. Help Options: -h, --help Show this help message [id command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"id"},{"location":"clients/command-line/#swarm","text":"Usage: textile [OPTIONS] ipfs swarm Provides access to a limited set of IPFS swarm commands. <connect | peers> Help Options: -h, --help Show this help message Available commands: connect Open connection to a given address peers List peers with open connections","title":"swarm"},{"location":"clients/command-line/#cat","text":"Usage: textile [OPTIONS] ipfs cat Displays the data behind an IPFS CID (hash). Help Options: -h, --help Show this help message [cat command options] -k, --key= Encyrption key. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"cat"},{"location":"clients/command-line/#likes","text":"Usage: textile [OPTIONS] likes <command> Likes are added as blocks in a thread, which target another block, usually a file(s). Use this command to add, list, get, and ignore likes. Help Options: -h, --help Show this help message Available commands: add Add a thread like get Get a thread like ignore Ignore a thread like ls List thread likes","title":"likes"},{"location":"clients/command-line/#add_4","text":"Usage: textile [OPTIONS] likes add Adds a like to a thread block. Help Options: -h, --help Show this help message [add command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_6","text":"Usage: textile [OPTIONS] likes ls Lists likes on a thread block. Help Options: -h, --help Show this help message [ls command options] -b, --block= Thread block ID. Usually a file(s) block. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_6","text":"Usage: textile [OPTIONS] likes get Gets a thread like by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#ignore_3","text":"Usage: textile [OPTIONS] likes ignore Ignores a thread like by its block ID. This adds an \"ignore\" thread block targeted at the like. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ignore"},{"location":"clients/command-line/#logs","text":"Usage: textile [OPTIONS] logs [logs-OPTIONS] List or change the verbosity of one or all subsystems log output. Textile logs piggyback on the IPFS event logs. Help Options: -h, --help Show this help message [logs command options] -s, --subsystem= The subsystem logging identifier. Omit for all. -l, --level= One of: debug, info, warning, error, critical. Omit to get current level. -t, --tex-only Whether to list/change only Textile subsystems, or all available subsystems. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"logs"},{"location":"clients/command-line/#messages_1","text":"Usage: textile [OPTIONS] messages <command> Messages are added as blocks in a thread. Use this command to add, list, get, and ignore messages. Help Options: -h, --help Show this help message Available commands: add Add a thread message get Get a thread message ignore Ignore a thread message ls List thread messages","title":"messages"},{"location":"clients/command-line/#add_5","text":"Usage: textile [OPTIONS] messages add Adds a message to a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [add command options] -t, --thread= Thread ID. Omit for default. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_7","text":"Usage: textile [OPTIONS] messages ls Paginates thread messages. Omit the --thread option to paginate all messages. Specify \"default\" to use the default thread (if selected). Help Options: -h, --help Show this help message [ls command options] -t, --thread= Thread ID. Omit for all. -o, --offset= Offset ID to start listing from. -l, --limit= List page size. (default: 10) Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_7","text":"Usage: textile [OPTIONS] messages get Gets a thread message by block ID. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#ignore_4","text":"Usage: textile [OPTIONS] messages ignore Ignores a thread message by its block ID. This adds an \"ignore\" thread block targeted at the message. Ignored blocks are by default not returned when listing. Help Options: -h, --help Show this help message [ignore command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ignore"},{"location":"clients/command-line/#migrate","text":"Usage: textile [OPTIONS] migrate [migrate-OPTIONS] Migrate the node repository and exit. Help Options: -h, --help Show this help message [migrate command options] -r, --repo-dir= Specify a custom repository path. -p, --pin-code= Specify the pin code for datastore encryption (omit of none was used during init).","title":"migrate"},{"location":"clients/command-line/#notifications","text":"Usage: textile [OPTIONS] notifications <ls | read> Notifications are generated by thread and account activity. Use this command to list, get, and mark notifications as read. Help Options: -h, --help Show this help message Available commands: ls List notifications read Mark notification(s) as read","title":"notifications"},{"location":"clients/command-line/#ls_8","text":"Usage: textile [OPTIONS] notifications ls Lists notifications. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#read","text":"Usage: textile [OPTIONS] notifications read Marks a notifiction as read by ID. \"textile notifications read all\" marks all as read. Help Options: -h, --help Show this help message [read command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"read"},{"location":"clients/command-line/#ping","text":"Usage: textile [OPTIONS] ping [ping-OPTIONS] Pings another peer on the network, returning online|offline. Help Options: -h, --help Show this help message [ping command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ping"},{"location":"clients/command-line/#profile","text":"Usage: textile [OPTIONS] profile <get | set> Use this command to view and update the peer profile. A Textile account will show a profile for each of its peers, e.g., mobile, desktop, etc. Help Options: -h, --help Show this help message Available commands: get Get profile set Set profile name and avatar","title":"profile"},{"location":"clients/command-line/#get_8","text":"Usage: textile [OPTIONS] profile get Gets the local peer profile. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#set","text":"Usage: textile [OPTIONS] profile set Sets the peer display name and avatar. <avatar | name> Help Options: -h, --help Show this help message Available commands: avatar Set avatar name Set display name","title":"set"},{"location":"clients/command-line/#sub","text":"Usage: textile [OPTIONS] sub [sub-OPTIONS] Subscribes to updates in a thread or all threads. An update is generated when a new block is added to a thread. There are several update types: - MERGE - IGNORE - FLAG - JOIN - ANNOUNCE - LEAVE - TEXT - FILES - COMMENT - LIKE Use the --thread option to subscribe to events emmitted from a specific thread. The --type option can be used multiple times, e.g., --type files --type comment. Help Options: -h, --help Show this help message [sub command options] -t, --thread= Thread ID. Omit for all. -k, --type= An update type to filter for. Omit for all. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"sub"},{"location":"clients/command-line/#summary","text":"Usage: textile [OPTIONS] summary [summary-OPTIONS] Get a summary of the local node's data. Help Options: -h, --help Show this help message [summary command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"summary"},{"location":"clients/command-line/#threads","text":"Usage: textile [OPTIONS] threads <command> Threads are distributed sets of encrypted files, often shared between peers, governed by schemas. Use this command to add, list, get, and remove threads. See below for additional commands. Control over thread access and sharing is handled by a combination of the --type and --sharing flags. An immutable member address \"whitelist\" gives the initiator fine-grained control. The table below outlines access patterns for the thread initiator and the whitelist members. An empty whitelist is taken to be \"everyone\", which is the default. Thread type controls read (R), annotate (A), and write (W) access: private --> initiator: RAW, whitelist: read_only --> initiator: RAW, whitelist: R public --> initiator: RAW, whitelist: RA open --> initiator: RAW, whitelist: RAW Thread sharing style controls if (Y/N) a thread can be shared: not_shared --> initiator: N, whitelist: N invite_only --> initiator: Y, whitelist: N shared --> initiator: Y, whitelist: Y Help Options: -h, --help Show this help message Available commands: add Add a new thread default Get default thread get Get a thread ls List threads peers List thread peers rename Rename thread rm Remove a thread snapshots Manage thread snapshots","title":"threads"},{"location":"clients/command-line/#add_6","text":"Usage: textile [OPTIONS] threads add Adds and joins a new thread. See 'textile threads --help' for more about threads. Help Options: -h, --help Show this help message [add command options] -k, --key= A locally unique key used by an app to identify this thread on recovery. -t, --type= Set the thread type to one of 'private', 'read_only', 'public', or 'open'. (default: private) -s, --sharing= Set the thread sharing style to one of 'not_shared', 'invite_only', or 'shared'. (default: not_shared) -w, --whitelist= A contact address. When supplied, the thread will not allow additional peers, useful for 1-1 chat/file sharing. Can be used multiple times to include multiple contacts.' --schema= Thread schema ID. Supersedes schema filename. --schema-file= Thread schema filename. Supersedes the built-in schema flags. --blob Use the built-in blob schema for generic data. --camera-roll Use the built-in camera roll schema. --media Use the built-in media schema. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"add"},{"location":"clients/command-line/#ls_9","text":"Usage: textile [OPTIONS] threads ls Lists info on all threads. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#get_9","text":"Usage: textile [OPTIONS] threads get Gets and displays info about a thread. Help Options: -h, --help Show this help message [get command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"get"},{"location":"clients/command-line/#default","text":"Usage: textile [OPTIONS] threads default Gets and displays info about the default thread (if selected). Help Options: -h, --help Show this help message [default command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"default"},{"location":"clients/command-line/#peers","text":"Usage: textile [OPTIONS] threads peers Lists all peers in a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [peers command options] -t, --thread= Thread ID. Omit for default. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"peers"},{"location":"clients/command-line/#rename","text":"Usage: textile [OPTIONS] threads rename Renames a thread. Only the initiator can rename a thread. Omit the --thread option to use the default thread (if selected). Help Options: -h, --help Show this help message [rename command options] -t, --thread= Thread ID. Omit for default. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"rename"},{"location":"clients/command-line/#rm_2","text":"Usage: textile [OPTIONS] threads rm Leaves and removes a thread. Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"rm"},{"location":"clients/command-line/#snapshots","text":"Usage: textile [OPTIONS] threads snapshots Use this command to create, search, and apply thread snapshots. <apply | create | search> Help Options: -h, --help Show this help message Available commands: apply Apply a single thread snapshot create Create thread snapshots search Search for thread snapshots","title":"snapshots"},{"location":"clients/command-line/#tokens","text":"Usage: textile [OPTIONS] tokens <command> Tokens allow other peers to register with a Cafe peer. Use this command to create, list, validate, and remove tokens required for access to this peer's Cafe. Help Options: -h, --help Show this help message Available commands: create Create a new access token ls List available access tokens rm Remove a specific access token validate Check if access token is valid","title":"tokens"},{"location":"clients/command-line/#create_1","text":"Usage: textile [OPTIONS] tokens create Generates an access token (44 random bytes) and saves a bcrypt hashed version for future lookup. The response contains a base58 encoded version of the random bytes token. If '--no-store' is used, the token is generated, but not stored in the local Cafe db. Alternatively, an existing token can be added using the '--token' flag. Help Options: -h, --help Show this help message [create command options] -n, --no-store Generate token only, do not store in local db. -t, --token= Use existing token, rather than creating a new one. Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"create"},{"location":"clients/command-line/#ls_10","text":"Usage: textile [OPTIONS] tokens ls List info about all stored cafe tokens. Help Options: -h, --help Show this help message [ls command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"ls"},{"location":"clients/command-line/#validate","text":"Usage: textile [OPTIONS] tokens validate Check validity of existing cafe access token. Help Options: -h, --help Show this help message [validate command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"validate"},{"location":"clients/command-line/#rm_3","text":"Usage: textile [OPTIONS] tokens rm Removes an existing cafe token. Help Options: -h, --help Show this help message [rm command options] Client Options: --api= API address to use (default: http://127.0.0.1:40600) --api-version= API version to use (default: v0)","title":"rm"},{"location":"clients/command-line/#version","text":"Usage: textile [OPTIONS] version [version-OPTIONS] Print the current version and exit. Help Options: -h, --help Show this help message [version command options] -g, --git Show full git version summary.","title":"version"},{"location":"clients/command-line/#wallet","text":"Usage: textile [OPTIONS] wallet <accounts | init> Initialize a new wallet, or view accounts from an existing wallet. Help Options: -h, --help Show this help message Available commands: accounts Show derived accounts init Initialize a new wallet","title":"wallet"},{"location":"clients/command-line/#init_1","text":"Usage: textile [OPTIONS] wallet init Initializes a new account wallet backed by a mnemonic recovery phrase. Help Options: -h, --help Show this help message [init command options] -w, --word-count= Number of mnemonic recovery phrase words: 12,15,18,21,24. (default: 12) -p, --password= Mnemonic recovery phrase password (omit if none).","title":"init"},{"location":"clients/command-line/#accounts","text":"Usage: textile [OPTIONS] wallet accounts Shows the derived accounts (address/seed pairs) in a wallet. Help Options: -h, --help Show this help message [accounts command options] -p, --password= Mnemonic recovery phrase password (omit if none). -d, --depth= Number of accounts to show. (default: 1) -o, --offset= Account depth to start from. (default: 0)","title":"accounts"},{"location":"clients/ios/","text":"Documentation for Textile's iOS SDK (ios-textile) can be found at https://github.com/textileio/ios-textile . CocoaPods pod: https://cocoapods.org/pods/Textile","title":"iOS"},{"location":"clients/js-http/","text":"The JS HTTP Client was designed to work in the browser, using Node.js, or in Electron. To use the JS HTTP Client, you'll need either a locally running Daemon or a locally running Desktop Tray instance containing a Textile account and available on localhost with default ports for both the API and Gateway . Installation \u00b6 The JS HTTP Client is published as an NPM Package . You are free to use the source code directly or use a package manager to install the official release. NPM \u00b6 npm install @ textile / js - http - client Yarn \u00b6 yarn add @ textile / js - http - client TypeScript \u00b6 We strongly recommend using TypeScript if you plan to use the JS Client in your project. The JS Client's endpoints are all typed and those types are available to projects that support them. Because Textile libraries are rapidly developing, this will make your upgrade process much easier and faster. If you don't normally use TypeScript in your projects, never fear, it will be very familiar and only takes a few steps to setup. Tip We recommend TypeScript in 5 minutes as a good place to start if you are totally new to TypeScript. Getting Started \u00b6 Initialize the JS Client \u00b6 The JS HTTP Client does not maintain any state for your app, it simply provides easy to use APIs so your app can interact with your user's Textile account. You import the library in any library simply. // No initialization needed, only import import textile from \"@textile/js-http-client\" Below are some basic examples to get you started. If you are interested in a more thorough walk-through, check out the Tour of Textile's examples using the JS HTTP Client. Get the account display name \u00b6 const name = await textile . profile . name () Subscribe to file updates \u00b6 // The js-http-client returns a `ReadableStream` to be accessed by the caller // See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details const stream = await textile . subscribe . stream ( \"files\" ) const reader = stream . getReader () const read = ( result ) => { // ReadableStreamReadResult<FeedItem> if ( result . done ) { return } try { console . log ( result . value ) } catch ( err ) { reader . cancel ( undefined ) return } read ( await reader . read ()) } read ( await reader . read ()) Create a thread \u00b6 const thread = await textile . threads . add ( \"Basic\" ) Add a file \u00b6 const block = await textile . files . add ( \"mmm, bytes...\" , \"\" , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) API Documentation \u00b6 You can read the full API documentation for Textile's JavaScript HTTP Client (js-http-client) can be found at https://textileio.github.io/js-http-client . Feel free to join the Textile Developer Slack and let us know what you are building. People are always excited to share and learn about new ideas.","title":"JavaScript HTTP"},{"location":"clients/js-http/#installation","text":"The JS HTTP Client is published as an NPM Package . You are free to use the source code directly or use a package manager to install the official release.","title":"Installation"},{"location":"clients/js-http/#npm","text":"npm install @ textile / js - http - client","title":"NPM"},{"location":"clients/js-http/#yarn","text":"yarn add @ textile / js - http - client","title":"Yarn"},{"location":"clients/js-http/#typescript","text":"We strongly recommend using TypeScript if you plan to use the JS Client in your project. The JS Client's endpoints are all typed and those types are available to projects that support them. Because Textile libraries are rapidly developing, this will make your upgrade process much easier and faster. If you don't normally use TypeScript in your projects, never fear, it will be very familiar and only takes a few steps to setup. Tip We recommend TypeScript in 5 minutes as a good place to start if you are totally new to TypeScript.","title":"TypeScript"},{"location":"clients/js-http/#getting-started","text":"","title":"Getting Started"},{"location":"clients/js-http/#initialize-the-js-client","text":"The JS HTTP Client does not maintain any state for your app, it simply provides easy to use APIs so your app can interact with your user's Textile account. You import the library in any library simply. // No initialization needed, only import import textile from \"@textile/js-http-client\" Below are some basic examples to get you started. If you are interested in a more thorough walk-through, check out the Tour of Textile's examples using the JS HTTP Client.","title":"Initialize the JS Client"},{"location":"clients/js-http/#get-the-account-display-name","text":"const name = await textile . profile . name ()","title":"Get the account display name"},{"location":"clients/js-http/#subscribe-to-file-updates","text":"// The js-http-client returns a `ReadableStream` to be accessed by the caller // See https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream for details const stream = await textile . subscribe . stream ( \"files\" ) const reader = stream . getReader () const read = ( result ) => { // ReadableStreamReadResult<FeedItem> if ( result . done ) { return } try { console . log ( result . value ) } catch ( err ) { reader . cancel ( undefined ) return } read ( await reader . read ()) } read ( await reader . read ())","title":"Subscribe to file updates"},{"location":"clients/js-http/#create-a-thread","text":"const thread = await textile . threads . add ( \"Basic\" )","title":"Create a thread"},{"location":"clients/js-http/#add-a-file","text":"const block = await textile . files . add ( \"mmm, bytes...\" , \"\" , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" )","title":"Add a file"},{"location":"clients/js-http/#api-documentation","text":"You can read the full API documentation for Textile's JavaScript HTTP Client (js-http-client) can be found at https://textileio.github.io/js-http-client . Feel free to join the Textile Developer Slack and let us know what you are building. People are always excited to share and learn about new ideas.","title":"API Documentation"},{"location":"clients/react-native/","text":"Textile's React Native SDK is designed to work on iOS and Android devices in app's built with React Native . Installation \u00b6 The React Native SDK is published as an NPM Package . You are free to use the source code directly or use a package manager to install the official release. NPM \u00b6 npm install @ textile / react - native - sdk Yarn \u00b6 yarn add @ textile / react - native - sdk Android Setup \u00b6 Including maven repo \u00b6 You'll need to include a new entry into your repositories found in android/build.gradle . The repository entry you need to include is (specifically the new maven entry): allprojects { repositories { ... maven { url \"https://dl.bintray.com/textile/maven\" } ... } } Next, you'll need to add the SDK to your android/settings.gradle and android/app/build.gradle . Add React Native SDk to build.gradle \u00b6 Inside of android/app/build.gradle add the following entry into the dependencies object, dependencies { ... implementation project ( ' : @textile_react - native - sdk ' ) ... } Add React Native SDK to settings.gradle \u00b6 Inside of android/settings.gradle include the SDK module, ... include ' : @textile_react - native - sdk ' project ( ' : @textile_react - native - sdk ' ). projectDir = new File ( rootProject . projectDir , ' ../ node_modules / @textile / react - native - sdk / android ' ) ... } iOS Setup \u00b6 The iOS half of the React Native SDK will rely on Cocoapods to manage the library in your code. For now, we use Cocoapods to help keep the dependency management clear in client apps, in the future we will work to make it easy to link without Cocoapods. Tip If your app isn't already setup for Cocoapods, we recommend this nice overview of using Cocoapods in React Native projects, Demystifying react-native modules linking . Edit your podfile by opening up ios/Podfile and adding the following line, target '<your-app-name>' do ... pod 'textile-react-native-sdk' , :path = > '../node_modules/@textile/react-native-sdk' ... end Save the file and run install. cd ios/ pod install TypeScript \u00b6 We strongly recommend using TypeScript if you plan to use the React Native SDK in your project. The React Native SDK's endpoints are all typed and those types are available to projects that support them. Because Textile libraries are rapidly developing, this will make your upgrade process much easier and faster. If you don't normally use TypeScript in your projects, never fear, it will be very familiar and only takes a few steps to setup. Tip We recommend TypeScript in 5 minutes as a good place to start if you are totally new to TypeScript. Getting Started \u00b6 Initializing the Textile Wallet \u00b6 To start using the mobile Textile peer your app needs to initialize the local wallet. A wallet can be generated from scratch or you can allow the user to pair your app with their existing Textile account. We recommend that you only support pairing, but we'll show you both methods so you can experiment with the right setup on your own. Creating wallet from scratch \u00b6 Warning Mobile apps that use the React Native SDK (or one of our native libraries) run on-device Textile peers for their users. On-device peers require that the users pair the app with their primary account (see the Tour of Textile ). We recomment encouraging your users to pair with an external account during onboarding, as migrating their primary wallet out of an app later will be challenging (and is not supported yet!). // This is the user's new Textile wallet seed. They must keep it secure and never share it. Your production app should not keep a copy long term and should never share it with any API. const seed = await textile . initialize ( false , false ) alert ( `WARNING - Never lose or share your seed: ${ seed } ` ) Initialize with a paired account \u00b6 @ todo Once a local account is paired, you don't need to pass the pairing key on every startup. Because the account data is now local, you can simply re-initialize. @ todo Below are some basic examples to get you started. If you are interested in a more thorough walk-through, check out the Tour of Textile's examples using the React Native SDK. Get the account display name \u00b6 const profile = await textile . profile . get () const name = profile . name Subscribe to file updates \u00b6 textile . events . addThreadUpdateReceivedListener (( update ) => { const { type_url } = update . payload if ( type_url === '/Files' ) { // new file! } }) Create a thread \u00b6 const threadKey = 'your.bundle.id.version.Basic' const threadName = 'Basic' const schema = { id : '' , json : '' , preset : AddThreadConfig . Schema . Preset . BLOB } const config = { key : threadKey , name : threadName , type : Thread . Type . PRIVATE , sharing : Thread . Sharing . NOT_SHARED , schema : schema , force : false , members : [] } const newTarget = await textile . threads . add ( config ) Add a file \u00b6 const input = Buffer . from ( \"mmm, bytes...\" ). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) const block = await textile . files . add ( result . dir , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) API Documentation \u00b6 You can read the full API Documentation for Textile's React Native SDK (react-native-sdk) at https://textileio.github.io/react-native-sdk . Feel free to join the Textile Developer Slack and let us know what you are building. People are always excited to share and learn about new ideas.","title":"React Native"},{"location":"clients/react-native/#installation","text":"The React Native SDK is published as an NPM Package . You are free to use the source code directly or use a package manager to install the official release.","title":"Installation"},{"location":"clients/react-native/#npm","text":"npm install @ textile / react - native - sdk","title":"NPM"},{"location":"clients/react-native/#yarn","text":"yarn add @ textile / react - native - sdk","title":"Yarn"},{"location":"clients/react-native/#android-setup","text":"","title":"Android Setup"},{"location":"clients/react-native/#including-maven-repo","text":"You'll need to include a new entry into your repositories found in android/build.gradle . The repository entry you need to include is (specifically the new maven entry): allprojects { repositories { ... maven { url \"https://dl.bintray.com/textile/maven\" } ... } } Next, you'll need to add the SDK to your android/settings.gradle and android/app/build.gradle .","title":"Including maven repo"},{"location":"clients/react-native/#add-react-native-sdk-to-buildgradle","text":"Inside of android/app/build.gradle add the following entry into the dependencies object, dependencies { ... implementation project ( ' : @textile_react - native - sdk ' ) ... }","title":"Add React Native SDk to build.gradle"},{"location":"clients/react-native/#add-react-native-sdk-to-settingsgradle","text":"Inside of android/settings.gradle include the SDK module, ... include ' : @textile_react - native - sdk ' project ( ' : @textile_react - native - sdk ' ). projectDir = new File ( rootProject . projectDir , ' ../ node_modules / @textile / react - native - sdk / android ' ) ... }","title":"Add React Native SDK to settings.gradle"},{"location":"clients/react-native/#ios-setup","text":"The iOS half of the React Native SDK will rely on Cocoapods to manage the library in your code. For now, we use Cocoapods to help keep the dependency management clear in client apps, in the future we will work to make it easy to link without Cocoapods. Tip If your app isn't already setup for Cocoapods, we recommend this nice overview of using Cocoapods in React Native projects, Demystifying react-native modules linking . Edit your podfile by opening up ios/Podfile and adding the following line, target '<your-app-name>' do ... pod 'textile-react-native-sdk' , :path = > '../node_modules/@textile/react-native-sdk' ... end Save the file and run install. cd ios/ pod install","title":"iOS Setup"},{"location":"clients/react-native/#typescript","text":"We strongly recommend using TypeScript if you plan to use the React Native SDK in your project. The React Native SDK's endpoints are all typed and those types are available to projects that support them. Because Textile libraries are rapidly developing, this will make your upgrade process much easier and faster. If you don't normally use TypeScript in your projects, never fear, it will be very familiar and only takes a few steps to setup. Tip We recommend TypeScript in 5 minutes as a good place to start if you are totally new to TypeScript.","title":"TypeScript"},{"location":"clients/react-native/#getting-started","text":"","title":"Getting Started"},{"location":"clients/react-native/#initializing-the-textile-wallet","text":"To start using the mobile Textile peer your app needs to initialize the local wallet. A wallet can be generated from scratch or you can allow the user to pair your app with their existing Textile account. We recommend that you only support pairing, but we'll show you both methods so you can experiment with the right setup on your own.","title":"Initializing the Textile Wallet"},{"location":"clients/react-native/#creating-wallet-from-scratch","text":"Warning Mobile apps that use the React Native SDK (or one of our native libraries) run on-device Textile peers for their users. On-device peers require that the users pair the app with their primary account (see the Tour of Textile ). We recomment encouraging your users to pair with an external account during onboarding, as migrating their primary wallet out of an app later will be challenging (and is not supported yet!). // This is the user's new Textile wallet seed. They must keep it secure and never share it. Your production app should not keep a copy long term and should never share it with any API. const seed = await textile . initialize ( false , false ) alert ( `WARNING - Never lose or share your seed: ${ seed } ` )","title":"Creating wallet from scratch"},{"location":"clients/react-native/#initialize-with-a-paired-account","text":"@ todo Once a local account is paired, you don't need to pass the pairing key on every startup. Because the account data is now local, you can simply re-initialize. @ todo Below are some basic examples to get you started. If you are interested in a more thorough walk-through, check out the Tour of Textile's examples using the React Native SDK.","title":"Initialize with a paired account"},{"location":"clients/react-native/#get-the-account-display-name","text":"const profile = await textile . profile . get () const name = profile . name","title":"Get the account display name"},{"location":"clients/react-native/#subscribe-to-file-updates","text":"textile . events . addThreadUpdateReceivedListener (( update ) => { const { type_url } = update . payload if ( type_url === '/Files' ) { // new file! } })","title":"Subscribe to file updates"},{"location":"clients/react-native/#create-a-thread","text":"const threadKey = 'your.bundle.id.version.Basic' const threadName = 'Basic' const schema = { id : '' , json : '' , preset : AddThreadConfig . Schema . Preset . BLOB } const config = { key : threadKey , name : threadName , type : Thread . Type . PRIVATE , sharing : Thread . Sharing . NOT_SHARED , schema : schema , force : false , members : [] } const newTarget = await textile . threads . add ( config )","title":"Create a thread"},{"location":"clients/react-native/#add-a-file","text":"const input = Buffer . from ( \"mmm, bytes...\" ). toString ( 'base64' ) const result = await textile . files . prepare ( input , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" ) const block = await textile . files . add ( result . dir , \"12D3KooWSYT6SUL9fx15pwjHSVUsuymnbixmRtPGySmFYtWE51Sc\" )","title":"Add a file"},{"location":"clients/react-native/#api-documentation","text":"You can read the full API Documentation for Textile's React Native SDK (react-native-sdk) at https://textileio.github.io/react-native-sdk . Feel free to join the Textile Developer Slack and let us know what you are building. People are always excited to share and learn about new ideas.","title":"API Documentation"},{"location":"concepts/","text":"Textile is a set of tools and trust-less infrastructure for building censorship resistant and privacy preserving applications. While interoperable with the whole IPFS peer-to-peer network, Textile-flavored peers represent an additional layer or sub-network of users, applications, and services . With good encryption defaults and anonymous, disposable application services like cafes , Textile aims to bring the decentralized internet to real products that people love. The network How it works \u00b6 Textile peers use p2p messaging patterns to orchestrate shared datasets, or more specifically your chats, contacts, albums, and more. With iCloud or another major cloud provider, you expect these datasets to be synced across your iOS devices. Additionally, if you've shared a dataset like a playlist or photo album with other users, you would expect changes to be synced with their devices as well. You can expect the same with Textile, but without the centralized control of a single organization or government. A traditional cloud provider will store your datasets in one, maybe a few, central location(s). This means that you must trust the provider won't decide to drop your access, and in some cases, to not view or expose the contents of your datasets. In Textile, these types of datasets are called threads . At the core of every thread is a secret. Only peers that possess the secret are able to decrypt thread content or follow linkages. Hint Unlike a blockchain, threads are not based around the idea of consensus. Instead, they follow an agent-centric approach similar to holochain . Each peer has authority over thread access-control and storage. Because threads are simply a hash-chain of update messages, or blocks , they can represent any type of dataset. Some blocks point to off-chain data stored on IPFS. For example, a set of photos, a PDF, or even an entire website. Application developers are able to add structure to threads and make them interoperable with other applications by using schemas . Threads are auto-magically synced with other account peers. For example, you may have one peer on your phone, and another on your laptop, both with access to the same account seed (more about accounts here ). Threads can also be shared with other non-account peers (other users). In any case, each peer maintains a copy of its threads. A p2p messaging protocol keeps all the copies in sync. The special hash-chain or graph structure of a thread allows them to be easily shared with other peers and backed-up to cafes . Given one message, you can find all the others. Let's look a little closer at the different actors on the network. Account Peers \u00b6 User account peers share access to a single account from a data wallet . You can think of the wallet as a collection of thread secrets. Account peers typically run on desktops, laptops, and mobile devices and expose APIs for encrypting, storing, and sharing files/data/messages, among other functions. Account peers will automatically stay in sync. Read more about account sync here . Cafe Peers \u00b6 Cafe peers (or just cafes) are anonymous and disposable infrastructure. They provide services on behalf of users and applications without requiring trust . For example, once an account peer is registered with a cafe,\u001f all of its local (default encrypted) data is automatically synced (pinned). encrypted thread snapshots (HEAD) are automatically synced for new device sign-in and recovery. it will have an always-online message inbox for receiving thread updates from other peers when offline. its contact info will be indexed and made available for search on the network. Unlike account peers, cafes need to be online at all times in order to function properly. For this reason, they typically run in a server environment. They are easy to deploy & manage (single executable, Docker). Tip An account peer may be registered with more than one cafe, and account peers do not need to be registered to the same cafe(s). Additionally, peers can easily migrate from one cafe to another, simply be deregistering from one and registering with another. Applications \u00b6 Finally, applications run alongside or include an account peer and can create and/or access their data. Textile maintains a few reference apps like Textile Photos for desktop and mobile. Check out the client SDKs for information on how to leverage an account peer in your application. Why IPFS? \u00b6 IPFS is the perfect file system for Textile for a few reasons: IPFS uses content-addressed data , meaning that content can be requested from the network as a whole by an immutable address , rather than from a single host with an arbitrary URL. This stands in the way of censorship and opens the door to Textile's decentralized, recoverable, and cross-application data storage. IPFS ships with a libp2p host, which is the best-in-class peer-to-peer networking library. Textile believes that IPFS is the distributed web of the future. Core to our mission is the idea that Textile accounts, applications, and data are interoperable with the larger IPFS network .","title":"Introduction"},{"location":"concepts/#how-it-works","text":"Textile peers use p2p messaging patterns to orchestrate shared datasets, or more specifically your chats, contacts, albums, and more. With iCloud or another major cloud provider, you expect these datasets to be synced across your iOS devices. Additionally, if you've shared a dataset like a playlist or photo album with other users, you would expect changes to be synced with their devices as well. You can expect the same with Textile, but without the centralized control of a single organization or government. A traditional cloud provider will store your datasets in one, maybe a few, central location(s). This means that you must trust the provider won't decide to drop your access, and in some cases, to not view or expose the contents of your datasets. In Textile, these types of datasets are called threads . At the core of every thread is a secret. Only peers that possess the secret are able to decrypt thread content or follow linkages. Hint Unlike a blockchain, threads are not based around the idea of consensus. Instead, they follow an agent-centric approach similar to holochain . Each peer has authority over thread access-control and storage. Because threads are simply a hash-chain of update messages, or blocks , they can represent any type of dataset. Some blocks point to off-chain data stored on IPFS. For example, a set of photos, a PDF, or even an entire website. Application developers are able to add structure to threads and make them interoperable with other applications by using schemas . Threads are auto-magically synced with other account peers. For example, you may have one peer on your phone, and another on your laptop, both with access to the same account seed (more about accounts here ). Threads can also be shared with other non-account peers (other users). In any case, each peer maintains a copy of its threads. A p2p messaging protocol keeps all the copies in sync. The special hash-chain or graph structure of a thread allows them to be easily shared with other peers and backed-up to cafes . Given one message, you can find all the others. Let's look a little closer at the different actors on the network.","title":"How it works"},{"location":"concepts/#account-peers","text":"User account peers share access to a single account from a data wallet . You can think of the wallet as a collection of thread secrets. Account peers typically run on desktops, laptops, and mobile devices and expose APIs for encrypting, storing, and sharing files/data/messages, among other functions. Account peers will automatically stay in sync. Read more about account sync here .","title":"Account Peers"},{"location":"concepts/#cafe-peers","text":"Cafe peers (or just cafes) are anonymous and disposable infrastructure. They provide services on behalf of users and applications without requiring trust . For example, once an account peer is registered with a cafe,\u001f all of its local (default encrypted) data is automatically synced (pinned). encrypted thread snapshots (HEAD) are automatically synced for new device sign-in and recovery. it will have an always-online message inbox for receiving thread updates from other peers when offline. its contact info will be indexed and made available for search on the network. Unlike account peers, cafes need to be online at all times in order to function properly. For this reason, they typically run in a server environment. They are easy to deploy & manage (single executable, Docker). Tip An account peer may be registered with more than one cafe, and account peers do not need to be registered to the same cafe(s). Additionally, peers can easily migrate from one cafe to another, simply be deregistering from one and registering with another.","title":"Cafe Peers"},{"location":"concepts/#applications","text":"Finally, applications run alongside or include an account peer and can create and/or access their data. Textile maintains a few reference apps like Textile Photos for desktop and mobile. Check out the client SDKs for information on how to leverage an account peer in your application.","title":"Applications"},{"location":"concepts/#why-ipfs","text":"IPFS is the perfect file system for Textile for a few reasons: IPFS uses content-addressed data , meaning that content can be requested from the network as a whole by an immutable address , rather than from a single host with an arbitrary URL. This stands in the way of censorship and opens the door to Textile's decentralized, recoverable, and cross-application data storage. IPFS ships with a libp2p host, which is the best-in-class peer-to-peer networking library. Textile believes that IPFS is the distributed web of the future. Core to our mission is the idea that Textile accounts, applications, and data are interoperable with the larger IPFS network .","title":"Why IPFS?"},{"location":"concepts/cafes/","text":"Cafe peers (or just cafes) are anonymous and disposable infrastructure. They provide services on behalf of users and applications. Access to cafe services is granted via JWT-based sessions, and initial registration with a cafe requires an access token. Any peer can operate as a cafe, though they work best for always-on peers. Cafes run an 'extra' network API that handles client and host requests over libp2p or HTTP. Tip An account peer may be registered with more than one cafe, and account peers do not need to be registered to the same cafe(s). Additionally, peers can easily migrate from one cafe to another, simply be deregistering from one and registering with another. Services \u00b6 Backup \u00b6 One of the primary functions of a cafe is to provide a recovery and new device sign-in mechanism to its clients . Once registered with a cafe, clients' data (which is, by default, encrypted) is automatically synced. This involves a combination of authenticated IPFS pinning and thread snapshots. A thread snapshot contains only the metadata and latest known update hash (HEAD) needed to reconstruct the entire thread from scratch, and is encrypted with the client's account key. This means that cafes only issue encrypted backups and are not able to read their clients' threads. This also means that the snapshots are useless if a client loses their account key. Message inbox-ing \u00b6 Very often, a peer is not online or is otherwise unreachable and therefore unable to receive a message (usually a thread update message, or block ). In this failed state, the sender can send the message to the recipient's always-online cafe(s), ensuring the message is delivered when the recipient returns online. In practice, this means that, when available, cafe \"inbox\" addresses are attached to contacts , which get published to the network. This is sort of like your phone's voicemail service, but here you're in control of where the message is actually delivered. Most importantly, because the update messages are encrypted, you do not need to trust the cafe hosting the inbox. User account indexing \u00b6 Textile provides tooling for certain types of network-wide queries , like user account search. Changes to a peer's public-facing contact are indexed and made query-able by its cafes. So, while you do not need to be registered with a cafe in order to leverage these queries, doing so may increase your chances of being discovered by others, assuming you local peer is periodically offline. Web endpoints \u00b6 IPFS gateway \u00b6 All desktop and server peers host an IPFS gateway. However, the gateway is most useful on a cafe peer where clients' content is stored. See the IPFS Gateway section for more, including details about a decryption service unique to Textile gateways. Latest thread share \u00b6 Status Pending. We plan to support the ability to publish threads over Textile that can be tracked and exposed over cafes without needing full Textile clients. Follow on GitHub . Cafe functions \u00b6 Status Exploring. We are looking into the concept of offering server-less function support directly inside a cafe. Examples of server-less function uses include: Publishing a web-hook, updating an RSS feed, or triggering a push notification. Deploying \u00b6 Cafes are easy to deploy and manage (single executable, Docker). Start here to run your own. Try one \u00b6 Textile hosts a development cafe that you are free to use for non-production purposes. Danger Use the dev cafe at your own risk. Your data may be deleted without notice. Connection details: Peer ID API Gateway Token 12D3KooWGN8VAsPHsHeJtoTbbzsGjs2LTmQZ6wFKvuPich1TYmYY https://us-west-dev.textile.cafe/ https://us-west-dev.textile.cafe/ipfs uggU4NcVGFSPchULpa2zG2NRjw2bFzaiJo3BYAgaFyzCUPRLuAgToE3HXPyo","title":"Cafes"},{"location":"concepts/cafes/#services","text":"","title":"Services"},{"location":"concepts/cafes/#backup","text":"One of the primary functions of a cafe is to provide a recovery and new device sign-in mechanism to its clients . Once registered with a cafe, clients' data (which is, by default, encrypted) is automatically synced. This involves a combination of authenticated IPFS pinning and thread snapshots. A thread snapshot contains only the metadata and latest known update hash (HEAD) needed to reconstruct the entire thread from scratch, and is encrypted with the client's account key. This means that cafes only issue encrypted backups and are not able to read their clients' threads. This also means that the snapshots are useless if a client loses their account key.","title":"Backup"},{"location":"concepts/cafes/#message-inbox-ing","text":"Very often, a peer is not online or is otherwise unreachable and therefore unable to receive a message (usually a thread update message, or block ). In this failed state, the sender can send the message to the recipient's always-online cafe(s), ensuring the message is delivered when the recipient returns online. In practice, this means that, when available, cafe \"inbox\" addresses are attached to contacts , which get published to the network. This is sort of like your phone's voicemail service, but here you're in control of where the message is actually delivered. Most importantly, because the update messages are encrypted, you do not need to trust the cafe hosting the inbox.","title":"Message inbox-ing"},{"location":"concepts/cafes/#user-account-indexing","text":"Textile provides tooling for certain types of network-wide queries , like user account search. Changes to a peer's public-facing contact are indexed and made query-able by its cafes. So, while you do not need to be registered with a cafe in order to leverage these queries, doing so may increase your chances of being discovered by others, assuming you local peer is periodically offline.","title":"User account indexing"},{"location":"concepts/cafes/#web-endpoints","text":"","title":"Web endpoints"},{"location":"concepts/cafes/#ipfs-gateway","text":"All desktop and server peers host an IPFS gateway. However, the gateway is most useful on a cafe peer where clients' content is stored. See the IPFS Gateway section for more, including details about a decryption service unique to Textile gateways.","title":"IPFS gateway"},{"location":"concepts/cafes/#latest-thread-share","text":"Status Pending. We plan to support the ability to publish threads over Textile that can be tracked and exposed over cafes without needing full Textile clients. Follow on GitHub .","title":"Latest thread share"},{"location":"concepts/cafes/#cafe-functions","text":"Status Exploring. We are looking into the concept of offering server-less function support directly inside a cafe. Examples of server-less function uses include: Publishing a web-hook, updating an RSS feed, or triggering a push notification.","title":"Cafe functions"},{"location":"concepts/cafes/#deploying","text":"Cafes are easy to deploy and manage (single executable, Docker). Start here to run your own.","title":"Deploying"},{"location":"concepts/cafes/#try-one","text":"Textile hosts a development cafe that you are free to use for non-production purposes. Danger Use the dev cafe at your own risk. Your data may be deleted without notice. Connection details: Peer ID API Gateway Token 12D3KooWGN8VAsPHsHeJtoTbbzsGjs2LTmQZ6wFKvuPich1TYmYY https://us-west-dev.textile.cafe/ https://us-west-dev.textile.cafe/ipfs uggU4NcVGFSPchULpa2zG2NRjw2bFzaiJo3BYAgaFyzCUPRLuAgToE3HXPyo","title":"Try one"},{"location":"concepts/contacts/","text":"A contact can be thought of as a set of ephemeral agents (peers) owned by a single account. \"Contacts\" are derived from account peer profiles. Peers may be connected with different cafe inboxes. Each of these peers shares a special private account thread , which tracks account peers, profile information, and known contacts. When indexed, this thread provides: A \"self\" contact, much like iOS or other contact systems, which is advertised to the network and indexed for search by registered cafes . A contact \"address book\" for interacting with other users. As shown in the diagram above, a contact will display profile information (name and avatar) from the most recently updated peer. Tip See textile contacts --help or check out the tour section on contacts to learn more about contact management.","title":"Contacts"},{"location":"concepts/search/","text":"Textile peers have a built in mechanism for certain types of network-wide queries. In order to support both cafe and cafe -less search, this mechanism uses a combination of direct peer-to-peer and publish-subscribe messaging. Search responses will usually come from cafe peers. However, any peer on the network can respond to a query. Search with a cafe \u00b6 If they have any registered, peers will send queries to their cafes , which are usually connected to a larger portion of the network. Cafes publish search queries on behalf of their clients. Results are more easily sent to always-online cafes, which are then streamed back down to the client peer. Search without a cafe \u00b6 When not registered with a cafe , peers will publish queries directly to the network. Responding peers will publish results to the requesting peer's ID-based pubsub topic. Types \u00b6 Contacts \u00b6 See textile contacts search --help or check out the tour section on contact search . Threads \u00b6 Thread search is currently limited to account peers searching for each other's snapshots . This functionality is the backbone of account sync . Info Check out the threads v2 roadmap for some coming functionality around public-facing thread search.","title":"Search"},{"location":"concepts/search/#search-with-a-cafe","text":"If they have any registered, peers will send queries to their cafes , which are usually connected to a larger portion of the network. Cafes publish search queries on behalf of their clients. Results are more easily sent to always-online cafes, which are then streamed back down to the client peer.","title":"Search with a cafe"},{"location":"concepts/search/#search-without-a-cafe","text":"When not registered with a cafe , peers will publish queries directly to the network. Responding peers will publish results to the requesting peer's ID-based pubsub topic.","title":"Search without a cafe"},{"location":"concepts/search/#types","text":"","title":"Types"},{"location":"concepts/search/#contacts","text":"See textile contacts search --help or check out the tour section on contact search .","title":"Contacts"},{"location":"concepts/search/#threads","text":"Thread search is currently limited to account peers searching for each other's snapshots . This functionality is the backbone of account sync . Info Check out the threads v2 roadmap for some coming functionality around public-facing thread search.","title":"Threads"},{"location":"concepts/the-wallet/","text":"Textile uses a hierarchical deterministic (HD) wallet to derive account keys from a set of unique words, called a mnemonic phrase . Textile account key derivation from a BIP39 mnemonic. Every account seed \"inside\" the wallet can be derived from this mnemonic phrase. Meaning that the wallet effectively is the mnemonic phrase. Any given wallet may create an arbitrary number of accounts. For example, a single wallet can be used to provision multiple Textile Photos \"accounts\", each with a completely different persona. This provides a powerful partitioning framework. Textile account seeds (private keys) always starts with an \"S\" for \"secret\" and account addresses (public keys) always start with a \"P\" for \"public\". Hint Peer initialization does not (by design) use the whole wallet, just one account seed. Users and applications are free to use any seed from their wallet, but most use cases will just make use of the seed from the default account, or account 0 . This BIP39 mnemonic explorer can be helpful when learning about HD wallets: https://iancoleman.io/bip39/ . The current implementation is a BIP32 Hierarchical Deterministic Wallet based on Stellar's implementation of SLIP-0010 . See the daemon installation section for a guide to generating a wallet with the command-line client. Clients \u00b6 Generating and interacting with a wallet are capabilities separate from the core peer API. Below is a list of clients that are currently able to generate and interact with wallets. The command-line client via the wallet subcommand js-wallet ios-textile android-textile Accounts \u00b6 Account seeds and their public addresses are generated via the wallet pass-phrase. Textile uses ed25519 keys because they provide fast key generation, signing, and verification. These properties become important on less powerful devices like phones. Sync \u00b6 Peers that are backed by the same account are called account peers . Account peers will automatically stay in sync. They are able to instruct one another to create and delete threads. Additionally, they will continuously search the network for each other's encrypted thread snapshots (metadata and the latest update hash, usually stored by cafes ). Learn how search works here . Info Thread snapshots also enable logins from new devices, as the new peer just needs to search for snapshots created by its account. Every peer has in internal account thread , which is used to track account peers, profile information, and known contacts. Read more about account threads here .","title":"The Wallet"},{"location":"concepts/the-wallet/#clients","text":"Generating and interacting with a wallet are capabilities separate from the core peer API. Below is a list of clients that are currently able to generate and interact with wallets. The command-line client via the wallet subcommand js-wallet ios-textile android-textile","title":"Clients"},{"location":"concepts/the-wallet/#accounts","text":"Account seeds and their public addresses are generated via the wallet pass-phrase. Textile uses ed25519 keys because they provide fast key generation, signing, and verification. These properties become important on less powerful devices like phones.","title":"Accounts"},{"location":"concepts/the-wallet/#sync","text":"Peers that are backed by the same account are called account peers . Account peers will automatically stay in sync. They are able to instruct one another to create and delete threads. Additionally, they will continuously search the network for each other's encrypted thread snapshots (metadata and the latest update hash, usually stored by cafes ). Learn how search works here . Info Thread snapshots also enable logins from new devices, as the new peer just needs to search for snapshots created by its account. Every peer has in internal account thread , which is used to track account peers, profile information, and known contacts. Read more about account threads here .","title":"Sync"},{"location":"concepts/threads/","text":"Threads are the backbone of Textile's encrypted, recoverable, schema-based, and cross-application data storage . Think of a thread as a decentralized database of encrypted files and messages, shared between specific participants. At the core of every thread is a secret. Only peers that possess the secret can decrypt thread content or follow linkages. Hint Unlike a blockchain, threads are not based around the idea of consensus. Instead, they follow an agent-centric approach similar to holochain . Each peer has authority over thread access-control and storage. Because threads are simply a hash-chain of update messages, or blocks , they can represent any type of dataset. Some blocks point to off-chain data stored on IPFS. For example, a set of photos, a PDF, or even an entire website. Application developers are able to add structure to threads and make them interoperable with other applications by using schemas . Threads are auto-magically synced with other account peers. For example, you may have one peer on your phone, and another on your laptop, both with access to the same account seed (more about accounts here ). Threads can also be shared with other non-account peers (other users). In any case, each peer maintains a copy of its threads. A p2p messaging protocol keeps all the copies in sync. The special hash-chain or graph structure of a thread allows them to be easily shared with other peers and backed-up to cafes . Given one message, you can find all the others. Requirements \u00b6 Threads are supposed to serve a decentralized cloud-like function for safely storing and retrieving data generated by applications for users, i.e., photos, messages, contacts, health data, etc. They were designed with the following requirements in mind: Conflict resistant: Similar to ipfs-log , a thread should facilitate a resilient, distributed state, shared among multiple members (and/or devices). Mud puddle resistant: There should be a way to safely backup a thread's state such that the owner can recover it. Offline-first: Because most people access the internet primarily from mobile devices, threads must enable a UX that works well in scenarios where connectivity is spotty, and peers are continually coming and going from the network. Secure: Peers must sign updates and encrypted with the shared key. Ideally, linkages should also be obscured by encryption. Implementation \u00b6 On the one hand, threads is a data model for representing a dataset as a hash-chain of updates. On the other hand, it's a protocol for orchestrating that state between peers. Info Threads aim to be language and platform agnostic. For this reason, Textile uses protocol buffers extensively because they are a \"language-neutral, platform-neutral, extensible mechanism for serializing structured data\". Model \u00b6 message Thread { string id = 1; string key = 2; bytes sk = 3; string name = 4; string schema = 5; string initiator = 6; Type type = 7; Sharing sharing = 8; repeated string whitelist = 9; State state = 10; string head = 11; // Type controls read (R), annotate (A), and write (W) access enum Type { PRIVATE = 0; // initiator: RAW, whitelist: READ_ONLY = 1; // initiator: RAW, whitelist: R PUBLIC = 2; // initiator: RAW, whitelist: RA OPEN = 3; // initiator: RAW, whitelist: RAW } // Sharing controls if (Y/N) a thread can be shared enum Sharing { NOT_SHARED = 0; // initiator: N, whitelist: N INVITE_ONLY = 1; // initiator: Y, whitelist: N SHARED = 2; // initiator: Y, whitelist: Y } // State indicates the loading state enum State { LOADING_TAIL = 0; // tail blocks are being loaded LOADED = 1; // blocks are all loaded / paused LOADING_HEAD = 2; // head block is being loaded } // view info Block head_block = 101; Node schema_node = 102; int32 block_count = 103; int32 peer_count = 104; } Orchestration \u00b6 The orchestration of thread state between peers can be thought of as syncing a graph of blocks and files , which involves sending outbound updates and reading inbound updates. In practice, this is handled by a libp2p service. Info The thread service's protocol ID is /textile/threads/<version> . Outbound updates \u00b6 A block describing an update to a thread is signed with the author's private key and encrypted with the thread secret. The resulting message is then sent over directly to known participants. If a peer is offline, the message is again encrypted with their public key and delivered to their cafe inbox(es) . Inbound updates \u00b6 Upon receiving an update, either directly or from a cafe inbox , a peer will decrypt, verify, and locally index the inner block . Depending on thread behavior, the peer will follow the graph, downloading linked messages from the network until it no longer finds new blocks. Ideally, the update can be fast-forwarded merged, but a deterministic 3-way merge may be needed. Files DAG node referenced by the graph also need to be synced. Sync is handled by first downloading the thread's schema, which contains pinning (storage) instructions for the DAG's inner files. Finally, a peer may send back an acknowledgment to the author containing its latest graph tip (or HEAD in git terminology) if it believes they have diverged. Account Threads \u00b6 Account peers can instruct each other to create and delete threads by communicating over a special internal account thread. An additional signature is used to handle this on outbound updates, which differentiates account and non-account peer messages. The account thread is used to track account peers, profile information, and known contacts. Like normal threads, it is kept in sync between account peers. Read more about account sync here . Snapshots \u00b6 Thread snapshots enable account sync , recovery, and login from new devices. Snapshots are an encrypted representation of a thread. They contain metadata and the latest update hash, which is usually stored by cafes . Account peers will continuously search for, decrypt, and apply one another's snapshots to their local thread state. Access Control \u00b6 Control over thread access and sharing is handled by a combination of the type and sharing settings. An immutable member address \"whitelist\" gives the initiator fine-grained control. The table below outlines access patterns for the thread initiator and the whitelist members. An empty whitelist is taken to be \"everyone\", which is the default. Thread type controls read (R), annotate (A), and write (W) access: private --> initiator: RAW, whitelist: read_only --> initiator: RAW, whitelist: R public --> initiator: RAW, whitelist: RA open --> initiator: RAW, whitelist: RAW Thread sharing style controls if (Y/N) a thread can be shared: not_shared --> initiator: N, whitelist: N invite_only --> initiator: Y, whitelist: N shared --> initiator: Y, whitelist: Y` Info Access control will be moving to a more familiar, roll-based design in a future release. See this GitHub issue for more. Blocks \u00b6 Blocks are the raw components of a thread. Think of them as an append-only log of thread updates where each one is hash-linked to its parent(s), forming a tree. New / recovering peers can sync history by merely traversing the hash tree. In practice, blocks are small (encrypted) protocol buffers , linked together by their IPFS CID (content id or hash). You can explore the protocol buffer definitions here . There are several block types: - MERGE: 3-way merge added. - IGNORE: A block was ignored. - FLAG: A block was flagged. - JOIN: Peer joined. - ANNOUNCE: Peer set username / avatar / inbox addresses - LEAVE: Peer left. - TEXT: Text message added. - FILES: File(s) added. - COMMENT: Comment added to another block. - LIKE: Like added to another block. Tip The Blocks API can serve Graphviz dot files which can be converted to an image as seen below. See textile blocks --help for more) A chat thread An account thread shared between eight peers Files \u00b6 The FILES block type points to off-thread data in the form of an IPLD merkle DAG. These DAGs are described by and validated against the thread's schema . Hint Any data added to a thread ends up as a file , regardless of whether or not the source data was an actual file. For example, echoing a string into a thread results in a \"file\" containing that string. Read more about files in the next section . V2 Roadmap \u00b6 Work on the next version of threads (v2) has started. The goals and individual issues for the next version can be seen here . The high-level goals have been copied below: Move to a standalone GitHub repository. Add the notion of \"intent\" to the data model so that other applications can understand a threads intended purpose. Replace the protocol buffer based linkages with IPLD so other programs can more easily traverse threads. Use a hybrid p2p and gossipsub orchestration pattern (details to come). Break HEAD into multiple categories (peers, content, annotations) Move to a role-based access model for accounts and applications. Encrypt thread snapshots with one-off keys that can be provisioned w/ rolls. Allow threads to be searchable and \"followed\" from a gateway. Support a more traditional \"feed\" mechanism (1->many vs. some->some). Use a single AES key as the thread secret, hash of key as ID. In addition to being governed by access role, peers should not be required to download thread history. Local thread interactions should use the more human-readable key and not id. Feedback welcome! Please let us know if you want to weigh in on the next version of threads.","title":"Introduction"},{"location":"concepts/threads/#requirements","text":"Threads are supposed to serve a decentralized cloud-like function for safely storing and retrieving data generated by applications for users, i.e., photos, messages, contacts, health data, etc. They were designed with the following requirements in mind: Conflict resistant: Similar to ipfs-log , a thread should facilitate a resilient, distributed state, shared among multiple members (and/or devices). Mud puddle resistant: There should be a way to safely backup a thread's state such that the owner can recover it. Offline-first: Because most people access the internet primarily from mobile devices, threads must enable a UX that works well in scenarios where connectivity is spotty, and peers are continually coming and going from the network. Secure: Peers must sign updates and encrypted with the shared key. Ideally, linkages should also be obscured by encryption.","title":"Requirements"},{"location":"concepts/threads/#implementation","text":"On the one hand, threads is a data model for representing a dataset as a hash-chain of updates. On the other hand, it's a protocol for orchestrating that state between peers. Info Threads aim to be language and platform agnostic. For this reason, Textile uses protocol buffers extensively because they are a \"language-neutral, platform-neutral, extensible mechanism for serializing structured data\".","title":"Implementation"},{"location":"concepts/threads/#model","text":"message Thread { string id = 1; string key = 2; bytes sk = 3; string name = 4; string schema = 5; string initiator = 6; Type type = 7; Sharing sharing = 8; repeated string whitelist = 9; State state = 10; string head = 11; // Type controls read (R), annotate (A), and write (W) access enum Type { PRIVATE = 0; // initiator: RAW, whitelist: READ_ONLY = 1; // initiator: RAW, whitelist: R PUBLIC = 2; // initiator: RAW, whitelist: RA OPEN = 3; // initiator: RAW, whitelist: RAW } // Sharing controls if (Y/N) a thread can be shared enum Sharing { NOT_SHARED = 0; // initiator: N, whitelist: N INVITE_ONLY = 1; // initiator: Y, whitelist: N SHARED = 2; // initiator: Y, whitelist: Y } // State indicates the loading state enum State { LOADING_TAIL = 0; // tail blocks are being loaded LOADED = 1; // blocks are all loaded / paused LOADING_HEAD = 2; // head block is being loaded } // view info Block head_block = 101; Node schema_node = 102; int32 block_count = 103; int32 peer_count = 104; }","title":"Model"},{"location":"concepts/threads/#orchestration","text":"The orchestration of thread state between peers can be thought of as syncing a graph of blocks and files , which involves sending outbound updates and reading inbound updates. In practice, this is handled by a libp2p service. Info The thread service's protocol ID is /textile/threads/<version> .","title":"Orchestration"},{"location":"concepts/threads/#outbound-updates","text":"A block describing an update to a thread is signed with the author's private key and encrypted with the thread secret. The resulting message is then sent over directly to known participants. If a peer is offline, the message is again encrypted with their public key and delivered to their cafe inbox(es) .","title":"Outbound updates"},{"location":"concepts/threads/#inbound-updates","text":"Upon receiving an update, either directly or from a cafe inbox , a peer will decrypt, verify, and locally index the inner block . Depending on thread behavior, the peer will follow the graph, downloading linked messages from the network until it no longer finds new blocks. Ideally, the update can be fast-forwarded merged, but a deterministic 3-way merge may be needed. Files DAG node referenced by the graph also need to be synced. Sync is handled by first downloading the thread's schema, which contains pinning (storage) instructions for the DAG's inner files. Finally, a peer may send back an acknowledgment to the author containing its latest graph tip (or HEAD in git terminology) if it believes they have diverged.","title":"Inbound updates"},{"location":"concepts/threads/#account-threads","text":"Account peers can instruct each other to create and delete threads by communicating over a special internal account thread. An additional signature is used to handle this on outbound updates, which differentiates account and non-account peer messages. The account thread is used to track account peers, profile information, and known contacts. Like normal threads, it is kept in sync between account peers. Read more about account sync here .","title":"Account Threads"},{"location":"concepts/threads/#snapshots","text":"Thread snapshots enable account sync , recovery, and login from new devices. Snapshots are an encrypted representation of a thread. They contain metadata and the latest update hash, which is usually stored by cafes . Account peers will continuously search for, decrypt, and apply one another's snapshots to their local thread state.","title":"Snapshots"},{"location":"concepts/threads/#access-control","text":"Control over thread access and sharing is handled by a combination of the type and sharing settings. An immutable member address \"whitelist\" gives the initiator fine-grained control. The table below outlines access patterns for the thread initiator and the whitelist members. An empty whitelist is taken to be \"everyone\", which is the default. Thread type controls read (R), annotate (A), and write (W) access: private --> initiator: RAW, whitelist: read_only --> initiator: RAW, whitelist: R public --> initiator: RAW, whitelist: RA open --> initiator: RAW, whitelist: RAW Thread sharing style controls if (Y/N) a thread can be shared: not_shared --> initiator: N, whitelist: N invite_only --> initiator: Y, whitelist: N shared --> initiator: Y, whitelist: Y` Info Access control will be moving to a more familiar, roll-based design in a future release. See this GitHub issue for more.","title":"Access Control"},{"location":"concepts/threads/#blocks","text":"Blocks are the raw components of a thread. Think of them as an append-only log of thread updates where each one is hash-linked to its parent(s), forming a tree. New / recovering peers can sync history by merely traversing the hash tree. In practice, blocks are small (encrypted) protocol buffers , linked together by their IPFS CID (content id or hash). You can explore the protocol buffer definitions here . There are several block types: - MERGE: 3-way merge added. - IGNORE: A block was ignored. - FLAG: A block was flagged. - JOIN: Peer joined. - ANNOUNCE: Peer set username / avatar / inbox addresses - LEAVE: Peer left. - TEXT: Text message added. - FILES: File(s) added. - COMMENT: Comment added to another block. - LIKE: Like added to another block. Tip The Blocks API can serve Graphviz dot files which can be converted to an image as seen below. See textile blocks --help for more) A chat thread An account thread shared between eight peers","title":"Blocks"},{"location":"concepts/threads/#files","text":"The FILES block type points to off-thread data in the form of an IPLD merkle DAG. These DAGs are described by and validated against the thread's schema . Hint Any data added to a thread ends up as a file , regardless of whether or not the source data was an actual file. For example, echoing a string into a thread results in a \"file\" containing that string. Read more about files in the next section .","title":"Files"},{"location":"concepts/threads/#v2-roadmap","text":"Work on the next version of threads (v2) has started. The goals and individual issues for the next version can be seen here . The high-level goals have been copied below: Move to a standalone GitHub repository. Add the notion of \"intent\" to the data model so that other applications can understand a threads intended purpose. Replace the protocol buffer based linkages with IPLD so other programs can more easily traverse threads. Use a hybrid p2p and gossipsub orchestration pattern (details to come). Break HEAD into multiple categories (peers, content, annotations) Move to a role-based access model for accounts and applications. Encrypt thread snapshots with one-off keys that can be provisioned w/ rolls. Allow threads to be searchable and \"followed\" from a gateway. Support a more traditional \"feed\" mechanism (1->many vs. some->some). Use a single AES key as the thread secret, hash of key as ID. In addition to being governed by access role, peers should not be required to download thread history. Local thread interactions should use the more human-readable key and not id. Feedback welcome! Please let us know if you want to weigh in on the next version of threads.","title":"V2 Roadmap"},{"location":"concepts/threads/files/","text":"Any data added to a thread ends up as a file . Most of the time, a schema is used to define one or more types of data in a thread such that other users and applications can understand it. Currently, the following input types are available: Raw data blobs, images, EXIF data, and JSON documents. Structure \u00b6 Thread data is built into an IPLD merkle DAG structure (similar to a merkle tree ) and stored separately from update blocks on IPFS. A FILES block points to the top-level hash of a files DAG node. The structure of files DAG nodes are determined by, and validated against, a schema . A thread can have only one schema . It has two main functions: Define a Thread's data DAG structure Define the order of mills (transforms) needed to produce this structure from the input To illustrate these functions, take a look at the builtin media schema. Each link ( large , small , thumb ) produces a resized and encrypted image by leveraging the image/resize mill. Notice that the thumb link uses the large as input. This means that large will need to milled before thumb . Once you understand how schemas and mills work, you can design complex workflows and structures for your applications. In addition to the transformed bytes, a mill will produce a file metadata object for every input: message FileMeta { string mill = 1; // Mill used to process the file (e.g., `/image/resize`, `/json`) string checksum = 2; // Pre-milled (md5) checksum of the input file string source = 3; // Source file CID string opts = 4; // md5 checksum of input mill options string hash = 5; // CID hash of milled file string key = 6; // AES encryption key string media = 7; // Media type (e.g., `'application/json'`, `'image/jpeg'`) string name = 8; // Name of the input file int64 size = 9; // Size of the milled file in bytes google.protobuf.Timestamp added = 10; // Date the file was added to the thread google.protobuf.Struct meta = 11; // Additional metadata repeated string targets = 12; // DAG targets the file belongs to (kept only by the local peer) } File metadata objects are what most applications will interact with. They are the objects listed by the Files and Feed APIs. These objects are also used internally for various functions. For example, because good encryption is not deterministic, an input's checksum is used to de-duplicate encrypted data. At this point, it should be clear that adding data to a thread results in a DAG defined by a schema. But how exactly is the data stored so as to be programmatically accessible to thread consumers? Let's take a closer look at the DAG produced by the builtin media schema... A DAG node created by the built-in \"media\" schema. Note that a files target is by default a directory of indexes ( 0 , 1 , etc.). This mean that you can add an entire folder of images (or whatever your data is) with a single update. Also, each link ( large , small , etc.) will always have the special meta and content sub-links, which correspond to the (usually encrypted) file metadata and content. Below is a JSON representation of file indexes from a single image corresponding to say, file 0 above. Example { \"links\" : { \"large\" : { \"mill\" : \"/image/resize\" , \"checksum\" : \"EqkWwbMQoSosYnu85XHpdTsM3NDKTRPk5j4RQjN6c4FZ\" , \"source\" : \"D4QdxGCAFnGwCHAQxrros1V6zEf78N4ugK3GwZyT5dTJ\" , \"opts\" : \"21uBAuSeQUdw5aDu5CYPxEfeiLVeuvku1T26nWtJC84C\" , \"hash\" : \"QmcvoHe333KRf3tfNKrtrM7aMUVnrB4b1JyzhSFybepvqQ\" , \"key\" : \"6cCnusZVHwp6udnKv3eYhurHK6ArJyFxCYRWTUFG8ZuMwSDwVbis9FUX3GRs\" , \"media\" : \"image/jpeg\" , \"name\" : \"clyde.jpg\" , \"size\" : \"84222\" , \"added\" : \"2019-03-17T01:20:17.061749Z\" , \"meta\" : { \"height\" : 600 , \"width\" : 800 }, \"targets\" : [ \"QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk\" ] }, \"small\" : { \"mill\" : \"/image/resize\" , \"checksum\" : \"7Gu5s6sZkwU8UQWwJNnJSrVY75ZkQG4bpQSwQPwkk8aX\" , \"source\" : \"D4QdxGCAFnGwCHAQxrros1V6zEf78N4ugK3GwZyT5dTJ\" , \"opts\" : \"CassDcqf192MnceweJKGJvhZfrV9kB3GJRbvNPWm6raa\" , \"hash\" : \"QmZuD522rQiFE2GdbNXvzcQ3Ci6aLvvJtWz52a97iEDy9G\" , \"key\" : \"29ce4pg64Lj78GuTauQDxeqpfdNCF7fNsJauS552wfpkEjegq8kQgwiNAzJQZ\" , \"media\" : \"image/jpeg\" , \"name\" : \"clyde.jpg\" , \"size\" : \"18145\" , \"added\" : \"2019-03-17T01:20:14.739531Z\" , \"meta\" : { \"height\" : 240 , \"width\" : 320 }, \"targets\" : [ \"QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk\" ] }, \"thumb\" : { \"mill\" : \"/image/resize\" , \"checksum\" : \"GzB1CWKkKQ5sWS8qQXDoBZxsfFgsgZwD9Z51qX5d7LGW\" , \"source\" : \"EqkWwbMQoSosYnu85XHpdTsM3NDKTRPk5j4RQjN6c4FZ\" , \"opts\" : \"7aGVJ7nGgmHdqv8oiEKZ2ZbrNBv1zVP3ADSuT2sW3MwT\" , \"hash\" : \"QmUuXPhrtLJUzfuoJu7BkfiB2mGfKwq4ExTTF8gVUvAh2U\" , \"key\" : \"KfW8nTEZqh1NbAcmB51DMaooe34ujucx2DMqBwiz4xs9sDVhNDYNPratgtbf\" , \"media\" : \"image/jpeg\" , \"name\" : \"clyde.jpg\" , \"size\" : \"2979\" , \"added\" : \"2019-03-17T01:20:17.133863Z\" , \"meta\" : { \"height\" : 75 , \"width\" : 100 }, \"targets\" : [ \"QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk\" ] } } } Schemas \u00b6 Schemas are used to create and validate the structure of thread files, defining their type and purpose for consumers (users and applications). For example, a photos application may create photo-based threads, a health application my create threads with medical records, etc. By treating schemas as first-class citizens, other applications are also able to understand and make use of these threads. In practice, schemas have three distinct rolls: Provide instructions for how to transform or \"mill\" an input, e.g., given a photo, create three different sizes and discard the raw input (this is the media schema). Define whether or not the resulting DAG nodes should be stored (pinned) on account peers. Validate thread files from other participants, applying the same storage rules as in (2). The structure of a schema maps closely to the DAG nodes it creates (see below for examples). Highly complex nodes can be specified with dependencies between each link. A peer will automatically sort this 'graph' of dependencies (using topological sorting ) into a series of \"steps\". Each step is handled by a mill . For example, consider a thread backed by the builtin camera roll schema. The following steps must be taken to add a photo: The raw photo is sent to the blob mill (passthrough) and encrypted. The next two steps can be done in parallel. The output of (1) is stripped of EXIF data, resampled to a thumb nail size, and encrypted. EXIF data is extracted and encrypted from the output of (1). All of these output files (and their metadata) are added to IPFS in a single \"folder\" or DAG structure. Presets \u00b6 There are several \"preset\" or builtin schemas, available for use from client libraries. Textile Photos uses the media and camera roll presets. Media \u00b6 Used for posting media intended for sharing Example { \"name\" : \"media\" , \"pin\" : true , \"links\" : { \"large\" : { \"use\" : \":file\" , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"800\" , \"quality\" : \"80\" } }, \"small\" : { \"use\" : \":file\" , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"320\" , \"quality\" : \"80\" } }, \"thumb\" : { \"use\" : \"large\" , \"pin\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"100\" , \"quality\" : \"80\" } } } } Camera Roll \u00b6 Used for backing up a mobile phone camera roll Example { \"name\" : \"camera_roll\" , \"pin\" : true , \"links\" : { \"raw\" : { \"use\" : \":file\" , \"mill\" : \"/blob\" }, \"exif\" : { \"use\" : \"raw\" , \"mill\" : \"/image/exif\" }, \"thumb\" : { \"use\" : \"raw\" , \"pin\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"320\" , \"quality\" : \"80\" } } } } Avatars \u00b6 Used by the internal account thread for user avatar images Example { \"name\" : \"avatar\" , \"pin\" : true , \"links\" : { \"large\" : { \"use\" : \":file\" , \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"320\" , \"quality\" : \"75\" } }, \"small\" : { \"use\" : \":file\" , \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"100\" , \"quality\" : \"75\" } } } } JSON Schemas \u00b6 JSON-based schemas are defined using the json_schema property: Example { \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/json\" , \"json_schema\" : ... } Simply embed your JSON Schema within the thread schemas. Examples \u00b6 A \"Person\" \u00b6 The \"Person\" example from http://json-schema.org/learn/miscellaneous-examples.html Example { \"pin\" : true , \"mill\" : \"/json\" , \"json_schema\" : { \"$id\" : \"https://example.com/person.schema.json\" , \"$schema\" : \"http://json-schema.org/draft-07/schema#\" , \"title\" : \"Person\" , \"type\" : \"object\" , \"properties\" : { \"firstName\" : { \"type\" : \"string\" , \"description\" : \"The person's first name.\" }, \"lastName\" : { \"type\" : \"string\" , \"description\" : \"The person's last name.\" }, \"age\" : { \"description\" : \"Age in years which must be equal to or greater than zero.\" , \"type\" : \"integer\" , \"minimum\" : 0 } } } } Logs \u00b6 BSD syslog protocol ( https://tools.ietf.org/html/rfc3164 ) Example { \"pin\" : true , \"plaintext\" : false , \"mill\" : \"/json\" , \"json_schema\" : { \"$ref\" : \"#/definitions/Log\" , \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"definitions\" : { \"Log\" : { \"additionalProperties\" : false , \"properties\" : { \"application\" : { \"type\" : \"string\" }, \"hostname\" : { \"type\" : \"string\" }, \"message\" : { \"type\" : \"string\" }, \"pid\" : { \"type\" : \"integer\" }, \"priority\" : { \"type\" : \"integer\" }, \"timestamp\" : { \"type\" : \"string\" } }, \"required\" : [ \"priority\" , \"timestamp\" , \"hostname\" , \"application\" , \"pid\" , \"message\" ], \"type\" : \"object\" } } } } JSON Patch \u00b6 RFC 6902 A schema for tracking JSON document modifications can be built with the JSON Patch specification : JSON Patch defines a JSON document structure for expressing a sequence of operations to apply to a JavaScript Object Notation (JSON) document... The JSON schema store provides one solution : Example { \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/json\" , \"json_schema\" : { \"title\" : \"JSON schema for JSONPatch files\" , \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"type\" : \"array\" , \"items\" : { \"$ref\" : \"#/definitions/operation\" }, \"definitions\" : { \"operation\" : { \"type\" : \"object\" , \"required\" : [ \"op\" , \"path\" ], \"allOf\" : [ { \"$ref\" : \"#/definitions/path\" } ], \"oneOf\" : [ { \"required\" : [ \"value\" ], \"properties\" : { \"op\" : { \"description\" : \"The operation to perform.\" , \"type\" : \"string\" , \"enum\" : [ \"add\" , \"replace\" , \"test\" ] }, \"value\" : { \"description\" : \"The value to add, replace or test.\" } } }, { \"properties\" : { \"op\" : { \"description\" : \"The operation to perform.\" , \"type\" : \"string\" , \"enum\" : [ \"remove\" ] } } }, { \"required\" : [ \"from\" ], \"properties\" : { \"op\" : { \"description\" : \"The operation to perform.\" , \"type\" : \"string\" , \"enum\" : [ \"move\" , \"copy\" ] }, \"from\" : { \"description\" : \"A JSON Pointer path pointing to the location to move/copy from.\" , \"type\" : \"string\" } } } ] }, \"path\" : { \"properties\" : { \"path\" : { \"description\" : \"A JSON Pointer path.\" , \"type\" : \"string\" } } } } } } Weather \u00b6 A stream of forecasts from Dark Sky weather data Example { \"pin\" : true , \"mill\" : \"/json\" , \"json_schema\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Forecast\" , \"definitions\" : { \"Alert\" : { \"required\" : [ \"description\" , \"expires\" , \"time\" , \"title\" , \"uri\" ], \"properties\" : { \"description\" : { \"type\" : \"string\" }, \"expires\" : { \"type\" : \"integer\" }, \"time\" : { \"type\" : \"integer\" }, \"title\" : { \"type\" : \"string\" }, \"uri\" : { \"type\" : \"string\" } }, \"additionalProperties\" : false , \"type\" : \"object\" }, \"Flags\" : { \"required\" : [ \"units\" ], \"properties\" : { \"units\" : { \"type\" : \"string\" } }, \"additionalProperties\" : false , \"type\" : \"object\" }, \"Forecast\" : { \"required\" : [ \"currently\" , \"code\" , \"flags\" , \"latitude\" , \"longitude\" , \"offset\" , \"timezone\" ], \"properties\" : { \"alerts\" : { \"items\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Alert\" }, \"type\" : \"array\" }, \"code\" : { \"type\" : \"integer\" }, \"currently\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Weather\" }, \"error\" : { \"type\" : \"string\" }, \"flags\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Flags\" }, \"latitude\" : { \"type\" : \"number\" }, \"longitude\" : { \"type\" : \"number\" }, \"offset\" : { \"type\" : \"number\" }, \"timezone\" : { \"type\" : \"string\" } }, \"additionalProperties\" : false , \"type\" : \"object\" }, \"Weather\" : { \"required\" : [ \"apparentTemperature\" , \"apparentTemperatureMax\" , \"apparentTemperatureMaxTime\" , \"apparentTemperatureMin\" , \"apparentTemperatureMinTime\" , \"cloudCover\" , \"dewPoint\" , \"humidity\" , \"icon\" , \"nearestStormDistance\" , \"nearestStormBearing\" , \"ozone\" , \"precipIntensity\" , \"precipIntensityMax\" , \"precipIntensityMaxTime\" , \"precipProbability\" , \"precipType\" , \"pressure\" , \"summary\" , \"sunriseTime\" , \"sunsetTime\" , \"temperature\" , \"temperatureMax\" , \"temperatureMaxTime\" , \"temperatureMin\" , \"temperatureMinTime\" , \"time\" , \"visibility\" , \"windBearing\" , \"windSpeed\" ], \"properties\" : { \"apparentTemperature\" : { \"type\" : \"number\" }, \"apparentTemperatureMax\" : { \"type\" : \"number\" }, \"apparentTemperatureMaxTime\" : { \"type\" : \"integer\" }, \"apparentTemperatureMin\" : { \"type\" : \"number\" }, \"apparentTemperatureMinTime\" : { \"type\" : \"integer\" }, \"cloudCover\" : { \"type\" : \"number\" }, \"dewPoint\" : { \"type\" : \"number\" }, \"humidity\" : { \"type\" : \"number\" }, \"icon\" : { \"type\" : \"string\" }, \"nearestStormBearing\" : { \"type\" : \"number\" }, \"nearestStormDistance\" : { \"type\" : \"number\" }, \"ozone\" : { \"type\" : \"number\" }, \"precipIntensity\" : { \"type\" : \"number\" }, \"precipIntensityMax\" : { \"type\" : \"number\" }, \"precipIntensityMaxTime\" : { \"type\" : \"integer\" }, \"precipProbability\" : { \"type\" : \"number\" }, \"precipType\" : { \"type\" : \"string\" }, \"pressure\" : { \"type\" : \"number\" }, \"summary\" : { \"type\" : \"string\" }, \"sunriseTime\" : { \"type\" : \"integer\" }, \"sunsetTime\" : { \"type\" : \"integer\" }, \"temperature\" : { \"type\" : \"number\" }, \"temperatureMax\" : { \"type\" : \"number\" }, \"temperatureMaxTime\" : { \"type\" : \"integer\" }, \"temperatureMin\" : { \"type\" : \"number\" }, \"temperatureMinTime\" : { \"type\" : \"integer\" }, \"time\" : { \"type\" : \"integer\" }, \"visibility\" : { \"type\" : \"number\" }, \"windBearing\" : { \"type\" : \"number\" }, \"windSpeed\" : { \"type\" : \"number\" } }, \"additionalProperties\" : false , \"type\" : \"object\" } } } } Mills \u00b6 The meta and content node pairs in a files DAG are generated by file mills . Mills serve three distinct purposes: Validate the input against accepted media types. The JSON mill will also validate the input against a JSON Schema . Transform the input data, e.g., encode, resample, encrypt, etc. Index a metadata object (JSON) describing the transformed output. This allows thread content to be efficiently queried and provides a mechanism for de-duplicating encrypted data. Endpoints \u00b6 blob \u00b6 Passthrough (output equals input) schema \u00b6 Validate and returns a schema (JSON) json \u00b6 Validates a JSON document against a JSON Schema image/resize \u00b6 Resizes and/or resamples an input image image/exif \u00b6 Extracts EXIF data from an input image Applications are free to define new mills. Simply conform to the Mill interface: type Result struct { File [] byte Meta map [ string ] interface {} } type Mill interface { ID () string Encrypt () bool // encryption allowed Pin () bool // pin by default AcceptMedia ( media string ) error Options ( add map [ string ] interface {}) ( string , error ) Mill ( input [] byte , name string ) ( * Result , error ) } Hint We have planned support for audio and video mills. Let us know if there are other mill types you need, e.g., PDF, XML, etc.","title":"Files"},{"location":"concepts/threads/files/#structure","text":"Thread data is built into an IPLD merkle DAG structure (similar to a merkle tree ) and stored separately from update blocks on IPFS. A FILES block points to the top-level hash of a files DAG node. The structure of files DAG nodes are determined by, and validated against, a schema . A thread can have only one schema . It has two main functions: Define a Thread's data DAG structure Define the order of mills (transforms) needed to produce this structure from the input To illustrate these functions, take a look at the builtin media schema. Each link ( large , small , thumb ) produces a resized and encrypted image by leveraging the image/resize mill. Notice that the thumb link uses the large as input. This means that large will need to milled before thumb . Once you understand how schemas and mills work, you can design complex workflows and structures for your applications. In addition to the transformed bytes, a mill will produce a file metadata object for every input: message FileMeta { string mill = 1; // Mill used to process the file (e.g., `/image/resize`, `/json`) string checksum = 2; // Pre-milled (md5) checksum of the input file string source = 3; // Source file CID string opts = 4; // md5 checksum of input mill options string hash = 5; // CID hash of milled file string key = 6; // AES encryption key string media = 7; // Media type (e.g., `'application/json'`, `'image/jpeg'`) string name = 8; // Name of the input file int64 size = 9; // Size of the milled file in bytes google.protobuf.Timestamp added = 10; // Date the file was added to the thread google.protobuf.Struct meta = 11; // Additional metadata repeated string targets = 12; // DAG targets the file belongs to (kept only by the local peer) } File metadata objects are what most applications will interact with. They are the objects listed by the Files and Feed APIs. These objects are also used internally for various functions. For example, because good encryption is not deterministic, an input's checksum is used to de-duplicate encrypted data. At this point, it should be clear that adding data to a thread results in a DAG defined by a schema. But how exactly is the data stored so as to be programmatically accessible to thread consumers? Let's take a closer look at the DAG produced by the builtin media schema... A DAG node created by the built-in \"media\" schema. Note that a files target is by default a directory of indexes ( 0 , 1 , etc.). This mean that you can add an entire folder of images (or whatever your data is) with a single update. Also, each link ( large , small , etc.) will always have the special meta and content sub-links, which correspond to the (usually encrypted) file metadata and content. Below is a JSON representation of file indexes from a single image corresponding to say, file 0 above. Example { \"links\" : { \"large\" : { \"mill\" : \"/image/resize\" , \"checksum\" : \"EqkWwbMQoSosYnu85XHpdTsM3NDKTRPk5j4RQjN6c4FZ\" , \"source\" : \"D4QdxGCAFnGwCHAQxrros1V6zEf78N4ugK3GwZyT5dTJ\" , \"opts\" : \"21uBAuSeQUdw5aDu5CYPxEfeiLVeuvku1T26nWtJC84C\" , \"hash\" : \"QmcvoHe333KRf3tfNKrtrM7aMUVnrB4b1JyzhSFybepvqQ\" , \"key\" : \"6cCnusZVHwp6udnKv3eYhurHK6ArJyFxCYRWTUFG8ZuMwSDwVbis9FUX3GRs\" , \"media\" : \"image/jpeg\" , \"name\" : \"clyde.jpg\" , \"size\" : \"84222\" , \"added\" : \"2019-03-17T01:20:17.061749Z\" , \"meta\" : { \"height\" : 600 , \"width\" : 800 }, \"targets\" : [ \"QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk\" ] }, \"small\" : { \"mill\" : \"/image/resize\" , \"checksum\" : \"7Gu5s6sZkwU8UQWwJNnJSrVY75ZkQG4bpQSwQPwkk8aX\" , \"source\" : \"D4QdxGCAFnGwCHAQxrros1V6zEf78N4ugK3GwZyT5dTJ\" , \"opts\" : \"CassDcqf192MnceweJKGJvhZfrV9kB3GJRbvNPWm6raa\" , \"hash\" : \"QmZuD522rQiFE2GdbNXvzcQ3Ci6aLvvJtWz52a97iEDy9G\" , \"key\" : \"29ce4pg64Lj78GuTauQDxeqpfdNCF7fNsJauS552wfpkEjegq8kQgwiNAzJQZ\" , \"media\" : \"image/jpeg\" , \"name\" : \"clyde.jpg\" , \"size\" : \"18145\" , \"added\" : \"2019-03-17T01:20:14.739531Z\" , \"meta\" : { \"height\" : 240 , \"width\" : 320 }, \"targets\" : [ \"QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk\" ] }, \"thumb\" : { \"mill\" : \"/image/resize\" , \"checksum\" : \"GzB1CWKkKQ5sWS8qQXDoBZxsfFgsgZwD9Z51qX5d7LGW\" , \"source\" : \"EqkWwbMQoSosYnu85XHpdTsM3NDKTRPk5j4RQjN6c4FZ\" , \"opts\" : \"7aGVJ7nGgmHdqv8oiEKZ2ZbrNBv1zVP3ADSuT2sW3MwT\" , \"hash\" : \"QmUuXPhrtLJUzfuoJu7BkfiB2mGfKwq4ExTTF8gVUvAh2U\" , \"key\" : \"KfW8nTEZqh1NbAcmB51DMaooe34ujucx2DMqBwiz4xs9sDVhNDYNPratgtbf\" , \"media\" : \"image/jpeg\" , \"name\" : \"clyde.jpg\" , \"size\" : \"2979\" , \"added\" : \"2019-03-17T01:20:17.133863Z\" , \"meta\" : { \"height\" : 75 , \"width\" : 100 }, \"targets\" : [ \"QmPngweFQ9VUhjtyy8nfJRZ8us9UFbS6Y2trwmAswfJ2yk\" ] } } }","title":"Structure"},{"location":"concepts/threads/files/#schemas","text":"Schemas are used to create and validate the structure of thread files, defining their type and purpose for consumers (users and applications). For example, a photos application may create photo-based threads, a health application my create threads with medical records, etc. By treating schemas as first-class citizens, other applications are also able to understand and make use of these threads. In practice, schemas have three distinct rolls: Provide instructions for how to transform or \"mill\" an input, e.g., given a photo, create three different sizes and discard the raw input (this is the media schema). Define whether or not the resulting DAG nodes should be stored (pinned) on account peers. Validate thread files from other participants, applying the same storage rules as in (2). The structure of a schema maps closely to the DAG nodes it creates (see below for examples). Highly complex nodes can be specified with dependencies between each link. A peer will automatically sort this 'graph' of dependencies (using topological sorting ) into a series of \"steps\". Each step is handled by a mill . For example, consider a thread backed by the builtin camera roll schema. The following steps must be taken to add a photo: The raw photo is sent to the blob mill (passthrough) and encrypted. The next two steps can be done in parallel. The output of (1) is stripped of EXIF data, resampled to a thumb nail size, and encrypted. EXIF data is extracted and encrypted from the output of (1). All of these output files (and their metadata) are added to IPFS in a single \"folder\" or DAG structure.","title":"Schemas"},{"location":"concepts/threads/files/#presets","text":"There are several \"preset\" or builtin schemas, available for use from client libraries. Textile Photos uses the media and camera roll presets.","title":"Presets"},{"location":"concepts/threads/files/#media","text":"Used for posting media intended for sharing Example { \"name\" : \"media\" , \"pin\" : true , \"links\" : { \"large\" : { \"use\" : \":file\" , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"800\" , \"quality\" : \"80\" } }, \"small\" : { \"use\" : \":file\" , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"320\" , \"quality\" : \"80\" } }, \"thumb\" : { \"use\" : \"large\" , \"pin\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"100\" , \"quality\" : \"80\" } } } }","title":"Media"},{"location":"concepts/threads/files/#camera-roll","text":"Used for backing up a mobile phone camera roll Example { \"name\" : \"camera_roll\" , \"pin\" : true , \"links\" : { \"raw\" : { \"use\" : \":file\" , \"mill\" : \"/blob\" }, \"exif\" : { \"use\" : \"raw\" , \"mill\" : \"/image/exif\" }, \"thumb\" : { \"use\" : \"raw\" , \"pin\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"320\" , \"quality\" : \"80\" } } } }","title":"Camera Roll"},{"location":"concepts/threads/files/#avatars","text":"Used by the internal account thread for user avatar images Example { \"name\" : \"avatar\" , \"pin\" : true , \"links\" : { \"large\" : { \"use\" : \":file\" , \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"320\" , \"quality\" : \"75\" } }, \"small\" : { \"use\" : \":file\" , \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/image/resize\" , \"opts\" : { \"width\" : \"100\" , \"quality\" : \"75\" } } } }","title":"Avatars"},{"location":"concepts/threads/files/#json-schemas","text":"JSON-based schemas are defined using the json_schema property: Example { \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/json\" , \"json_schema\" : ... } Simply embed your JSON Schema within the thread schemas.","title":"JSON Schemas"},{"location":"concepts/threads/files/#examples","text":"","title":"Examples"},{"location":"concepts/threads/files/#a-person","text":"The \"Person\" example from http://json-schema.org/learn/miscellaneous-examples.html Example { \"pin\" : true , \"mill\" : \"/json\" , \"json_schema\" : { \"$id\" : \"https://example.com/person.schema.json\" , \"$schema\" : \"http://json-schema.org/draft-07/schema#\" , \"title\" : \"Person\" , \"type\" : \"object\" , \"properties\" : { \"firstName\" : { \"type\" : \"string\" , \"description\" : \"The person's first name.\" }, \"lastName\" : { \"type\" : \"string\" , \"description\" : \"The person's last name.\" }, \"age\" : { \"description\" : \"Age in years which must be equal to or greater than zero.\" , \"type\" : \"integer\" , \"minimum\" : 0 } } } }","title":"A \"Person\""},{"location":"concepts/threads/files/#logs","text":"BSD syslog protocol ( https://tools.ietf.org/html/rfc3164 ) Example { \"pin\" : true , \"plaintext\" : false , \"mill\" : \"/json\" , \"json_schema\" : { \"$ref\" : \"#/definitions/Log\" , \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"definitions\" : { \"Log\" : { \"additionalProperties\" : false , \"properties\" : { \"application\" : { \"type\" : \"string\" }, \"hostname\" : { \"type\" : \"string\" }, \"message\" : { \"type\" : \"string\" }, \"pid\" : { \"type\" : \"integer\" }, \"priority\" : { \"type\" : \"integer\" }, \"timestamp\" : { \"type\" : \"string\" } }, \"required\" : [ \"priority\" , \"timestamp\" , \"hostname\" , \"application\" , \"pid\" , \"message\" ], \"type\" : \"object\" } } } }","title":"Logs"},{"location":"concepts/threads/files/#json-patch","text":"RFC 6902 A schema for tracking JSON document modifications can be built with the JSON Patch specification : JSON Patch defines a JSON document structure for expressing a sequence of operations to apply to a JavaScript Object Notation (JSON) document... The JSON schema store provides one solution : Example { \"pin\" : true , \"plaintext\" : true , \"mill\" : \"/json\" , \"json_schema\" : { \"title\" : \"JSON schema for JSONPatch files\" , \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"type\" : \"array\" , \"items\" : { \"$ref\" : \"#/definitions/operation\" }, \"definitions\" : { \"operation\" : { \"type\" : \"object\" , \"required\" : [ \"op\" , \"path\" ], \"allOf\" : [ { \"$ref\" : \"#/definitions/path\" } ], \"oneOf\" : [ { \"required\" : [ \"value\" ], \"properties\" : { \"op\" : { \"description\" : \"The operation to perform.\" , \"type\" : \"string\" , \"enum\" : [ \"add\" , \"replace\" , \"test\" ] }, \"value\" : { \"description\" : \"The value to add, replace or test.\" } } }, { \"properties\" : { \"op\" : { \"description\" : \"The operation to perform.\" , \"type\" : \"string\" , \"enum\" : [ \"remove\" ] } } }, { \"required\" : [ \"from\" ], \"properties\" : { \"op\" : { \"description\" : \"The operation to perform.\" , \"type\" : \"string\" , \"enum\" : [ \"move\" , \"copy\" ] }, \"from\" : { \"description\" : \"A JSON Pointer path pointing to the location to move/copy from.\" , \"type\" : \"string\" } } } ] }, \"path\" : { \"properties\" : { \"path\" : { \"description\" : \"A JSON Pointer path.\" , \"type\" : \"string\" } } } } } }","title":"JSON Patch"},{"location":"concepts/threads/files/#weather","text":"A stream of forecasts from Dark Sky weather data Example { \"pin\" : true , \"mill\" : \"/json\" , \"json_schema\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Forecast\" , \"definitions\" : { \"Alert\" : { \"required\" : [ \"description\" , \"expires\" , \"time\" , \"title\" , \"uri\" ], \"properties\" : { \"description\" : { \"type\" : \"string\" }, \"expires\" : { \"type\" : \"integer\" }, \"time\" : { \"type\" : \"integer\" }, \"title\" : { \"type\" : \"string\" }, \"uri\" : { \"type\" : \"string\" } }, \"additionalProperties\" : false , \"type\" : \"object\" }, \"Flags\" : { \"required\" : [ \"units\" ], \"properties\" : { \"units\" : { \"type\" : \"string\" } }, \"additionalProperties\" : false , \"type\" : \"object\" }, \"Forecast\" : { \"required\" : [ \"currently\" , \"code\" , \"flags\" , \"latitude\" , \"longitude\" , \"offset\" , \"timezone\" ], \"properties\" : { \"alerts\" : { \"items\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Alert\" }, \"type\" : \"array\" }, \"code\" : { \"type\" : \"integer\" }, \"currently\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Weather\" }, \"error\" : { \"type\" : \"string\" }, \"flags\" : { \"$schema\" : \"http://json-schema.org/draft-04/schema#\" , \"$ref\" : \"#/definitions/Flags\" }, \"latitude\" : { \"type\" : \"number\" }, \"longitude\" : { \"type\" : \"number\" }, \"offset\" : { \"type\" : \"number\" }, \"timezone\" : { \"type\" : \"string\" } }, \"additionalProperties\" : false , \"type\" : \"object\" }, \"Weather\" : { \"required\" : [ \"apparentTemperature\" , \"apparentTemperatureMax\" , \"apparentTemperatureMaxTime\" , \"apparentTemperatureMin\" , \"apparentTemperatureMinTime\" , \"cloudCover\" , \"dewPoint\" , \"humidity\" , \"icon\" , \"nearestStormDistance\" , \"nearestStormBearing\" , \"ozone\" , \"precipIntensity\" , \"precipIntensityMax\" , \"precipIntensityMaxTime\" , \"precipProbability\" , \"precipType\" , \"pressure\" , \"summary\" , \"sunriseTime\" , \"sunsetTime\" , \"temperature\" , \"temperatureMax\" , \"temperatureMaxTime\" , \"temperatureMin\" , \"temperatureMinTime\" , \"time\" , \"visibility\" , \"windBearing\" , \"windSpeed\" ], \"properties\" : { \"apparentTemperature\" : { \"type\" : \"number\" }, \"apparentTemperatureMax\" : { \"type\" : \"number\" }, \"apparentTemperatureMaxTime\" : { \"type\" : \"integer\" }, \"apparentTemperatureMin\" : { \"type\" : \"number\" }, \"apparentTemperatureMinTime\" : { \"type\" : \"integer\" }, \"cloudCover\" : { \"type\" : \"number\" }, \"dewPoint\" : { \"type\" : \"number\" }, \"humidity\" : { \"type\" : \"number\" }, \"icon\" : { \"type\" : \"string\" }, \"nearestStormBearing\" : { \"type\" : \"number\" }, \"nearestStormDistance\" : { \"type\" : \"number\" }, \"ozone\" : { \"type\" : \"number\" }, \"precipIntensity\" : { \"type\" : \"number\" }, \"precipIntensityMax\" : { \"type\" : \"number\" }, \"precipIntensityMaxTime\" : { \"type\" : \"integer\" }, \"precipProbability\" : { \"type\" : \"number\" }, \"precipType\" : { \"type\" : \"string\" }, \"pressure\" : { \"type\" : \"number\" }, \"summary\" : { \"type\" : \"string\" }, \"sunriseTime\" : { \"type\" : \"integer\" }, \"sunsetTime\" : { \"type\" : \"integer\" }, \"temperature\" : { \"type\" : \"number\" }, \"temperatureMax\" : { \"type\" : \"number\" }, \"temperatureMaxTime\" : { \"type\" : \"integer\" }, \"temperatureMin\" : { \"type\" : \"number\" }, \"temperatureMinTime\" : { \"type\" : \"integer\" }, \"time\" : { \"type\" : \"integer\" }, \"visibility\" : { \"type\" : \"number\" }, \"windBearing\" : { \"type\" : \"number\" }, \"windSpeed\" : { \"type\" : \"number\" } }, \"additionalProperties\" : false , \"type\" : \"object\" } } } }","title":"Weather"},{"location":"concepts/threads/files/#mills","text":"The meta and content node pairs in a files DAG are generated by file mills . Mills serve three distinct purposes: Validate the input against accepted media types. The JSON mill will also validate the input against a JSON Schema . Transform the input data, e.g., encode, resample, encrypt, etc. Index a metadata object (JSON) describing the transformed output. This allows thread content to be efficiently queried and provides a mechanism for de-duplicating encrypted data.","title":"Mills"},{"location":"concepts/threads/files/#endpoints","text":"","title":"Endpoints"},{"location":"concepts/threads/files/#blob","text":"Passthrough (output equals input)","title":"blob"},{"location":"concepts/threads/files/#schema","text":"Validate and returns a schema (JSON)","title":"schema"},{"location":"concepts/threads/files/#json","text":"Validates a JSON document against a JSON Schema","title":"json"},{"location":"concepts/threads/files/#imageresize","text":"Resizes and/or resamples an input image","title":"image/resize"},{"location":"concepts/threads/files/#imageexif","text":"Extracts EXIF data from an input image Applications are free to define new mills. Simply conform to the Mill interface: type Result struct { File [] byte Meta map [ string ] interface {} } type Mill interface { ID () string Encrypt () bool // encryption allowed Pin () bool // pin by default AcceptMedia ( media string ) error Options ( add map [ string ] interface {}) ( string , error ) Mill ( input [] byte , name string ) ( * Result , error ) } Hint We have planned support for audio and video mills. Let us know if there are other mill types you need, e.g., PDF, XML, etc.","title":"image/exif"},{"location":"install/desktop/","text":"Warning The desktop tray is very new and should be considered unstable until further notice. Textile provides a \"tray\" (or taskbar) application, which can manage one or more account peers for your laptop or desktop. Using a client library , other desktop or web applications can be quickly built on top of the running peer's localhost HTTP API. The tray will soon ship with Photos Desktop pre-installed, as the first \"app\". Please contact us if you'd like to learn more about developing against Textile Desktop. Tip The tray can be paired with your other account peers running on your other devices. After the initial pairing, your threads will auto-magically stay in sync. Install \u00b6 Download and extract the latest release for your OS and architecture. macOS and Linux: \u00b6 tar xvfz Textile_$VERSION_$OS-$ARCH.tar.gz Move Textile into your application folder. Windows \u00b6 Extract the zip file and move Textile.exe into your applications folder. Run \u00b6 Double-click the application. After a few moments, you should see the Textile icon in your taskbar. Click it to reveal the tray's UI. Existing accounts will appear in the dropdown menu. Click \"New\" to initialize a new account. Textile uses a hierarchical deterministic (HD) wallet to derive account keys from a set of unique words, called a mnemonic phrase . Read more about the wallet here . Every key \"inside\" an HD wallet can be derived from this mnemonic phrase. Effectively, the wallet is the mnemonic phrase. So, by clicking \"Create\" on this screen, you are creating an entirely new and unique wallet. By default, the tray app will use the first account key in the wallet to initialize an account peer. However, a wallet can derive an infinite number of account keys. You can optionally add a password that will be required along with your mnemonic phrase when accessing the wallet's account keys. If supplied, this same password will be used to encrypt the account peer's datastore at rest . The datastore will not be encrypted if the password field is left blank. The \"Refresh\" button simply re-generates the wallet. You can do this as many times as you like. Once you're signed into an account, set a global avatar and display name for your peer. You can click \"Threads\" to preview the datasets accessible by your peer. The \"Sync\" button searches for and syncs with other peers that share your account key. Lastly, registering your peer with an always-online cafe is highly recommended. See this section of the tour for details. Click \"Messages\" to manually query your cafe(s) for new messages that may have been received from others when your peer was offline or otherwise unreachable. This is also automatically done on an interval. Success You're up and running with the desktop tray! Now you're ready to start the tour !","title":"Desktop"},{"location":"install/desktop/#install","text":"Download and extract the latest release for your OS and architecture.","title":"Install"},{"location":"install/desktop/#macos-and-linux","text":"tar xvfz Textile_$VERSION_$OS-$ARCH.tar.gz Move Textile into your application folder.","title":"macOS and Linux:"},{"location":"install/desktop/#windows","text":"Extract the zip file and move Textile.exe into your applications folder.","title":"Windows"},{"location":"install/desktop/#run","text":"Double-click the application. After a few moments, you should see the Textile icon in your taskbar. Click it to reveal the tray's UI. Existing accounts will appear in the dropdown menu. Click \"New\" to initialize a new account. Textile uses a hierarchical deterministic (HD) wallet to derive account keys from a set of unique words, called a mnemonic phrase . Read more about the wallet here . Every key \"inside\" an HD wallet can be derived from this mnemonic phrase. Effectively, the wallet is the mnemonic phrase. So, by clicking \"Create\" on this screen, you are creating an entirely new and unique wallet. By default, the tray app will use the first account key in the wallet to initialize an account peer. However, a wallet can derive an infinite number of account keys. You can optionally add a password that will be required along with your mnemonic phrase when accessing the wallet's account keys. If supplied, this same password will be used to encrypt the account peer's datastore at rest . The datastore will not be encrypted if the password field is left blank. The \"Refresh\" button simply re-generates the wallet. You can do this as many times as you like. Once you're signed into an account, set a global avatar and display name for your peer. You can click \"Threads\" to preview the datasets accessible by your peer. The \"Sync\" button searches for and syncs with other peers that share your account key. Lastly, registering your peer with an always-online cafe is highly recommended. See this section of the tour for details. Click \"Messages\" to manually query your cafe(s) for new messages that may have been received from others when your peer was offline or otherwise unreachable. This is also automatically done on an interval. Success You're up and running with the desktop tray! Now you're ready to start the tour !","title":"Run"},{"location":"install/the-daemon/","text":"All desktop and server peers run as a daemon, which contains an embedded IPFS node. Much like the IPFS daemon, the program ( textile ) ships with a command-line client. The daemon can be used to run an account peer or a cafe peer . Info A daemon is a program that operates as a long-running 'background' process (without a terminal or user interface). In most cases, the daemon exposes a network API (usually HTTP / TCP) that allows other programs to interact with it while it's running. Most daemons ship with a command-line client for this API. Install \u00b6 Download and extract the latest release for your OS and architecture or jump to Docker . macOS and Linux: \u00b6 tar xvfz go-textile_$VERSION_$OS-$ARCH.tar.gz Move textile anyplace in your PATH or run the install script, which puts it in /usr/local/bin : ./install.sh Windows \u00b6 Extract the zip file and move textile.exe anyplace in your PATH . Docker \u00b6 See available tags here . Run \u00b6 Once you have textile available on your system, you can run your own peer. Create a new wallet \u00b6 The first step is to create a new wallet . Textile uses a hierarchical deterministic (HD) wallet to derive account keys from a set of unique words, called a mnemonic phrase . Initialize a wallet with the command-line client (this will not persist anything to your filesystem): textile wallet init This will output something like, -------------------------------------------------------------------------------- | field speak key various picture captain laugh produce word cage estate space | -------------------------------------------------------------------------------- WARNING! Store these words above in a safe place! WARNING! If you lose your words, you will lose access to data in all derived accounts! WARNING! Anyone who has access to these words can access your wallet accounts! Use: `wallet accounts` command to inspect more accounts. --- ACCOUNT 0 --- P8sRrQuvwTCisEg3jndAWtNTbkqnrisHbxEutSm1AvC5qJA1 SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 You may optionally specify a word count and password that will be required along with your mnemonic phrase when accessing the wallet's account keys (run with --help for usage). Info Every key \"inside\" an HD wallet can be derived from this mnemonic phrase. Effectively, the wallet is the mnemonic phrase. The output contains information about the wallet's first account, or the keys at index 0 . Account seeds (private keys) always starts with an \"S\" for \"secret\" and account addresses (public keys) always start with a \"P\" for \"public\". Access wallet accounts \u00b6 Most users will only be interested in the first account keys, but you can access deeper indexes with the accounts sub-command: textile wallet accounts \"field speak key various picture captain laugh produce word cage estate space\" --depth 3 --- ACCOUNT 0 --- P8sRrQuvwTCisEg3jndAWtNTbkqnrisHbxEutSm1AvC5qJA1 SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 --- ACCOUNT 1 --- P5rVWTKLKQFq42Ht7mdab9P3fSmyZyh2zWGHzLE8aipgoyRU SXw4tZNxnajX2PuurVBde8wCzfX9DfskC47QQB4hJgBKGAPq --- ACCOUNT 2 --- P7d43jRarv7k5e5WHmpDWuLevambQVu1YhrJ5CoRRfExLEwc SYEv4DMBd9RHHKzUZxC5fpieWJAiSCMNnMCKWSYUFaVHKQkt See textile wallet accounts --help for more. Initialize an account peer \u00b6 Next, use an account seed from your wallet to initialize a new account peer. Here, we just grab the account seed from the first account above: textile init --seed SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 Danger Use your own seed. Never share it or your wallet mnemonic phrase with anyone! There are a dozen or so additional options that are available when initializing. textile init --help : Usage: textile [OPTIONS] init [init-OPTIONS] Initialize the node repository and exit. Help Options: -h, --help Show this help message [init command options] -s, --seed= Account seed (run 'wallet' command to generate new seeds). -p, --pin-code= Specify a pin code for datastore encryption. -r, --repo-dir= Specify a custom repository path. Address Options: -a, --api-bind-addr= Set the local API address. (default: 127.0.0.1:40600) -c, --cafe-bind-addr= Set the cafe REST API address. (default: 127.0.0.1:40601) -g, --gateway-bind-addr= Set the IPFS gateway address. (default: 127.0.0.1:5050) Cafe Options: --cafe-open Open the p2p Cafe Service for other peers. --cafe-public-ip= Required with --cafe-open on a server with a public IP address. --cafe-url= Specify the URL of this cafe, e.g., https://mycafe.com --cafe-neighbor-url= Specify the URL of a secondary cafe. Must return cafe info, e.g., via a Gateway: https://my-gateway.yolo.com/cafe, or a Cafe API: https://my-cafe.yolo.com IPFS Options: --server Apply IPFS server profile. --swarm-ports= Set the swarm ports (TCP,WS). Random ports are chosen by default. Log Options: -n, --no-log-files Write logs to stdout instead of rolling files. -d, --debug Set the logging level to debug. Anyone familiar with IPFS will recognize the similarities with these steps. Much like ipfs init , textile init creates an IPFS node repository on disk. Initialize a cafe peer \u00b6 Anyone can run a cafe peer and offer services to the network. You do not need to rely on Textile's cafe network, or anyone else's network for that matter! Cafe peers are initialized by adding some additional flags to textile init : textile init --seed SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 --server --cafe-open --server : This flag applies the IPFS server profile and is highly recommended for cafe peers. --cafe-open : This flag \"opens\" the cafe, meaning that it will expose an additional \"service\" API over libp2p and HTTP. --cafe-url : Optional, http://<SWARM_IP>:40601 by default. Set this value if your peer is behind a DNS-based load balancer and/or requires HTTPS. For example, Textile's federated cafes run behind EC2 load balancers with HTTPS listeners, which route traffic to the cafe API port ( --cafe-bind-addr ). See Cafe.CafeHost.URL for details on how the default value of SWARM_IP is determined. Info Cafe service clients are issued JWT sessions used for authentication. These sessions contain the public URL of the cafe peer's service API so that it can be leveraged over HTTP. Later, when the peer is started, it's service info will be visible at the cafe URL, e.g., https://us-west-1c.textile.cafe . { \"peer\": \"12D3KooWQue2dSRqnZTVvikoxorZQ5Qyyug3hV65rYnWYpYsNMRE\", \"address\": \"P6th8SM6V3uSVQWgQz8AkFos3rwYzky2K7Bt6vx4h1jZGZne\", \"api\": \"v0\", \"protocol\": \"/textile/cafe/1.0.0\", \"node\": \"0.1.11\", \"url\": \"https://us-west-1c.textile.cafe\", \"swarm\": [ \"/ip4/13.57.23.210/tcp/4001\", \"/ip6/2600:1f1c:522:b00:2725:b0b3:f39d:c401/tcp/4001\" ] } You can modify the init settings anytime but editing the config file and restarting the peer. Read more about the cafe host config settings here . Run the daemon \u00b6 Now that you have initialized as either an account peer or a cafe peer, you can finally start the daemon: textile daemon See textile daemon --help for more options. Run the daemon with Docker \u00b6 The docker images have internal logic that will fist initialize a peer if needed before starting the daemon, enabling a single run command: Run an account peer with docker \u00b6 docker run -it --name textile-peer \\ -p 4001:4001 -p 8081:8081 -p 5050:5050 -p 127.0.0.1:40600:40600 \\ -v /tmp/textile:/data/textile textile/go-textile:latest Run a cafe peer with docker \u00b6 docker run -it --name textile-cafe-peer \\ -p 4001:4001 -p 8081:8081 -p 5050:5050 -p 127.0.0.1:40600:40600 -p 40601:40601 \\ -v /tmp/textile:/data/textile textile/go-textile:latest-cafe You may need to include -e CAFE_HOST_URL=\"https://mycafe.com\" or similar if the cafe peer will behind a DNS-based load balancer or required HTTPS. See the init section above for more. Success At last, your Textile peer is online. Now you're ready to start the tour !","title":"The Daemon"},{"location":"install/the-daemon/#install","text":"Download and extract the latest release for your OS and architecture or jump to Docker .","title":"Install"},{"location":"install/the-daemon/#macos-and-linux","text":"tar xvfz go-textile_$VERSION_$OS-$ARCH.tar.gz Move textile anyplace in your PATH or run the install script, which puts it in /usr/local/bin : ./install.sh","title":"macOS and Linux:"},{"location":"install/the-daemon/#windows","text":"Extract the zip file and move textile.exe anyplace in your PATH .","title":"Windows"},{"location":"install/the-daemon/#docker","text":"See available tags here .","title":"Docker"},{"location":"install/the-daemon/#run","text":"Once you have textile available on your system, you can run your own peer.","title":"Run"},{"location":"install/the-daemon/#create-a-new-wallet","text":"The first step is to create a new wallet . Textile uses a hierarchical deterministic (HD) wallet to derive account keys from a set of unique words, called a mnemonic phrase . Initialize a wallet with the command-line client (this will not persist anything to your filesystem): textile wallet init This will output something like, -------------------------------------------------------------------------------- | field speak key various picture captain laugh produce word cage estate space | -------------------------------------------------------------------------------- WARNING! Store these words above in a safe place! WARNING! If you lose your words, you will lose access to data in all derived accounts! WARNING! Anyone who has access to these words can access your wallet accounts! Use: `wallet accounts` command to inspect more accounts. --- ACCOUNT 0 --- P8sRrQuvwTCisEg3jndAWtNTbkqnrisHbxEutSm1AvC5qJA1 SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 You may optionally specify a word count and password that will be required along with your mnemonic phrase when accessing the wallet's account keys (run with --help for usage). Info Every key \"inside\" an HD wallet can be derived from this mnemonic phrase. Effectively, the wallet is the mnemonic phrase. The output contains information about the wallet's first account, or the keys at index 0 . Account seeds (private keys) always starts with an \"S\" for \"secret\" and account addresses (public keys) always start with a \"P\" for \"public\".","title":"Create a new wallet"},{"location":"install/the-daemon/#access-wallet-accounts","text":"Most users will only be interested in the first account keys, but you can access deeper indexes with the accounts sub-command: textile wallet accounts \"field speak key various picture captain laugh produce word cage estate space\" --depth 3 --- ACCOUNT 0 --- P8sRrQuvwTCisEg3jndAWtNTbkqnrisHbxEutSm1AvC5qJA1 SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 --- ACCOUNT 1 --- P5rVWTKLKQFq42Ht7mdab9P3fSmyZyh2zWGHzLE8aipgoyRU SXw4tZNxnajX2PuurVBde8wCzfX9DfskC47QQB4hJgBKGAPq --- ACCOUNT 2 --- P7d43jRarv7k5e5WHmpDWuLevambQVu1YhrJ5CoRRfExLEwc SYEv4DMBd9RHHKzUZxC5fpieWJAiSCMNnMCKWSYUFaVHKQkt See textile wallet accounts --help for more.","title":"Access wallet accounts"},{"location":"install/the-daemon/#initialize-an-account-peer","text":"Next, use an account seed from your wallet to initialize a new account peer. Here, we just grab the account seed from the first account above: textile init --seed SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 Danger Use your own seed. Never share it or your wallet mnemonic phrase with anyone! There are a dozen or so additional options that are available when initializing. textile init --help : Usage: textile [OPTIONS] init [init-OPTIONS] Initialize the node repository and exit. Help Options: -h, --help Show this help message [init command options] -s, --seed= Account seed (run 'wallet' command to generate new seeds). -p, --pin-code= Specify a pin code for datastore encryption. -r, --repo-dir= Specify a custom repository path. Address Options: -a, --api-bind-addr= Set the local API address. (default: 127.0.0.1:40600) -c, --cafe-bind-addr= Set the cafe REST API address. (default: 127.0.0.1:40601) -g, --gateway-bind-addr= Set the IPFS gateway address. (default: 127.0.0.1:5050) Cafe Options: --cafe-open Open the p2p Cafe Service for other peers. --cafe-public-ip= Required with --cafe-open on a server with a public IP address. --cafe-url= Specify the URL of this cafe, e.g., https://mycafe.com --cafe-neighbor-url= Specify the URL of a secondary cafe. Must return cafe info, e.g., via a Gateway: https://my-gateway.yolo.com/cafe, or a Cafe API: https://my-cafe.yolo.com IPFS Options: --server Apply IPFS server profile. --swarm-ports= Set the swarm ports (TCP,WS). Random ports are chosen by default. Log Options: -n, --no-log-files Write logs to stdout instead of rolling files. -d, --debug Set the logging level to debug. Anyone familiar with IPFS will recognize the similarities with these steps. Much like ipfs init , textile init creates an IPFS node repository on disk.","title":"Initialize an account peer"},{"location":"install/the-daemon/#initialize-a-cafe-peer","text":"Anyone can run a cafe peer and offer services to the network. You do not need to rely on Textile's cafe network, or anyone else's network for that matter! Cafe peers are initialized by adding some additional flags to textile init : textile init --seed SSkyezjKSb979BYYkwhgbq8GyB5HRry3gtf8CJBaNRKpFdt6 --server --cafe-open --server : This flag applies the IPFS server profile and is highly recommended for cafe peers. --cafe-open : This flag \"opens\" the cafe, meaning that it will expose an additional \"service\" API over libp2p and HTTP. --cafe-url : Optional, http://<SWARM_IP>:40601 by default. Set this value if your peer is behind a DNS-based load balancer and/or requires HTTPS. For example, Textile's federated cafes run behind EC2 load balancers with HTTPS listeners, which route traffic to the cafe API port ( --cafe-bind-addr ). See Cafe.CafeHost.URL for details on how the default value of SWARM_IP is determined. Info Cafe service clients are issued JWT sessions used for authentication. These sessions contain the public URL of the cafe peer's service API so that it can be leveraged over HTTP. Later, when the peer is started, it's service info will be visible at the cafe URL, e.g., https://us-west-1c.textile.cafe . { \"peer\": \"12D3KooWQue2dSRqnZTVvikoxorZQ5Qyyug3hV65rYnWYpYsNMRE\", \"address\": \"P6th8SM6V3uSVQWgQz8AkFos3rwYzky2K7Bt6vx4h1jZGZne\", \"api\": \"v0\", \"protocol\": \"/textile/cafe/1.0.0\", \"node\": \"0.1.11\", \"url\": \"https://us-west-1c.textile.cafe\", \"swarm\": [ \"/ip4/13.57.23.210/tcp/4001\", \"/ip6/2600:1f1c:522:b00:2725:b0b3:f39d:c401/tcp/4001\" ] } You can modify the init settings anytime but editing the config file and restarting the peer. Read more about the cafe host config settings here .","title":"Initialize a cafe peer"},{"location":"install/the-daemon/#run-the-daemon","text":"Now that you have initialized as either an account peer or a cafe peer, you can finally start the daemon: textile daemon See textile daemon --help for more options.","title":"Run the daemon"},{"location":"install/the-daemon/#run-the-daemon-with-docker","text":"The docker images have internal logic that will fist initialize a peer if needed before starting the daemon, enabling a single run command:","title":"Run the daemon with Docker"},{"location":"install/the-daemon/#run-an-account-peer-with-docker","text":"docker run -it --name textile-peer \\ -p 4001:4001 -p 8081:8081 -p 5050:5050 -p 127.0.0.1:40600:40600 \\ -v /tmp/textile:/data/textile textile/go-textile:latest","title":"Run an account peer with docker"},{"location":"install/the-daemon/#run-a-cafe-peer-with-docker","text":"docker run -it --name textile-cafe-peer \\ -p 4001:4001 -p 8081:8081 -p 5050:5050 -p 127.0.0.1:40600:40600 -p 40601:40601 \\ -v /tmp/textile:/data/textile textile/go-textile:latest-cafe You may need to include -e CAFE_HOST_URL=\"https://mycafe.com\" or similar if the cafe peer will behind a DNS-based load balancer or required HTTPS. See the init section above for more. Success At last, your Textile peer is online. Now you're ready to start the tour !","title":"Run a cafe peer with docker"},{"location":"policies/code-of-conduct/","text":"Our Pledge \u00b6 In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation. Our Standards \u00b6 Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting Our Responsibilities \u00b6 Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful. Scope \u00b6 This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers. Enforcement \u00b6 Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at contact@textile.io . All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership. Attribution \u00b6 This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at http://contributor-covenant.org/version/\u00bc","title":"Code of Conduct"},{"location":"policies/code-of-conduct/#our-pledge","text":"In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.","title":"Our Pledge"},{"location":"policies/code-of-conduct/#our-standards","text":"Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting","title":"Our Standards"},{"location":"policies/code-of-conduct/#our-responsibilities","text":"Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.","title":"Our Responsibilities"},{"location":"policies/code-of-conduct/#scope","text":"This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.","title":"Scope"},{"location":"policies/code-of-conduct/#enforcement","text":"Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at contact@textile.io . All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.","title":"Enforcement"},{"location":"policies/code-of-conduct/#attribution","text":"This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at http://contributor-covenant.org/version/\u00bc","title":"Attribution"},{"location":"policies/license/","text":"Unless otherwise explicitly stated, all Textile code and software products are licensed under the following license: MIT License \u00b6 Copyright \u00a9 2018, 2019 Textile Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"License"},{"location":"policies/license/#mit-license","text":"Copyright \u00a9 2018, 2019 Textile Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"policies/privacy-policy/","text":"Textile provides exchange and storage of encrypted personal data. We cannot decrypt or otherwise access the data you privately store or share with your contacts. You can choose to share your data such as photos in public forums whereby anyone can view the data contents. Textile provides remote data storage for users on the IPFS network (see https://ipfs.io/ ). The IPFS protocol has no mechanisms for deletion of data once added, so instead, we allow users to 'revoke' their data, such that all servers in the IPFS network run through Textile (including those in the mobile app) will discontinue the hosting and displaying of said data. When you share photos in group forums (\"Threads\"), the encryption keys for the data (full resolution photo, lower resolution copies, and basic metadata) are shared with Thread members and are visible to anyone with the keys to that Thread. Keys are distributed whenever you, or another Thread member, invite new members to the Thread. The encrypted data shared in Threads are distributed over a network of voluntary IPFS servers that no single member, or the Textile organization, controls. Read more about public-key cryptography and the IPFS protocol if you are interested in how this works. Information We Have \u00b6 Certain information (e.g. a user identifier, group identifiers, encrypted data, etc.) is transmitted to us solely for the purpose of transmitting messages. Unless otherwise stated below, this information is only kept as long as necessary to place each call or transmit each message, and is not used for any other purpose. Information we store The identifier you register with. The email contact address of any new user you invite to the network. Encrypted contents of Threads may be cached or hosted on voluntary IPFS hosts. By opt-in, you may request Textile to manage the hosting of your encrypted data on remote IPFS peers. Textile will store and mange the encrypted data, plus an index to each entry you create in order to provide an account quota. By opt-in, you may request Textile to maintain an encrypted copy of your private wallet, including your private data index. Your private wallet includes metadata about photos in your account, Threads you participate in, and Contacts you have. If a user decides to opt-in, only a privately encrypted copy of the wallet will be stored by Textile, all contents will only be readable by the user with access to their private keys. Transient information IP addresses may be kept for up to 90 days for rate limiting and to prevent abuse. Textile is currently collecting performance metrics and critical issues detected in our software. This data may be kept for up to a year. In the future, we will allow users to opt-out of this behavior. This data is collected using a third party service, Crashlytics . Information We May Share \u00b6 We do not share your information with companies, organizations, and individuals outside of Textile unless one of the following circumstances applies: With your consent. The data is encrypted and stored on IPFS hosts. When legally required. We will share the information we have with entities outside of Textile if we have a good faith belief that access, use, preservation, or disclosure of the information is necessary to: meet any applicable law, regulation, legal process or enforceable governmental request. enforce applicable Terms of Service, including investigation of potential violations. detect, prevent, or otherwise address fraud, security, or technical issues. protect against harm to the rights, property, or safety of Textile, our users, or the public as required or permitted by law. We will update this privacy policy as needed so that it is current, accurate, and as clear as possible. Please contact us with any questions at contact@textile.io Changelog \u00b6 09.12.18: Clarified the introduction, specifically what information is passing through IPFS and where it may be hosted. Clarified the collection of crash and bug reporting. Clarified the future opt-in for backup services. Minor typo fixes.","title":"Privacy Policy"},{"location":"policies/privacy-policy/#information-we-have","text":"Certain information (e.g. a user identifier, group identifiers, encrypted data, etc.) is transmitted to us solely for the purpose of transmitting messages. Unless otherwise stated below, this information is only kept as long as necessary to place each call or transmit each message, and is not used for any other purpose. Information we store The identifier you register with. The email contact address of any new user you invite to the network. Encrypted contents of Threads may be cached or hosted on voluntary IPFS hosts. By opt-in, you may request Textile to manage the hosting of your encrypted data on remote IPFS peers. Textile will store and mange the encrypted data, plus an index to each entry you create in order to provide an account quota. By opt-in, you may request Textile to maintain an encrypted copy of your private wallet, including your private data index. Your private wallet includes metadata about photos in your account, Threads you participate in, and Contacts you have. If a user decides to opt-in, only a privately encrypted copy of the wallet will be stored by Textile, all contents will only be readable by the user with access to their private keys. Transient information IP addresses may be kept for up to 90 days for rate limiting and to prevent abuse. Textile is currently collecting performance metrics and critical issues detected in our software. This data may be kept for up to a year. In the future, we will allow users to opt-out of this behavior. This data is collected using a third party service, Crashlytics .","title":"Information We Have"},{"location":"policies/privacy-policy/#information-we-may-share","text":"We do not share your information with companies, organizations, and individuals outside of Textile unless one of the following circumstances applies: With your consent. The data is encrypted and stored on IPFS hosts. When legally required. We will share the information we have with entities outside of Textile if we have a good faith belief that access, use, preservation, or disclosure of the information is necessary to: meet any applicable law, regulation, legal process or enforceable governmental request. enforce applicable Terms of Service, including investigation of potential violations. detect, prevent, or otherwise address fraud, security, or technical issues. protect against harm to the rights, property, or safety of Textile, our users, or the public as required or permitted by law. We will update this privacy policy as needed so that it is current, accurate, and as clear as possible. Please contact us with any questions at contact@textile.io","title":"Information We May Share"},{"location":"policies/privacy-policy/#changelog","text":"09.12.18: Clarified the introduction, specifically what information is passing through IPFS and where it may be hosted. Clarified the collection of crash and bug reporting. Clarified the future opt-in for backup services. Minor typo fixes.","title":"Changelog"},{"location":"policies/terms-of-service/","text":"Last updated: 09/12/18 Welcome to Textile. Please read these terms of service (these \u201c Terms \u201d) carefully as they form a contract between you and We Are Set, Inc, a Delaware corporation ( Textile , \u201c we \u201d, \u201c us \u201d, or \u201c our \u201d), that governs your access and use of (i) the web verification and encryption solution software provided by Textile (the \u201c Software \u201d); (ii) the Textile websites at textile.io and textile.photos (the \u201c Site \u201d); and (iii) any written or electronic use or features guides or other documentation provided or made available by Textile (the \u201c User Guides \u201d) (collectively the \u201c Service(s) \u201d). By registering or using any of the Services you agree to be bound by these Terms. If you are using the Services on behalf of an organization, you are agreeing to these Terms for that organization and promising to Textile that you have the authority to bind that organization to these Terms (in which event, \u201cyou\u201d and \u201cyour\u201d will refer to that organization). You may use the Services only in compliance with these Terms and only if you have the power to form a contract with Textile and are not barred under any applicable laws from doing so. IF YOU DO NOT AGREE TO BE BOUND BY THESE TERMS, YOU MUST NOT USE THE SERVICES . Should you have any questions concerning this Agreement, please contact privacy@textile.io . Please note that Textile does not provide warranties for the Services. This contract also limits our liability to you and contains an arbitration provision and a class action waiver. See Sections 14 (NO WARRANTY), 16 (LIMITATION OF LIABILITY) and 19 (ARBITRATION) of these Terms for details. 1. ABOUT THE SERVICE \u00b6 The Service offers verification and authentication services and encryption services for users of photos and other personally collected data. The Service provides a private data storage system (\" Storage \") for users to maintain remote copies of their privately encrypted data. Storage is managed on IPFS ( https://www.ipfs.io/ ) nodes running on a user's personal device. The Service allows users to sync encrypted copies of their data privately with other devices. The service also allows users to create groups of multiple people who all use a shared encryption key to post, comment, and interact with encrypted photos and other data shared by group members (\" Sharing \" and \" Threads \"). Copies of data will be cached, on voluntary IPFS peers on the network including peers hosted by Textile, whenever a user shares data in a group Thread. Cached copies of shared data will be encrypted with keys only available to Thread members and so not readable by anyone else on the network. 2. CHANGES TO THESE TERMS \u00b6 We reserve the right to revise these Terms from time to time. We will date and post the most current version of these Terms on the Site. Any changes will be effective upon posting the revised version of these Terms (or such later effective date as may be indicated at the top of the revised Terms). If, in our sole discretion, we deem a revision to these Terms to be material, we will notify you via the Service and/or by email to the email address associated with your account. Notice of other changes may be provided via the Site. Therefore, we encourage you to check the date of these Terms whenever you visit the Site to see if these Terms have been updated. Your continued access or use of any portion of the Service constitutes your acceptance of such changes. If you don\u2019t agree to any of the changes, we\u2019re not obligated to keep providing the Service to you, and you must cancel and stop using the Service. 3. ACCESS TO THE SERVICE \u00b6 You may use the Service, on a non-exclusive basis, solely in strict compliance with these Terms and all applicable laws. 4. YOUR ACCOUNT \u00b6 To obtain access to certain Services, you may be required to obtain an account with Textile (become a \u201c Registered User \u201d), by completing a registration form and designating a user ID and password. Until you apply for and are approved for an account your access to the Service will be limited to the areas of the Service, if any, that Textile makes available to the general public. When registering with Textile you must: (a) provide true, accurate, current and complete information about yourself as requested by the Service\u2019s registration form (such information being the \u201c Registration Data \u201d); and (b) maintain and promptly update the Registration Data to keep it true, accurate, current and complete. Textile may deny approval or withdraw such approval at any time in its sole discretion, with or without cause. Only you may use your Textile account. You must keep your account and passwords confidential and not authorize any third party to access or use the Service on your behalf, unless we provide an approved mechanism for such use. Textile will not be liable for any loss or damage arising from any unauthorized use of your accounts. CONTENT When providing Textile or the Service with content, such as your name, username, photos, social media names, location, data or files, or causing content to be posted, stored or transmitted using or through the Service (\u201c Your Content \u201d), including but not limited to the Registration Data and any other personal identification information that you provide, you hereby grant to us a non-exclusive, worldwide, perpetual, irrevocable, royalty-free, transferable (in whole or in part), fully-paid and sublicensable right, subject to the Privacy Policy, to use, reproduce, modify, transmit, display and distribute Your Content in any media known now or developed in the future, in connection with our provision of the Service. Further, to the fullest extent permitted under applicable law, you waive your moral rights and promise not to assert such rights or any other intellectual property or publicity rights against us, our sublicensees, or our assignees. You represent and warrant that none of the following infringe any intellectual property, publicity or other proprietary rights: your provision of Your Content to us, your causing Your Content to be posted using the Service, and use of any such content (including of works derived from it) by us, other users of the Service, or others in contract with us that is done in connection with the Service and in compliance with these Terms. You acknowledge and agree that we may access or disclose information about you or any other information or data collected, stored or processed on our servers, including Your Content, if required to do so by law or in the good-faith belief that such action is necessary to: (a) comply with any law, regulation, legal process or lawful governmental requests; (b) protect the rights or property of Textile or our customers, including the enforcement of our agreements or policies governing your use of the Service; or \u00a9 act on a good faith belief that such access or disclosure is necessary to protect the personal safety of Textile employees, customers, or the public. We retain the right to block or otherwise prevent delivery of any type of file, email or other communication to or from the Service as part of our efforts to protect the Service, protect our customers, or stop you from breaching these Terms. 6. CONSENT TO ELECTRONIC COMMUNICATIONS AND SOLICITATION \u00b6 By registering for the Service, you understand that we may send you communications or data regarding the Services, including but not limited to: (a) notices about your use of the Services, including any notices concerning violations of use; (b) updates; and \u00a9 promotional information and materials regarding Textile\u2019s products and services, via electronic mail. We give you the opportunity to opt-out of receiving promotional electronic mail from us by following the opt-out instructions provided in the message. 8. SUSPENSION AND TERMINATION OF USE OF THE SERVICE \u00b6 We reserve the right, to temporarily suspend or terminate your access to the Service at any time in our sole discretion, with or without cause, with or without notice, and without incurring liability of any kind. For example, we may suspend or terminate your access to or use of the Service for: (a) the actual or suspected violation of these Terms; (b) the use of the Services in a manner that may cause Textile to have legal liability or disrupt others\u2019 use of the Services; \u00a9 the suspicion or detection of any malicious code, virus or other harmful code by you or in your account; (d) scheduled downtime and recurring downtime; (e) any actual or suspected effort by you to circumvent Textile\u2019s security or encryption; or (f) unplanned technical problems and outages. If, in Textile\u2019s determination, the suspension might be indefinite and/or Textile has elected to terminate your access to the Service, Textile will use commercially reasonable efforts to notify you through the Service and/or by email to the email address associated with your account. You acknowledge that if your access to the Service is suspended or terminated, you may no longer have access to Your Content that is stored with the Service. 9. ACCEPTABLE USE \u00b6 You must not use the Service to harm others or the Service. For example, you must not use the Service to harm, threaten, or harass another person, organization, or Textile. You must not: damage, disable, overburden, or impair the Service (or any network connected to the Service); resell or redistribute the Service or any part of it; use any unauthorized means to modify, reroute, or gain access to the Service or attempt to carry out these activities; or use any data mining, robots, or similar data gathering and extraction tools; or use any automated process or Service (such as a bot, a spider, or periodic caching of information stored by Textile) to access or use the Service;. In addition, you promise that you will not and will not encourage or assist any third party to: I. reproduce, modify, alter, tamper with, repair or create derivative works of any Software, unless that permission is granted in a license. Further, unless expressly prohibited under applicable law, you may not use the Service to develop, test, validate and/or improve any service that is a substitute for, or substantially similar to, the Service (including any portion thereof); II. reverse engineer, disassemble or decompile the Software used to provide or access the Service, including the Software, or attempt to discover or recreate the source code used to provide or access the Service, except and only to the extent that that permission is granted in a license or applicable law expressly permits doing so; III. use the Service in any manner or for any purpose other than as expressly permitted by these Terms, the Privacy Policy, any User Guides or any other policy, instruction or terms applicable to the Service that are available on the Service (\u201cPolicies\u201d); IV. sell, lend, rent, resell, lease, sublicense or otherwise transfer any of the rights granted to you with respect to the Services to any third party; V. remove, obscure or alter any proprietary rights notice pertaining to the Service; VI. use the Service in connection with the operation of nuclear facilities, aircraft navigation, communication systems, medical devices, air traffic control devices, real time control systems or other situations in which the failure of the Service could lead to death, personal injury, or physical property or environmental damage; VII. use the Service to: (i) engage in any unlawful or fraudulent activity or perpetrate a hoax or engage in phishing schemes or forgery or other similar falsification or manipulation of data; (ii) send unsolicited or unauthorized junk mail, spam, chain letters, pyramid schemes or any other form of duplicative or unsolicited messages, whether commercial or otherwise; (iii) store or transmit any inappropriate content, such as content: (1) containing unlawful, defamatory, threatening, abusive, libelous or otherwise objectionable material of any kind or nature, (2) containing any material that encourages conduct that could constitute a criminal offense, or (3) in a way that violates or infringes upon the intellectual property rights or the privacy or publicity rights of any person or entity or that may otherwise be unlawful or give rise to civil or criminal liability; (iv) store or transmit any content that contains or is used to initiate a denial of service attack, software viruses or other harmful or deleterious computer code, files or programs such as Trojan horses, worms, time bombs, cancelbots, or spyware; or (v) abuse, harass, stalk or otherwise violate the legal rights of a third party; VIII. interfere with or disrupt servers or networks used by Textile to provide the Service or used by other users\u2019 to access the Service, or violate any third party regulations, policies or procedures of such servers or networks or harass or interfere with another user\u2019s full use and enjoyment of any Software or the Service; IX. access or attempt to access Textile\u2019s other accounts, computer systems or networks not covered by these Terms, through password mining or any other means; X. cause, in Textile\u2019s sole discretion, inordinate burden on the Service or Textile\u2019s system resources or capacity; or XI. share passwords or other access information or devices or otherwise authorize any third party to access or use the Software or the Service. Textile reserves the right, in its sole discretion, to deactivate, change and/or require you to change your Textile user ID and any custom or vanity URLs, custom links, or vanity domains you may obtain through the Services for any reason or for no reason. Textile may exercise such right at any time, with or without prior notice. We will make all judgments concerning the applicability of these guidelines in our sole and exclusive discretion. We reserve the right, in our sole discretion, to determine whether and what action to take in response to each such notification, and any action or inaction in a particular instance will not dictate or limit our response to a future complaint. We will not assume or have any liability for any action or inaction with respect to any Your Content. 9. UPDATES TO THE SERVICE \u00b6 Textile reserves the right, in its sole discretion, to make necessary unscheduled deployments of changes, updates or enhancements to the Service at any time. We may add or remove functionalities or features, and we may suspend or stop the Service altogether. 10. SOFTWARE \u00b6 If you receive Software from us, its use is governed in one of two ways: If you\u2019re presented with license terms that you must accept in order to use the Software, those terms apply; if no license is presented to you, these Terms apply. We reserve all other rights to the Software. We may automatically check your version of the Software. We may also automatically download to your computer or device new versions of the Software. Any Software is licensed, not sold. Unless we notify you otherwise, the Software license ends when your Service ends. You must then promptly uninstall the Software, or we may disable it. You must not work around any technical limitations in the Software. The Software is subject to applicable U.S. export laws and regulations. You must comply with all domestic and international export laws and regulations that apply to the Software. These laws include restrictions on destinations, end users, and end use. Without limitation, you may not transfer the Software or Service without U.S. government permission to anyone on U.S. government exclusion lists (see the Commerce Department\u2019s compliance list at http://www.bis.doc.gov/index.php/policy-guidance/lists-of-parties-of-concern . You represent and warrant that you\u2019re not on any of those lists or under the control of or an agent for anyone on those lists or the entities listed above. 11. THIRD PARTY SERVICES AND CONTENT \u00b6 All transactions using the Services are between the transacting parties only. The Services may contain features and functionalities linking you or providing you with certain functionality and access to third party content, including Web sites, directories, servers, networks, systems, information and databases, applications, software, programs, products or services, and the Internet as a whole; you acknowledge that we are not responsible for such content or services. We may also provide some content to you as part of the Services. However, Textile is not an agent of any transacting party, nor or we a direct party in any such transaction. Any such activities, and any terms associated with such activities, are solely between you and the applicable third-party. Similarly, we are not responsible for any third party content you access with the Services, and you irrevocably waive any claim against us with respect to such sites and third-party content. Textile shall have no liability, obligation or responsibility for any such correspondence, purchase or promotion between you and any such third-party. You should make whatever investigation you feel necessary or appropriate before proceeding with any online or offline transaction with any of these third parties. You are solely responsible for your dealings with any third party related to the Services, including the delivery of and payment for goods and services. 12. TEXTILE PROPRIETARY RIGHTS \u00b6 As between Textile and you, Textile or its licensors own and reserve all right, title and interest in and to the Service and all hardware, software and other items used to provide the Service, other than the rights explicitly granted to you to use the Service in accordance with this Terms. No title to or ownership of any proprietary rights related to the Service is transferred to you pursuant to these Terms. All rights not explicitly granted to you are reserved by Textile. In the event that you provide comments, suggestions and recommendations to Textile with respect to the Service (including, without limitation, with respect to modifications, enhancements, improvements and other changes to the Service) (collectively, \u201cFeedback\u201d), you hereby grant to Textile a world-wide, royalty free, irrevocable, perpetual license to use and otherwise incorporate any Feedback in connection with the Service. 13. PRIVACY \u00b6 In order to operate and provide the Service, we collect certain information about you. We use that information as described in the privacy policy located at https://github.com/textileio/textile-mobile/blob/master/PRIVACY.md (\u201c Privacy Policy \u201d). 14. NO WARRANTY \u00b6 TEXTILE PROVIDES THE SERVICE \u201cAS IS\u201d, \u201cWITH ALL FAULTS\u201d AND \u201cAS AVAILABLE\u201d. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, TEXTILE MAKES NO (AND SPECIFICALLY DISCLAIMS ALL) REPRESENTATIONS OR WARRANTIES OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, INCLUDING, WITHOUT LIMITATION, ANY WARRANTY THAT THE SERVICE WILL BE UNINTERRUPTED, ERROR-FREE OR FREE OF HARMFUL COMPONENTS, THAT YOUR CONTENT WILL BE SECURE OR NOT OTHERWISE LOST OR DAMAGED, OR ANY IMPLIED WARRANTY OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT, AND ANY WARRANTY ARISING OUT OF ANY COURSE OF PERFORMANCE, COURSE OF DEALING OR USAGE OF TRADE. SOME JURISDICTIONS DO NOT ALLOW THE FOREGOING EXCLUSIONS. IN SUCH AN EVENT SUCH EXCLUSION WILL NOT APPLY SOLELY TO THE EXTENT PROHIBITED BY APPLICABLE LAW. You hereby acknowledge and agree that this disclaimer of warranties is a fundamental part of the agreement between you and Textile contained in these Terms and that Textile would not agree to enter these Terms or allow you access or use the Service without such disclaimers. 15. INDEMNIFICATION \u00b6 You will defend Textile against any cost, loss, damage, or other liability arising from any third party demand or claim that any Your Content, or your use of the Service, in breach of these Terms: (a) infringes a registered patent, registered trademark, or copyright of a third party, or misappropriates a trade secret (to the extent that such misappropriation is not the result of Textile\u2019s actions); or (b) violates applicable law or these Terms. Textile will reasonably notify you of any such claim or demand that is subject to your indemnification obligation. 16. LIMITATION OF LIABILITY \u00b6 TO THE FULLEST EXTENT PERMITTED BY LAW, IN NO EVENT WILL TEXTILE, ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS OR LICENSORS BE LIABLE FOR: ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE, COVER OR CONSEQUENTIAL DAMAGES, OR DAMAGES FOR LOST PROFITS, REVENUE, GOODWILL, USE OR CONTENT, HOWEVER CAUSED, UNDER ANY THEORY OF LIABILITY, INCLUDING, WITHOUT LIMITATION, CONTRACT, TORT, WARRANTY, NEGLIGENCE OR OTHERWISE, EVEN IF TEXTILE HAS BEEN ADVISED AS TO THE POSSIBILITY OF SUCH DAMAGES. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE AGGREGATE LIABILITY OF TEXTILE AND ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS OR LICENSORS, RELATING TO THE SERVICES WILL BE LIMITED TO FIFTY DOLLARS ($50.00). THE LIMITATIONS AND EXCLUSIONS ALSO APPLY IF THIS REMEDY DOES NOT FULLY COMPENSATE YOU FOR ANY LOSSES OR FAILS OF ITS ESSENTIAL PURPOSE. SOME JURISDICTIONS DO NOT ALLOW THE LIMITATION OF INCIDENTAL, CONSEQUENTIAL OR OTHER DAMAGES. IN SUCH AN EVENT THIS LIMITATION WILL NOT APPLY TO YOU TO THE EXTENT PROHIBITED BY LAW. You acknowledge that the foregoing limitations are an essential element of the agreement between you and Textile and that in the absence of such limitations the terms and conditions set forth in these Terms would be substantially different. 17. ARBITRATION; CLASS ACTION WAIVER \u00b6 17.1 \u00b6 Introduction. This Section 17 includes an arbitration agreement and an agreement that all claims will be brought only in an individual capacity (and not as a class action or other representative proceeding). Please read it carefully. You may opt out of the arbitration agreement by following the opt out procedure described below. 17.2 \u00b6 Informal Process First You agree that in the event of any dispute between you and Textile, you will first contact Textile and make a good faith sustained effort to resolve the dispute before resorting to more formal means of resolution, including without limitation any court action. 17.3 Arbitration Agreement \u00b6 After the informal dispute resolution process any remaining dispute, controversy, or claim (collectively, \u201cClaim\u201d) relating in any way to your use of Textile\u2019s services and/or products, including the Service, or relating in any way to the communications between you and Textile or any other user of the Service, will be finally resolved by binding arbitration. This mandatory arbitration agreement applies equally to you and Textile. However, this arbitration agreement does not (a) govern any Claim by Textile for infringement of its intellectual property or access to the Service that is unauthorized or exceeds authorization granted in these Terms or (b) bar you from making use of applicable small claims court procedures in appropriate cases. If you are an individual you may opt out of this arbitration agreement within thirty (30) days of the first date you access or use this Service by following the procedure described below. Arbitration is more informal than a lawsuit in court. There is no judge or jury in arbitration. Instead, the dispute is resolve by a neutral arbitrator. Court review of an arbitration award is limited. Except to the extent the parties agree otherwise, arbitrators can award the same damages and relief that a court can award. You agree that the U.S. Federal Arbitration Act governs the interpretation and enforcement of this provision, and that you and Textile are each waiving the right to a trial by jury or to participate in a class action. This arbitration provision will survive any termination of these Terms. If you wish to begin an arbitration proceeding, after following the informal dispute resolution procedure, you must send a letter requesting arbitration and describing your claim to Textile, Inc., Attn: President, 85 Broad St., 18 th Floor - NY, NY 10004. The arbitration will be administered by the American Arbitration Association (AAA) under its rules including, if you are an individual, the AAA's Supplementary Procedures for Consumer-Related Disputes. If you are not an individual or have used the Services on behalf of an entity, the AAA's Supplementary Procedures for Consumer-Related Disputes will not be used. The AAA's rules are available at www.adr.org or by calling 1-800-778-7879. The number of arbitrators will be one. You may choose to have the arbitration conducted by telephone, based on written submissions, or in person in the county where you live or at another mutually agreed location. The arbitration will be conducted in the English language and California law will apply. Judgment on the award rendered by the arbitrator may be entered in any court having jurisdiction thereof. Payment of all filing, administration and arbitrator fees will be governed by the AAA's rules. If you are an individual and have not accessed or used the Service on behalf of an entity, we will reimburse those fees for claims totaling less than $10,000, unless the arbitrator determines the claims are frivolous, and we will not seek attorneys\u2019 fees and costs in arbitration unless the arbitrator determines the claims are frivolous. The arbitrator, and not any federal, state, or local court, will have exclusive authority to resolve any dispute relating to the interpretation, applicability, unconscionability, arbitrability, enforceability, or formation of this arbitration agreement, including any claim that all or any part of this arbitration agreement is void or voidable. However, the preceding sentence will not apply to the \u201cClass Action Waiver\u201d section below. If you do not want to arbitrate disputes with Textile and you are an individual, you may opt out of this arbitration agreement by sending an email to [ legal@textile.io ] within thirty (30) days of the first date you access or use the Service. CLASS ACTION WAIVER Any Claim must be brought in the respective party\u2019s individual capacity, and not as a plaintiff or class member in any purported class, collective, representative, multiple plaintiff, or similar proceeding (\u201cClass Action\u201d). The parties expressly waive any ability to maintain any Class Action in any forum. If the Claim is subject to arbitration, the arbitrator will not have authority to combine or aggregate similar claims or conduct any Class Action nor make an award to any person or entity not a party to the arbitration. Any claim that all or part of this Class Action Waiver is unenforceable, unconscionable, void, or voidable may be determined only by a court of competent jurisdiction and not by an arbitrator. The parties understand that any right to litigate in court, to have a judge or jury decide their case, or to be a party to a class or representative action, is waived, and that any claims must be decided individually, through arbitration. If this class action waiver is found to be unenforceable, then the entirety of the Arbitration Agreement, if otherwise effective, will be null and void. The arbitrator may award declaratory or injunctive relief only in favor of the individual party seeking relief and only to the extent necessary to provide relief warranted by that party's individual claim. If for any reason a claim proceeds in court rather than in arbitration, you and Textile each waive any right to a jury trial and each submit to the exclusive jurisdiction of the federal courts located in San Francisco, California. 18. NOTICES \u00b6 We may send you, in electronic form, information about the Service, additional information, and information the law requires us to provide. We may provide required information to you by email at the address you specified when you signed up for the Service or by access to a website that we identify. Notices emailed to you will be deemed given and received when the email is sent. If you don\u2019t consent to receive notices electronically, you must stop using the Service. You may provide legal noticed to us via email to legal@textile.io , with a duplicate copy sent via registered mail, return receipt requested, to the following address: Textile, Attn: President, 206 Jackson Street. Sunnyvale, CA 94086, USA. Any such notice, in either case, must specifically reference that it is a notice given under these Terms. 19. MISCELLANEOUS \u00b6 19.1. Severability; Entire Agreement These Terms apply to the maximum extent permitted by relevant law. If a court holds that we cannot enforce a part of these Terms as written, you and we will replace those terms with similar terms to the extent enforceable under the relevant law, but the rest of these Terms will remain in effect. This is the entire contract between you and us regarding the Service. It supersedes any prior contract or oral or written statements regarding your use of the Service. 19.2. \u00b6 Assignment and transfer We may assign, transfer, or otherwise dispose our rights and obligations under these Terms, in whole or in part, at any time without notice. You may not assign these Terms or transfer any rights to use the Service. 19.3. \u00b6 Independent Contractors; No third-party beneficiaries Textile and you are not legal partners or agents; instead, our relationship is that of independent contractors. These Terms are solely for your and our benefit. It is not for the benefit of any other person, except for permitted successors. 19.4. \u00b6 Claims You must bring any claim related to these Terms or the Service within one year of the date you could first bring the claim, unless your local law requires a longer time to file claims. If it isn\u2019t filed in time, the claim is permanently barred. 19.5. \u00b6 Waiver The failure of you or Textile to insist upon or enforce strict performance of any of the provisions of these Terms or to exercise any rights or remedies under these Terms will not be construed as a waiver or relinquishment to any extent of your right or Textile\u2019s right to assert or rely upon any such provision, right or remedy in that or any other instance; rather, the same will remain in full force and effect. 19.6. \u00b6 Government Use If you are a U.S. government entity, you acknowledge that any Software and User Guides that are provided are \u201cCommercial Items\u201d as defined at 48 C.F.R. 2.101, and are being provided as commercial computer software subject to the restricted rights described in 48 C.F.R. 2.101 and 12.212. 20. COPYRIGHT COMPLAINTS AND REMOVAL POLICY \u00b6 We reserve the right to delete or disable Content alleged to violate these Terms and to terminate repeat offenders. DMCA Take-Down Notices \u00b6 If you are a copyright owner or an agent thereof and believe, in good faith, that any materials on the Service infringe upon your copyrights, you may submit a notification pursuant to the Digital Millennium Copyright Act (see 17 U.S.C. 512) (the \u201cDMCA\u201d) by sending the following information in writing to Textile\u2019s designated copyright agent at [ legal@textile.io ]: (a) The date of your notification; (b) A physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed; \u00a9 A description of the copyrighted work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site; (d) A description of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled, and information reasonably sufficient to enable Textile to locate the material; (e) Information reasonably sufficient to permit Textile to contact you, such as an address, telephone number and/or email address; (f) A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent or the law; and (g) A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. The failure to send proper notification pursuant to the DMCA may result in our taking incomplete or no action with respect to the allegedly infringing material described in such improper notification, and under some circumstances may even result in liability to the person(s) submitting such improper notifications. Counter-Notices \u00b6 If you believe that your content that has been removed from the Service is not infringing, or that you have authorization from the copyright owner, the copyright owner\u2019s agent or pursuant to the law, to post and use the content, you may send a counter-notice containing the following information to our copyright agent using the contact information set forth above: (i) Your physical or electronic signature; (ii) A description of the content that has been removed and the location at which the content appeared before it was removed; (iii) A statement that you have a good faith belief that the content was removed as a result of mistake or a misidentification of the content; and (iv) Your name, address, telephone number and email address, a statement that you consent to the jurisdiction of the federal court in the Northern District Court of California and a statement that you will accept service of process from the person who provided notification of the alleged infringement. If a counter-notice is received by the Textile copyright agent, Textile may send a copy of the counter-notice to the original complaining party informing such person that it may reinstate the removed content in 10 business days. Unless the copyright owner files an action seeking a court order against the content provider or user, the removed content may (in Textile\u2019s discretion) be reinstated on the Service within 10 to 14 business days after receipt of the counter-notice. 21. INTELLECTUAL PROPERTY NOTICES \u00b6 All contents of the Site and Services including but not limited to design, text, software, technical drawings, configurations, graphics, other files, and their selection and arrangement are: Copyright \u00a9 Textile, and/or the proprietary property of its suppliers, affiliates, or licensors. All Rights Reserved. Textile and the Textile logo are including without limitation, either trademarks, service marks or registered trademarks of Textile, Inc., and may not be copied, imitated, or used, in whole or in part, without Textile\u2019s prior written permission or that of our suppliers or licensors. Other product and company names may be trade or service marks of their respective owners. Textile may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter that is part of the Service. Unless we have granted you licenses to our intellectual property in these Terms, our providing you with the Service does not give you any license to our intellectual property. Any rights not expressly granted herein are reserved.","title":"Terms of Service"},{"location":"policies/terms-of-service/#1-about-the-service","text":"The Service offers verification and authentication services and encryption services for users of photos and other personally collected data. The Service provides a private data storage system (\" Storage \") for users to maintain remote copies of their privately encrypted data. Storage is managed on IPFS ( https://www.ipfs.io/ ) nodes running on a user's personal device. The Service allows users to sync encrypted copies of their data privately with other devices. The service also allows users to create groups of multiple people who all use a shared encryption key to post, comment, and interact with encrypted photos and other data shared by group members (\" Sharing \" and \" Threads \"). Copies of data will be cached, on voluntary IPFS peers on the network including peers hosted by Textile, whenever a user shares data in a group Thread. Cached copies of shared data will be encrypted with keys only available to Thread members and so not readable by anyone else on the network.","title":"1. ABOUT THE SERVICE"},{"location":"policies/terms-of-service/#2-changes-to-these-terms","text":"We reserve the right to revise these Terms from time to time. We will date and post the most current version of these Terms on the Site. Any changes will be effective upon posting the revised version of these Terms (or such later effective date as may be indicated at the top of the revised Terms). If, in our sole discretion, we deem a revision to these Terms to be material, we will notify you via the Service and/or by email to the email address associated with your account. Notice of other changes may be provided via the Site. Therefore, we encourage you to check the date of these Terms whenever you visit the Site to see if these Terms have been updated. Your continued access or use of any portion of the Service constitutes your acceptance of such changes. If you don\u2019t agree to any of the changes, we\u2019re not obligated to keep providing the Service to you, and you must cancel and stop using the Service.","title":"2. CHANGES TO THESE TERMS"},{"location":"policies/terms-of-service/#3-access-to-the-service","text":"You may use the Service, on a non-exclusive basis, solely in strict compliance with these Terms and all applicable laws.","title":"3. ACCESS TO THE SERVICE"},{"location":"policies/terms-of-service/#4-your-account","text":"To obtain access to certain Services, you may be required to obtain an account with Textile (become a \u201c Registered User \u201d), by completing a registration form and designating a user ID and password. Until you apply for and are approved for an account your access to the Service will be limited to the areas of the Service, if any, that Textile makes available to the general public. When registering with Textile you must: (a) provide true, accurate, current and complete information about yourself as requested by the Service\u2019s registration form (such information being the \u201c Registration Data \u201d); and (b) maintain and promptly update the Registration Data to keep it true, accurate, current and complete. Textile may deny approval or withdraw such approval at any time in its sole discretion, with or without cause. Only you may use your Textile account. You must keep your account and passwords confidential and not authorize any third party to access or use the Service on your behalf, unless we provide an approved mechanism for such use. Textile will not be liable for any loss or damage arising from any unauthorized use of your accounts. CONTENT When providing Textile or the Service with content, such as your name, username, photos, social media names, location, data or files, or causing content to be posted, stored or transmitted using or through the Service (\u201c Your Content \u201d), including but not limited to the Registration Data and any other personal identification information that you provide, you hereby grant to us a non-exclusive, worldwide, perpetual, irrevocable, royalty-free, transferable (in whole or in part), fully-paid and sublicensable right, subject to the Privacy Policy, to use, reproduce, modify, transmit, display and distribute Your Content in any media known now or developed in the future, in connection with our provision of the Service. Further, to the fullest extent permitted under applicable law, you waive your moral rights and promise not to assert such rights or any other intellectual property or publicity rights against us, our sublicensees, or our assignees. You represent and warrant that none of the following infringe any intellectual property, publicity or other proprietary rights: your provision of Your Content to us, your causing Your Content to be posted using the Service, and use of any such content (including of works derived from it) by us, other users of the Service, or others in contract with us that is done in connection with the Service and in compliance with these Terms. You acknowledge and agree that we may access or disclose information about you or any other information or data collected, stored or processed on our servers, including Your Content, if required to do so by law or in the good-faith belief that such action is necessary to: (a) comply with any law, regulation, legal process or lawful governmental requests; (b) protect the rights or property of Textile or our customers, including the enforcement of our agreements or policies governing your use of the Service; or \u00a9 act on a good faith belief that such access or disclosure is necessary to protect the personal safety of Textile employees, customers, or the public. We retain the right to block or otherwise prevent delivery of any type of file, email or other communication to or from the Service as part of our efforts to protect the Service, protect our customers, or stop you from breaching these Terms.","title":"4. YOUR ACCOUNT"},{"location":"policies/terms-of-service/#6-consent-to-electronic-communications-and-solicitation","text":"By registering for the Service, you understand that we may send you communications or data regarding the Services, including but not limited to: (a) notices about your use of the Services, including any notices concerning violations of use; (b) updates; and \u00a9 promotional information and materials regarding Textile\u2019s products and services, via electronic mail. We give you the opportunity to opt-out of receiving promotional electronic mail from us by following the opt-out instructions provided in the message.","title":"6. CONSENT TO ELECTRONIC COMMUNICATIONS AND SOLICITATION"},{"location":"policies/terms-of-service/#8-suspension-and-termination-of-use-of-the-service","text":"We reserve the right, to temporarily suspend or terminate your access to the Service at any time in our sole discretion, with or without cause, with or without notice, and without incurring liability of any kind. For example, we may suspend or terminate your access to or use of the Service for: (a) the actual or suspected violation of these Terms; (b) the use of the Services in a manner that may cause Textile to have legal liability or disrupt others\u2019 use of the Services; \u00a9 the suspicion or detection of any malicious code, virus or other harmful code by you or in your account; (d) scheduled downtime and recurring downtime; (e) any actual or suspected effort by you to circumvent Textile\u2019s security or encryption; or (f) unplanned technical problems and outages. If, in Textile\u2019s determination, the suspension might be indefinite and/or Textile has elected to terminate your access to the Service, Textile will use commercially reasonable efforts to notify you through the Service and/or by email to the email address associated with your account. You acknowledge that if your access to the Service is suspended or terminated, you may no longer have access to Your Content that is stored with the Service.","title":"8. SUSPENSION AND TERMINATION OF USE OF THE SERVICE"},{"location":"policies/terms-of-service/#9-acceptable-use","text":"You must not use the Service to harm others or the Service. For example, you must not use the Service to harm, threaten, or harass another person, organization, or Textile. You must not: damage, disable, overburden, or impair the Service (or any network connected to the Service); resell or redistribute the Service or any part of it; use any unauthorized means to modify, reroute, or gain access to the Service or attempt to carry out these activities; or use any data mining, robots, or similar data gathering and extraction tools; or use any automated process or Service (such as a bot, a spider, or periodic caching of information stored by Textile) to access or use the Service;. In addition, you promise that you will not and will not encourage or assist any third party to: I. reproduce, modify, alter, tamper with, repair or create derivative works of any Software, unless that permission is granted in a license. Further, unless expressly prohibited under applicable law, you may not use the Service to develop, test, validate and/or improve any service that is a substitute for, or substantially similar to, the Service (including any portion thereof); II. reverse engineer, disassemble or decompile the Software used to provide or access the Service, including the Software, or attempt to discover or recreate the source code used to provide or access the Service, except and only to the extent that that permission is granted in a license or applicable law expressly permits doing so; III. use the Service in any manner or for any purpose other than as expressly permitted by these Terms, the Privacy Policy, any User Guides or any other policy, instruction or terms applicable to the Service that are available on the Service (\u201cPolicies\u201d); IV. sell, lend, rent, resell, lease, sublicense or otherwise transfer any of the rights granted to you with respect to the Services to any third party; V. remove, obscure or alter any proprietary rights notice pertaining to the Service; VI. use the Service in connection with the operation of nuclear facilities, aircraft navigation, communication systems, medical devices, air traffic control devices, real time control systems or other situations in which the failure of the Service could lead to death, personal injury, or physical property or environmental damage; VII. use the Service to: (i) engage in any unlawful or fraudulent activity or perpetrate a hoax or engage in phishing schemes or forgery or other similar falsification or manipulation of data; (ii) send unsolicited or unauthorized junk mail, spam, chain letters, pyramid schemes or any other form of duplicative or unsolicited messages, whether commercial or otherwise; (iii) store or transmit any inappropriate content, such as content: (1) containing unlawful, defamatory, threatening, abusive, libelous or otherwise objectionable material of any kind or nature, (2) containing any material that encourages conduct that could constitute a criminal offense, or (3) in a way that violates or infringes upon the intellectual property rights or the privacy or publicity rights of any person or entity or that may otherwise be unlawful or give rise to civil or criminal liability; (iv) store or transmit any content that contains or is used to initiate a denial of service attack, software viruses or other harmful or deleterious computer code, files or programs such as Trojan horses, worms, time bombs, cancelbots, or spyware; or (v) abuse, harass, stalk or otherwise violate the legal rights of a third party; VIII. interfere with or disrupt servers or networks used by Textile to provide the Service or used by other users\u2019 to access the Service, or violate any third party regulations, policies or procedures of such servers or networks or harass or interfere with another user\u2019s full use and enjoyment of any Software or the Service; IX. access or attempt to access Textile\u2019s other accounts, computer systems or networks not covered by these Terms, through password mining or any other means; X. cause, in Textile\u2019s sole discretion, inordinate burden on the Service or Textile\u2019s system resources or capacity; or XI. share passwords or other access information or devices or otherwise authorize any third party to access or use the Software or the Service. Textile reserves the right, in its sole discretion, to deactivate, change and/or require you to change your Textile user ID and any custom or vanity URLs, custom links, or vanity domains you may obtain through the Services for any reason or for no reason. Textile may exercise such right at any time, with or without prior notice. We will make all judgments concerning the applicability of these guidelines in our sole and exclusive discretion. We reserve the right, in our sole discretion, to determine whether and what action to take in response to each such notification, and any action or inaction in a particular instance will not dictate or limit our response to a future complaint. We will not assume or have any liability for any action or inaction with respect to any Your Content.","title":"9. ACCEPTABLE USE"},{"location":"policies/terms-of-service/#9-updates-to-the-service","text":"Textile reserves the right, in its sole discretion, to make necessary unscheduled deployments of changes, updates or enhancements to the Service at any time. We may add or remove functionalities or features, and we may suspend or stop the Service altogether.","title":"9. UPDATES TO THE SERVICE"},{"location":"policies/terms-of-service/#10-software","text":"If you receive Software from us, its use is governed in one of two ways: If you\u2019re presented with license terms that you must accept in order to use the Software, those terms apply; if no license is presented to you, these Terms apply. We reserve all other rights to the Software. We may automatically check your version of the Software. We may also automatically download to your computer or device new versions of the Software. Any Software is licensed, not sold. Unless we notify you otherwise, the Software license ends when your Service ends. You must then promptly uninstall the Software, or we may disable it. You must not work around any technical limitations in the Software. The Software is subject to applicable U.S. export laws and regulations. You must comply with all domestic and international export laws and regulations that apply to the Software. These laws include restrictions on destinations, end users, and end use. Without limitation, you may not transfer the Software or Service without U.S. government permission to anyone on U.S. government exclusion lists (see the Commerce Department\u2019s compliance list at http://www.bis.doc.gov/index.php/policy-guidance/lists-of-parties-of-concern . You represent and warrant that you\u2019re not on any of those lists or under the control of or an agent for anyone on those lists or the entities listed above.","title":"10. SOFTWARE"},{"location":"policies/terms-of-service/#11-third-party-services-and-content","text":"All transactions using the Services are between the transacting parties only. The Services may contain features and functionalities linking you or providing you with certain functionality and access to third party content, including Web sites, directories, servers, networks, systems, information and databases, applications, software, programs, products or services, and the Internet as a whole; you acknowledge that we are not responsible for such content or services. We may also provide some content to you as part of the Services. However, Textile is not an agent of any transacting party, nor or we a direct party in any such transaction. Any such activities, and any terms associated with such activities, are solely between you and the applicable third-party. Similarly, we are not responsible for any third party content you access with the Services, and you irrevocably waive any claim against us with respect to such sites and third-party content. Textile shall have no liability, obligation or responsibility for any such correspondence, purchase or promotion between you and any such third-party. You should make whatever investigation you feel necessary or appropriate before proceeding with any online or offline transaction with any of these third parties. You are solely responsible for your dealings with any third party related to the Services, including the delivery of and payment for goods and services.","title":"11. THIRD PARTY SERVICES AND CONTENT"},{"location":"policies/terms-of-service/#12-textile-proprietary-rights","text":"As between Textile and you, Textile or its licensors own and reserve all right, title and interest in and to the Service and all hardware, software and other items used to provide the Service, other than the rights explicitly granted to you to use the Service in accordance with this Terms. No title to or ownership of any proprietary rights related to the Service is transferred to you pursuant to these Terms. All rights not explicitly granted to you are reserved by Textile. In the event that you provide comments, suggestions and recommendations to Textile with respect to the Service (including, without limitation, with respect to modifications, enhancements, improvements and other changes to the Service) (collectively, \u201cFeedback\u201d), you hereby grant to Textile a world-wide, royalty free, irrevocable, perpetual license to use and otherwise incorporate any Feedback in connection with the Service.","title":"12. TEXTILE PROPRIETARY RIGHTS"},{"location":"policies/terms-of-service/#13-privacy","text":"In order to operate and provide the Service, we collect certain information about you. We use that information as described in the privacy policy located at https://github.com/textileio/textile-mobile/blob/master/PRIVACY.md (\u201c Privacy Policy \u201d).","title":"13. PRIVACY"},{"location":"policies/terms-of-service/#14-no-warranty","text":"TEXTILE PROVIDES THE SERVICE \u201cAS IS\u201d, \u201cWITH ALL FAULTS\u201d AND \u201cAS AVAILABLE\u201d. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, TEXTILE MAKES NO (AND SPECIFICALLY DISCLAIMS ALL) REPRESENTATIONS OR WARRANTIES OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, INCLUDING, WITHOUT LIMITATION, ANY WARRANTY THAT THE SERVICE WILL BE UNINTERRUPTED, ERROR-FREE OR FREE OF HARMFUL COMPONENTS, THAT YOUR CONTENT WILL BE SECURE OR NOT OTHERWISE LOST OR DAMAGED, OR ANY IMPLIED WARRANTY OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT, AND ANY WARRANTY ARISING OUT OF ANY COURSE OF PERFORMANCE, COURSE OF DEALING OR USAGE OF TRADE. SOME JURISDICTIONS DO NOT ALLOW THE FOREGOING EXCLUSIONS. IN SUCH AN EVENT SUCH EXCLUSION WILL NOT APPLY SOLELY TO THE EXTENT PROHIBITED BY APPLICABLE LAW. You hereby acknowledge and agree that this disclaimer of warranties is a fundamental part of the agreement between you and Textile contained in these Terms and that Textile would not agree to enter these Terms or allow you access or use the Service without such disclaimers.","title":"14. NO WARRANTY"},{"location":"policies/terms-of-service/#15-indemnification","text":"You will defend Textile against any cost, loss, damage, or other liability arising from any third party demand or claim that any Your Content, or your use of the Service, in breach of these Terms: (a) infringes a registered patent, registered trademark, or copyright of a third party, or misappropriates a trade secret (to the extent that such misappropriation is not the result of Textile\u2019s actions); or (b) violates applicable law or these Terms. Textile will reasonably notify you of any such claim or demand that is subject to your indemnification obligation.","title":"15. INDEMNIFICATION"},{"location":"policies/terms-of-service/#16-limitation-of-liability","text":"TO THE FULLEST EXTENT PERMITTED BY LAW, IN NO EVENT WILL TEXTILE, ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS OR LICENSORS BE LIABLE FOR: ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE, COVER OR CONSEQUENTIAL DAMAGES, OR DAMAGES FOR LOST PROFITS, REVENUE, GOODWILL, USE OR CONTENT, HOWEVER CAUSED, UNDER ANY THEORY OF LIABILITY, INCLUDING, WITHOUT LIMITATION, CONTRACT, TORT, WARRANTY, NEGLIGENCE OR OTHERWISE, EVEN IF TEXTILE HAS BEEN ADVISED AS TO THE POSSIBILITY OF SUCH DAMAGES. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE AGGREGATE LIABILITY OF TEXTILE AND ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS OR LICENSORS, RELATING TO THE SERVICES WILL BE LIMITED TO FIFTY DOLLARS ($50.00). THE LIMITATIONS AND EXCLUSIONS ALSO APPLY IF THIS REMEDY DOES NOT FULLY COMPENSATE YOU FOR ANY LOSSES OR FAILS OF ITS ESSENTIAL PURPOSE. SOME JURISDICTIONS DO NOT ALLOW THE LIMITATION OF INCIDENTAL, CONSEQUENTIAL OR OTHER DAMAGES. IN SUCH AN EVENT THIS LIMITATION WILL NOT APPLY TO YOU TO THE EXTENT PROHIBITED BY LAW. You acknowledge that the foregoing limitations are an essential element of the agreement between you and Textile and that in the absence of such limitations the terms and conditions set forth in these Terms would be substantially different.","title":"16. LIMITATION OF LIABILITY"},{"location":"policies/terms-of-service/#17-arbitration-class-action-waiver","text":"","title":"17. ARBITRATION; CLASS ACTION WAIVER"},{"location":"policies/terms-of-service/#171","text":"Introduction. This Section 17 includes an arbitration agreement and an agreement that all claims will be brought only in an individual capacity (and not as a class action or other representative proceeding). Please read it carefully. You may opt out of the arbitration agreement by following the opt out procedure described below.","title":"17.1"},{"location":"policies/terms-of-service/#172","text":"Informal Process First You agree that in the event of any dispute between you and Textile, you will first contact Textile and make a good faith sustained effort to resolve the dispute before resorting to more formal means of resolution, including without limitation any court action.","title":"17.2"},{"location":"policies/terms-of-service/#173-arbitration-agreement","text":"After the informal dispute resolution process any remaining dispute, controversy, or claim (collectively, \u201cClaim\u201d) relating in any way to your use of Textile\u2019s services and/or products, including the Service, or relating in any way to the communications between you and Textile or any other user of the Service, will be finally resolved by binding arbitration. This mandatory arbitration agreement applies equally to you and Textile. However, this arbitration agreement does not (a) govern any Claim by Textile for infringement of its intellectual property or access to the Service that is unauthorized or exceeds authorization granted in these Terms or (b) bar you from making use of applicable small claims court procedures in appropriate cases. If you are an individual you may opt out of this arbitration agreement within thirty (30) days of the first date you access or use this Service by following the procedure described below. Arbitration is more informal than a lawsuit in court. There is no judge or jury in arbitration. Instead, the dispute is resolve by a neutral arbitrator. Court review of an arbitration award is limited. Except to the extent the parties agree otherwise, arbitrators can award the same damages and relief that a court can award. You agree that the U.S. Federal Arbitration Act governs the interpretation and enforcement of this provision, and that you and Textile are each waiving the right to a trial by jury or to participate in a class action. This arbitration provision will survive any termination of these Terms. If you wish to begin an arbitration proceeding, after following the informal dispute resolution procedure, you must send a letter requesting arbitration and describing your claim to Textile, Inc., Attn: President, 85 Broad St., 18 th Floor - NY, NY 10004. The arbitration will be administered by the American Arbitration Association (AAA) under its rules including, if you are an individual, the AAA's Supplementary Procedures for Consumer-Related Disputes. If you are not an individual or have used the Services on behalf of an entity, the AAA's Supplementary Procedures for Consumer-Related Disputes will not be used. The AAA's rules are available at www.adr.org or by calling 1-800-778-7879. The number of arbitrators will be one. You may choose to have the arbitration conducted by telephone, based on written submissions, or in person in the county where you live or at another mutually agreed location. The arbitration will be conducted in the English language and California law will apply. Judgment on the award rendered by the arbitrator may be entered in any court having jurisdiction thereof. Payment of all filing, administration and arbitrator fees will be governed by the AAA's rules. If you are an individual and have not accessed or used the Service on behalf of an entity, we will reimburse those fees for claims totaling less than $10,000, unless the arbitrator determines the claims are frivolous, and we will not seek attorneys\u2019 fees and costs in arbitration unless the arbitrator determines the claims are frivolous. The arbitrator, and not any federal, state, or local court, will have exclusive authority to resolve any dispute relating to the interpretation, applicability, unconscionability, arbitrability, enforceability, or formation of this arbitration agreement, including any claim that all or any part of this arbitration agreement is void or voidable. However, the preceding sentence will not apply to the \u201cClass Action Waiver\u201d section below. If you do not want to arbitrate disputes with Textile and you are an individual, you may opt out of this arbitration agreement by sending an email to [ legal@textile.io ] within thirty (30) days of the first date you access or use the Service. CLASS ACTION WAIVER Any Claim must be brought in the respective party\u2019s individual capacity, and not as a plaintiff or class member in any purported class, collective, representative, multiple plaintiff, or similar proceeding (\u201cClass Action\u201d). The parties expressly waive any ability to maintain any Class Action in any forum. If the Claim is subject to arbitration, the arbitrator will not have authority to combine or aggregate similar claims or conduct any Class Action nor make an award to any person or entity not a party to the arbitration. Any claim that all or part of this Class Action Waiver is unenforceable, unconscionable, void, or voidable may be determined only by a court of competent jurisdiction and not by an arbitrator. The parties understand that any right to litigate in court, to have a judge or jury decide their case, or to be a party to a class or representative action, is waived, and that any claims must be decided individually, through arbitration. If this class action waiver is found to be unenforceable, then the entirety of the Arbitration Agreement, if otherwise effective, will be null and void. The arbitrator may award declaratory or injunctive relief only in favor of the individual party seeking relief and only to the extent necessary to provide relief warranted by that party's individual claim. If for any reason a claim proceeds in court rather than in arbitration, you and Textile each waive any right to a jury trial and each submit to the exclusive jurisdiction of the federal courts located in San Francisco, California.","title":"17.3 Arbitration Agreement"},{"location":"policies/terms-of-service/#18-notices","text":"We may send you, in electronic form, information about the Service, additional information, and information the law requires us to provide. We may provide required information to you by email at the address you specified when you signed up for the Service or by access to a website that we identify. Notices emailed to you will be deemed given and received when the email is sent. If you don\u2019t consent to receive notices electronically, you must stop using the Service. You may provide legal noticed to us via email to legal@textile.io , with a duplicate copy sent via registered mail, return receipt requested, to the following address: Textile, Attn: President, 206 Jackson Street. Sunnyvale, CA 94086, USA. Any such notice, in either case, must specifically reference that it is a notice given under these Terms.","title":"18. NOTICES"},{"location":"policies/terms-of-service/#19-miscellaneous","text":"19.1. Severability; Entire Agreement These Terms apply to the maximum extent permitted by relevant law. If a court holds that we cannot enforce a part of these Terms as written, you and we will replace those terms with similar terms to the extent enforceable under the relevant law, but the rest of these Terms will remain in effect. This is the entire contract between you and us regarding the Service. It supersedes any prior contract or oral or written statements regarding your use of the Service.","title":"19. MISCELLANEOUS"},{"location":"policies/terms-of-service/#192","text":"Assignment and transfer We may assign, transfer, or otherwise dispose our rights and obligations under these Terms, in whole or in part, at any time without notice. You may not assign these Terms or transfer any rights to use the Service.","title":"19.2."},{"location":"policies/terms-of-service/#193","text":"Independent Contractors; No third-party beneficiaries Textile and you are not legal partners or agents; instead, our relationship is that of independent contractors. These Terms are solely for your and our benefit. It is not for the benefit of any other person, except for permitted successors.","title":"19.3."},{"location":"policies/terms-of-service/#194","text":"Claims You must bring any claim related to these Terms or the Service within one year of the date you could first bring the claim, unless your local law requires a longer time to file claims. If it isn\u2019t filed in time, the claim is permanently barred.","title":"19.4."},{"location":"policies/terms-of-service/#195","text":"Waiver The failure of you or Textile to insist upon or enforce strict performance of any of the provisions of these Terms or to exercise any rights or remedies under these Terms will not be construed as a waiver or relinquishment to any extent of your right or Textile\u2019s right to assert or rely upon any such provision, right or remedy in that or any other instance; rather, the same will remain in full force and effect.","title":"19.5."},{"location":"policies/terms-of-service/#196","text":"Government Use If you are a U.S. government entity, you acknowledge that any Software and User Guides that are provided are \u201cCommercial Items\u201d as defined at 48 C.F.R. 2.101, and are being provided as commercial computer software subject to the restricted rights described in 48 C.F.R. 2.101 and 12.212.","title":"19.6."},{"location":"policies/terms-of-service/#20-copyright-complaints-and-removal-policy","text":"We reserve the right to delete or disable Content alleged to violate these Terms and to terminate repeat offenders.","title":"20. COPYRIGHT COMPLAINTS AND REMOVAL POLICY"},{"location":"policies/terms-of-service/#dmca-take-down-notices","text":"If you are a copyright owner or an agent thereof and believe, in good faith, that any materials on the Service infringe upon your copyrights, you may submit a notification pursuant to the Digital Millennium Copyright Act (see 17 U.S.C. 512) (the \u201cDMCA\u201d) by sending the following information in writing to Textile\u2019s designated copyright agent at [ legal@textile.io ]: (a) The date of your notification; (b) A physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed; \u00a9 A description of the copyrighted work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site; (d) A description of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled, and information reasonably sufficient to enable Textile to locate the material; (e) Information reasonably sufficient to permit Textile to contact you, such as an address, telephone number and/or email address; (f) A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent or the law; and (g) A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. The failure to send proper notification pursuant to the DMCA may result in our taking incomplete or no action with respect to the allegedly infringing material described in such improper notification, and under some circumstances may even result in liability to the person(s) submitting such improper notifications.","title":"DMCA Take-Down Notices"},{"location":"policies/terms-of-service/#counter-notices","text":"If you believe that your content that has been removed from the Service is not infringing, or that you have authorization from the copyright owner, the copyright owner\u2019s agent or pursuant to the law, to post and use the content, you may send a counter-notice containing the following information to our copyright agent using the contact information set forth above: (i) Your physical or electronic signature; (ii) A description of the content that has been removed and the location at which the content appeared before it was removed; (iii) A statement that you have a good faith belief that the content was removed as a result of mistake or a misidentification of the content; and (iv) Your name, address, telephone number and email address, a statement that you consent to the jurisdiction of the federal court in the Northern District Court of California and a statement that you will accept service of process from the person who provided notification of the alleged infringement. If a counter-notice is received by the Textile copyright agent, Textile may send a copy of the counter-notice to the original complaining party informing such person that it may reinstate the removed content in 10 business days. Unless the copyright owner files an action seeking a court order against the content provider or user, the removed content may (in Textile\u2019s discretion) be reinstated on the Service within 10 to 14 business days after receipt of the counter-notice.","title":"Counter-Notices"},{"location":"policies/terms-of-service/#21-intellectual-property-notices","text":"All contents of the Site and Services including but not limited to design, text, software, technical drawings, configurations, graphics, other files, and their selection and arrangement are: Copyright \u00a9 Textile, and/or the proprietary property of its suppliers, affiliates, or licensors. All Rights Reserved. Textile and the Textile logo are including without limitation, either trademarks, service marks or registered trademarks of Textile, Inc., and may not be copied, imitated, or used, in whole or in part, without Textile\u2019s prior written permission or that of our suppliers or licensors. Other product and company names may be trade or service marks of their respective owners. Textile may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter that is part of the Service. Unless we have granted you licenses to our intellectual property in these Terms, our providing you with the Service does not give you any license to our intellectual property. Any rights not expressly granted herein are reserved.","title":"21. INTELLECTUAL PROPERTY NOTICES"}]}